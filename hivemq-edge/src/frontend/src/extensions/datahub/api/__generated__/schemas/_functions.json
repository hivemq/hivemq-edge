{
  "anyOf": [
    {
      "title": "Mqtt.disconnect",
      "description": "Disconnects the client.",
      "type": "object",
      "required": [],
      "metaData": {
        "inLicenseAllowed": false,
        "isTerminal": true,
        "isDataOnly": false,
        "hasArguments": false,
        "supportedEvents": ["Mqtt.OnInboundConnect", "Mqtt.OnInboundPublish", "Mqtt.OnInboundSubscribe"]
      },
      "properties": {}
    },
    {
      "title": "Mqtt.UserProperties.add",
      "description": "Adds a user property to the MQTT message.",
      "type": "object",
      "required": ["name", "value"],
      "metaData": {
        "inLicenseAllowed": false,
        "isTerminal": false,
        "isDataOnly": false,
        "hasArguments": true,
        "supportedEvents": [
          "Mqtt.OnInboundConnect",
          "Mqtt.OnInboundPublish",
          "Mqtt.OnInboundSubscribe",
          "Mqtt.OnInboundDisconnect"
        ]
      },
      "properties": {
        "name": {
          "type": "string",
          "title": "name",
          "description": "Specifies the name of the user property. Multiple user properties with the same name are allowed.",
          "format": "interpolation",
          "metadata": {}
        },
        "value": {
          "type": "string",
          "title": "value",
          "description": "Specifies the value of the user property.",
          "metadata": {}
        }
      }
    },
    {
      "title": "System.log",
      "description": "Logs a message on the given level.",
      "type": "object",
      "required": ["level", "message"],
      "metaData": {
        "inLicenseAllowed": false,
        "isTerminal": false,
        "isDataOnly": true,
        "hasArguments": true,
        "supportedEvents": [
          "Event.OnAny",
          "Mqtt.OnInboundConnect",
          "Mqtt.OnInboundPublish",
          "Mqtt.OnInboundSubscribe",
          "Mqtt.OnInboundDisconnect",
          "Connection.OnDisconnect"
        ]
      },
      "properties": {
        "level": {
          "type": "string",
          "title": "Log Level",
          "description": "Specifies the log level of the function.",
          "format": "interpolation",
          "metadata": {}
        },
        "message": {
          "type": "string",
          "title": "Message",
          "description": "Adds a user-defined string that prints to the log file. For more information, see Example log message.",
          "format": "interpolation",
          "metadata": {}
        }
      }
    },
    {
      "title": "Delivery.redirectTo",
      "description": "Redirects an MQTT PUBLISH message to a specified topic.",
      "type": "object",
      "required": ["topic", "applyPolicies"],
      "metaData": {
        "inLicenseAllowed": true,
        "isTerminal": true,
        "isDataOnly": false,
        "hasArguments": true,
        "supportedEvents": []
      },
      "properties": {
        "topic": {
          "type": "string",
          "title": "topic",
          "description": "The destination MQTT topic according to the MQTT specification.",
          "format": "interpolation",
          "metadata": {}
        },
        "applyPolicies": {
          "type": "boolean",
          "title": "applyPolicies",
          "description": "Defines whether policies are executed after publishing to a different topic.",
          "format": "interpolation",
          "metadata": {}
        }
      }
    },
    {
      "title": "Serdes.deserialize",
      "description": "Deserializes a binary MQTT message payload into a data object based on the configured JSON or Protobuf Schema.",
      "type": "object",
      "required": ["schemaId", "schemaVersion"],
      "metaData": {
        "inLicenseAllowed": true,
        "isTerminal": false,
        "isDataOnly": false,
        "hasArguments": true,
        "supportedEvents": []
      },
      "properties": {
        "schemaId": {
          "type": "string",
          "title": "schemaId",
          "description": "The identifier of the JSON or Protobuf Schema to be used for deserialization.",
          "format": "interpolation",
          "metadata": {}
        },
        "schemaVersion": {
          "type": "string",
          "title": "schemaVersion",
          "description": "The version of the schema to be used for deserialization.",
          "format": "interpolation",
          "metadata": {}
        }
      }
    },
    {
      "title": "Mqtt.drop",
      "description": "Drops the MQTT XXXXXXXXXX packet that is currently processed.",
      "type": "object",
      "required": [],
      "metaData": {
        "inLicenseAllowed": false,
        "isTerminal": true,
        "isDataOnly": false,
        "hasArguments": true,
        "supportedEvents": ["Mqtt.OnInboundPublish", "Mqtt.OnInboundSubscribe"]
      },
      "properties": {
        "reasonString": {
          "type": "string",
          "title": "reasonString",
          "description": "Specifies the reason string that is returned to MQTT 5 clients.",
          "format": "interpolation",
          "metadata": {}
        }
      }
    },
    {
      "title": "Serdes.serialize",
      "description": "Serializes a data object into a binary MQTT message payload based on the configured JSON Schema. Protobuf Schemas are currently not supported for serialization.",
      "type": "object",
      "required": ["schemaId", "schemaVersion"],
      "metaData": {
        "inLicenseAllowed": true,
        "isTerminal": false,
        "isDataOnly": false,
        "hasArguments": true,
        "supportedEvents": []
      },
      "properties": {
        "schemaId": {
          "type": "string",
          "title": "schemaId",
          "description": "The identifier of the JSON Schema to be used for serialization",
          "format": "interpolation",
          "metadata": {}
        },
        "schemaVersion": {
          "type": "string",
          "title": "schemaVersion",
          "description": "The version of the schema to be used for serialization.",
          "format": "interpolation",
          "metadata": {}
        }
      }
    },
    {
      "title": "Metrics.Counter.increment",
      "description": "Increments a metric of type counter, which can be accessed with monitoring.",
      "type": "object",
      "required": ["metricName", "incrementBy"],
      "metaData": {
        "inLicenseAllowed": false,
        "isTerminal": false,
        "isDataOnly": true,
        "hasArguments": true,
        "supportedEvents": [
          "Event.OnAny",
          "Mqtt.OnInboundConnect",
          "Mqtt.OnInboundPublish",
          "Mqtt.OnInboundSubscribe",
          "Mqtt.OnInboundDisconnect",
          "Connection.OnDisconnect"
        ]
      },
      "properties": {
        "metricName": {
          "type": "string",
          "title": "metricName",
          "description": "Specifies the name of the metric to be incremented.",
          "metadata": {}
        },
        "incrementBy": {
          "type": "integer",
          "title": "incrementBy",
          "description": "Specifies the amount by which the counter should be incremented. Negative values are supported.",
          "format": "interpolation",
          "metadata": {}
        }
      }
    },
    {
      "title": "fn:Script-7:1",
      "description": "Calls a transform script to modify the publish.",
      "type": "object",
      "required": ["transform"],
      "metaData": {
        "inLicenseAllowed": true,
        "isTerminal": false,
        "isDataOnly": false,
        "hasArguments": true,
        "supportedEvents": []
      },
      "properties": {
        "transform": {
          "type": "string",
          "title": "Function name",
          "description": "The script name that should be called.",
          "format": "datahub:function-name",
          "metadata": {}
        }
      }
    }
  ]
}
