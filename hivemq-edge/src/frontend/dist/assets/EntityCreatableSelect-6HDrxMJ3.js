import{r as C,j as t,ai as p,ah as I,u as S,aj as O,a2 as P,a3 as A,T as j}from"./index-cMih3SEP.js";import{u as _}from"./useGetDomainTags-VyBNKn6z.js";import{u as F}from"./useListTopicFilters-BbjQizvN.js";import{T as y,P as w,a as G}from"./EntityTag-D_VD81fJ.js";import{u as R}from"./useGetAdapterTypes-Dufd8ZhJ.js";import{u as k}from"./useListProtocolAdapters-B80RXV7q.js";import{u as D}from"./useListBridges-BwHrTuI4.js";import{m as B}from"./topics-utils-l3ij3e8P.js";import{C as V}from"./creatable-select-CDfhMLkq.js";import{S as $}from"./select-Cl6Duh2E.js";import{c as z,b as x}from"./use-chakra-select-props-D5NVA-bJ.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="8434afcf-152f-4518-9137-36cfbd4001d7",e._sentryDebugIdIdentifier="sentry-dbid-8434afcf-152f-4518-9137-36cfbd4001d7")}catch{}})();var n=(e=>(e.TOPIC="TOPIC",e.TOPIC_FILTER="TOPIC_FILTER",e.TAG="TAG",e))(n||{});const H={publishOnly:!0,branchOnly:!1},N=e=>(r,s)=>{if(e.publishOnly&&s.match(/[+#$]/gi))return r;if(e.branchOnly){const o=s.split("/").slice(0,-1).join("/");return o.length&&r.push(o),r}return r.push(s),r},q=e=>{const{data:r,isLoading:s,isError:a,isSuccess:o,error:i}=R(),{data:c,isLoading:d,isSuccess:u,isError:T,error:f}=k(),{data:m,isLoading:b,isSuccess:l,isError:g,error:E}=D();return{data:C.useMemo(()=>{const L={...H,...e};return B(r,c,m,e==null?void 0:e.useOrigin).reduce(N(L),[]).sort()},[r,c,m,e]),isSuccess:o&&u&&l,isLoading:b||d||s,isError:g||T||a,error:i||f||E}},J=(e,r)=>({DropdownIndicator:null,Option:({children:s,...a})=>{const{__isNew__:o}=a.data;return t.jsx(x.Option,{...a,children:t.jsxs(P,{children:[r===n.TOPIC&&t.jsx(I,{mr:2,h:5,w:5,"data-option-type":r}),r===n.TAG&&t.jsx(p,{mr:2,h:5,w:5,"data-option-type":r}),r===n.TOPIC_FILTER&&t.jsx(O,{mr:2,h:5,w:5,"data-option-type":r}),t.jsxs(A,{gap:0,alignItems:"flex-start",children:[!o&&t.jsx("code",{children:a.data.label}),o&&t.jsx(j,{children:a.data.label}),t.jsx(j,{fontSize:"sm",children:a.data.description})]})]})})},Control:({children:s,...a})=>t.jsxs(x.Control,{...a,children:[!e&&r===n.TOPIC&&t.jsx(I,{mr:0,ml:3,"data-option-type":r}),!e&&r===n.TAG&&t.jsx(p,{mr:0,ml:3,"data-option-type":r}),!e&&r===n.TOPIC_FILTER&&t.jsx(O,{mr:0,ml:3,"data-option-type":r}),s]}),MultiValueContainer:({children:s,...a})=>t.jsxs(x.MultiValueContainer,{...a,sx:{},children:[r===n.TOPIC&&t.jsx(y,{tagTitle:s,mr:3}),r===n.TAG&&t.jsx(w,{tagTitle:s,mr:3}),r===n.TOPIC_FILTER&&t.jsx(G,{tagTitle:s,mr:3})]})}),h=({type:e,isCreatable:r=!1,isMulti:s=!1,options:a,isLoading:o,id:i,onChange:c,value:d})=>{const{t:u}=S("components"),T=C.useMemo(()=>d===null?null:s?d.map(l=>({label:l,value:l})):{label:d,value:d},[s,d]),f=C.useCallback(l=>{if(l===null){c(null);return}if(s){c(l.map(g=>g.value));return}c(l.value)},[s,c]),m={trim:!1},b=r?V:$;return t.jsx(b,{options:a,isMulti:s,isLoading:o,"aria-label":u("EntityCreatableSelect.aria-label",{context:e}),placeholder:u("EntityCreatableSelect.placeholder",{context:e}),noOptionsMessage:()=>u("EntityCreatableSelect.options.noOptionsMessage",{context:e}),formatCreateLabel:l=>u("EntityCreatableSelect.options.createLabel",{context:e,entity:l}),id:i,instanceId:e,inputId:`react-select-${e}-input`,isClearable:!0,isSearchable:!0,selectedOptionStyle:"check",components:J(s,e),filterOption:z(m),value:T,onChange:f})},te=e=>{const{data:r,isLoading:s}=q({publishOnly:!1}),a=r.map(o=>({label:o,value:o}))||[];return t.jsx(h,{type:n.TOPIC,options:a,isLoading:s,icon:I,...e})},ae=e=>{var o;const{data:r,isLoading:s}=F(),a=((o=r==null?void 0:r.items)==null?void 0:o.map(i=>({label:i.topicFilter,value:i.topicFilter,description:i.description})))||[];return t.jsx(h,{type:n.TOPIC_FILTER,options:a,isLoading:s,icon:p,...e})},oe=({adapterId:e,...r})=>{var i;const{data:s,isLoading:a}=_(e),o=((i=s==null?void 0:s.items)==null?void 0:i.map(c=>({label:c.name,value:c.name})))||[];return t.jsx(h,{type:n.TAG,options:o,isLoading:a,icon:p,...r})};export{oe as S,te as a,ae as b,n as c};
//# sourceMappingURL=EntityCreatableSelect-6HDrxMJ3.js.map
