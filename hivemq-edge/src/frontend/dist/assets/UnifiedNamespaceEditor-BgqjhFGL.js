import{u as N,a6 as w,j as e,F as h,a7 as n,a8 as l,al as c,aa as p,am as j,an as C,T as F,h as S,b as v,r as k,D,M as E,p as L,q as _,s as I,v as M,x as O,B as z}from"./index-cMih3SEP.js";import{N as B,a as R,u as U,b as Z}from"./NamespaceDisplay-Kn5obyAg.js";import{u as $}from"./useValidationRules-BWaG7mDN.js";import{G as P}from"./chunk-JARCRF6W-CHhnzfpl.js";import{u as G}from"./useEdgeToast-ulWoRSS2.js";import"./chunk-QOOL75FN-CzSDf2Xj.js";import"./toast-utils-BddXXXrS.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new s.Error().stack;o&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[o]="0f5b6e64-9910-480c-88a6-f492a798078c",s._sentryDebugIdIdentifier="sentry-dbid-0f5b6e64-9910-480c-88a6-f492a798078c")}catch{}})();const d={properties:{area:{type:"string",description:"The area",isNullable:!0,pattern:"^[a-zA-Z0-9 -_]*$"},enterprise:{type:"string",description:"The enterprise",isNullable:!0,pattern:"^[a-zA-Z0-9 -_]*"},prefixAllTopics:{type:"boolean",description:"Should all topics be prefixed with UNS placeholders"},productionLine:{type:"string",description:"The productionLine",isNullable:!0,pattern:"^[a-zA-Z0-9 -_]*$"},site:{type:"string",description:"The site",isNullable:!0,pattern:"^[a-zA-Z0-9 -_]*$"},workCell:{type:"string",description:"The workCell",isNullable:!0,pattern:"^[a-zA-Z0-9 -_]*$"}}},m=()=>e.jsx(F,{pt:"2.33rem",textAlign:"center",children:R}),V=({defaultValues:s,onSubmit:o})=>{const{t:i}=N(),{register:a,handleSubmit:u,watch:f,formState:{errors:r}}=w({defaultValues:{...s,enabled:!0}}),t=$(),x=f();return e.jsx("form",{id:"namespace-form",onSubmit:u(o),children:e.jsxs(h,{flexDirection:"column",gap:6,children:[e.jsxs(n,{children:[e.jsx(l,{htmlFor:"unifiedNamespace-preview",children:i("unifiedNamespace.preview.label")}),e.jsx(B,{namespace:x,fontSize:"sm"})]}),e.jsx(h,{flexDirection:"column",gap:4,children:e.jsxs(P,{templateColumns:"repeat(2, 1fr 20px)",gap:6,children:[e.jsxs(n,{isInvalid:!!r.enterprise,children:[e.jsx(l,{htmlFor:"unifiedNamespace-enterprise",children:i("unifiedNamespace.enterprise.label")}),e.jsx(c,{id:"unifiedNamespace-enterprise",...a("enterprise",{...t(d.properties.enterprise)})}),!r.enterprise&&e.jsx(p,{children:i("unifiedNamespace.enterprise.helper")}),e.jsx(j,{children:r.enterprise&&r.enterprise.message})]}),e.jsx(m,{}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"unifiedNamespace-site",children:i("unifiedNamespace.site.label")}),e.jsx(c,{id:"unifiedNamespace-site",...a("site",{...t(d.properties.site)})}),e.jsx(p,{children:i("unifiedNamespace.site.helper")})]}),e.jsx(m,{}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"unifiedNamespace-area",children:i("unifiedNamespace.area.label")}),e.jsx(c,{id:"unifiedNamespace-area",...a("area",{...t(d.properties.area)})}),e.jsx(p,{children:i("unifiedNamespace.area.helper")})]}),e.jsx(m,{}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"unifiedNamespace-productionLine",children:i("unifiedNamespace.productionLine.label")}),e.jsx(c,{id:"unifiedNamespace-productionLine",...a("productionLine",{...t(d.properties.productionLine)})}),e.jsx(p,{children:i("unifiedNamespace.productionLine.helper")})]}),e.jsx(m,{}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"unifiedNamespace-workCell",children:i("unifiedNamespace.workCell.label")}),e.jsx(c,{id:"unifiedNamespace-workCell",...a("workCell",{...t(d.properties.workCell)})}),e.jsx(p,{children:i("unifiedNamespace.workCell.helper")})]})]})}),e.jsxs(n,{as:"fieldset",isInvalid:!!r.prefixAllTopics,children:[e.jsx(l,{as:"legend",children:i("unifiedNamespace.options.legend")}),e.jsx(C,{"data-testid":"unifiedNamespace-prefixAllTopics",id:"unifiedNamespace-prefixAllTopics",...a("prefixAllTopics",{...t(d.properties.prefixAllTopics)}),children:i("unifiedNamespace.prefixAllTopics.label")}),e.jsxs(p,{children:[" ",i("unifiedNamespace.prefixAllTopics.helper")]}),e.jsx(j,{children:r.prefixAllTopics&&r.prefixAllTopics.message})]})]})})},Y=()=>{const{t:s}=N(),{isOpen:o,onOpen:i,onClose:a}=S(),u=v(),{successToast:f,errorToast:r}=G(),{data:t}=U(),{isPending:x,mutateAsync:b}=Z();k.useEffect(()=>{i()},[i]);const g=()=>{a(),u("/namespace")},y=A=>{b({requestBody:A}).then(()=>{f({title:s("unifiedNamespace.toast.update.title"),description:s("unifiedNamespace.toast.update.description")})}).catch(T=>r({title:s("unifiedNamespace.toast.update.title"),description:s("unifiedNamespace.toast.update.error")},T)),a(),u("/namespace")};return t?e.jsxs(D,{closeOnOverlayClick:!1,size:"lg",isOpen:o,placement:"right",onClose:g,children:[e.jsx(E,{}),e.jsxs(L,{"aria-label":s("bridge.drawer.label"),children:[e.jsx(_,{}),e.jsx(I,{id:"bridge-form-header",borderBottomWidth:"1px",children:s("unifiedNamespace.title")}),e.jsx(M,{children:e.jsx(V,{defaultValues:t,onSubmit:y})}),e.jsx(O,{children:e.jsx(z,{variant:"primary",isLoading:x,type:"submit",form:"namespace-form",children:s("unifiedNamespace.submit.label")})})]})]}):null};export{Y as default};
//# sourceMappingURL=UnifiedNamespaceEditor-BgqjhFGL.js.map
