{"version":3,"file":"useEdgeToast-ulWoRSS2.js","sources":["../../src/hooks/useEdgeToast/useEdgeToast.tsx"],"sourcesContent":["import type { UseToastOptions } from '@chakra-ui/react'\nimport { Text, useToast } from '@chakra-ui/react'\n\nimport type { ApiError } from '@/api/__generated__'\nimport type { ProblemDetailsExtended } from '@/api/types/http-problem-details.ts'\nimport { DEFAULT_TOAST_OPTION } from '@/hooks/useEdgeToast/toast-utils.ts'\n\nexport const useEdgeToast = () => {\n  const createToast = useToast()\n\n  const successToast = (options: UseToastOptions) =>\n    createToast({\n      ...DEFAULT_TOAST_OPTION,\n      ...options,\n    })\n\n  const errorToast = (options: UseToastOptions, err: Error) => {\n    const { body } = err as ApiError\n    if ((options.id && !createToast.isActive(options.id)) || !options.id)\n      createToast({\n        ...DEFAULT_TOAST_OPTION,\n        ...options,\n        status: 'error',\n        description: (\n          <>\n            <Text>{options?.description}</Text>\n            {!body && <Text>{err.message}</Text>}\n            {body && body.message && <Text>{body.message}</Text>}\n            {body?.errors?.map((e: ProblemDetailsExtended) => (\n              <Text key={e.fieldName as string}>\n                {e.fieldName as string} : {e.detail || e.title}\n              </Text>\n            ))}\n          </>\n        ),\n      })\n  }\n\n  return { successToast, errorToast }\n}\n"],"names":["useEdgeToast","createToast","useToast","options","DEFAULT_TOAST_OPTION","err","body","jsxs","Fragment","jsx","Text","_a","e"],"mappings":"6ZAOO,MAAMA,EAAe,IAAM,CAChC,MAAMC,EAAcC,EAAS,EA8BtB,MAAA,CAAE,aA5BaC,GACpBF,EAAY,CACV,GAAGG,EACH,GAAGD,CAAA,CACJ,EAwBoB,WAtBJ,CAACA,EAA0BE,IAAe,OACrD,KAAA,CAAE,KAAAC,GAASD,GACZF,EAAQ,IAAM,CAACF,EAAY,SAASE,EAAQ,EAAE,GAAM,CAACA,EAAQ,KACpDF,EAAA,CACV,GAAGG,EACH,GAAGD,EACH,OAAQ,QACR,YAEII,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAM,0BAAS,WAAY,CAAA,EAC3B,CAACJ,GAASG,EAAAA,IAAAC,EAAA,CAAM,WAAI,QAAQ,EAC5BJ,GAAQA,EAAK,SAAYG,EAAA,IAAAC,EAAA,CAAM,WAAK,QAAQ,GAC5CC,EAAAL,GAAA,YAAAA,EAAM,SAAN,YAAAK,EAAc,IAAKC,UACjBF,EACE,CAAA,SAAA,CAAEE,EAAA,UAAoB,MAAIA,EAAE,QAAUA,EAAE,KAAA,CADhC,EAAAA,EAAE,SAEb,EACD,CACH,CAAA,CAAA,CAEH,CACL,CAEkC,CACpC"}