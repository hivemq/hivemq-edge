import{l as g,u as j,r as D,j as s,au as x,h as y,D as v,M as b,p as w,q as T,s as C,T as E,v as M,x as F,B as I}from"./index-cMih3SEP.js";import{C as O}from"./ChakraRJSForm-BfID56dF.js";import{u as k}from"./useListDomainTags-DSFB0XoK.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new a.Error().stack;n&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[n]="515a3803-a86f-4adc-a89f-934c26fc0eb4",a._sentryDebugIdIdentifier="sentry-dbid-515a3803-a86f-4adc-a89f-934c26fc0eb4")}catch{}})();const q=a=>(n,e)=>{var c,l,o,t,u,h;const r=n.items.map(i=>i.name),d=n.items.reduce((i,p,f)=>(r.indexOf(p.name)!==f&&i.push(f),i),[]);for(const i of d)(o=(l=(c=e==null?void 0:e.items)==null?void 0:c[i])==null?void 0:l.name)==null||o.addError(g.t("validation.identifier.tag.uniqueDevice",{ns:"translation"}));const m=n.items.reduce((i,p,f)=>(a.includes(p.name)&&i.push(f),i),[]);for(const i of m)(h=(u=(t=e==null?void 0:e.items)==null?void 0:t[i])==null?void 0:u.name)==null||h.addError(g.t("validation.identifier.tag.uniqueEdge",{ns:"translation"}));return e},B=({context:a,onSubmit:n})=>{var o;const{t:e}=j(),{data:r}=k(),d=((r==null?void 0:r.items)||[]).map(t=>t.name),m=[...((o=a.formData)==null?void 0:o.items)||[]].map(t=>t.name),c=d.filter(t=>!m.includes(t)),l=D.useCallback(t=>{n==null||n(t.formData)},[n]);return a.schema?s.jsx(O,{id:"domainTags-instance-form",schema:a.schema,uiSchema:a.uiSchema,formData:a.formData,onSubmit:l,customValidate:q(c)}):s.jsx(x,{message:e("device.errors.noFormSchema")})},H=({header:a,context:n,onSubmit:e,trigger:r,submitLabel:d})=>{const{t:m}=j("components"),c=y(),{isOpen:l,onClose:o}=c,t=u=>{e==null||e(u),o()};return s.jsxs(s.Fragment,{children:[r(c),s.jsxs(v,{isOpen:l,placement:"right",size:"md",onClose:o,closeOnOverlayClick:!1,children:[s.jsx(b,{}),s.jsxs(w,{children:[s.jsx(T,{}),s.jsx(C,{children:s.jsx(E,{children:a})}),s.jsx(M,{children:s.jsx(B,{context:n,onSubmit:t})}),s.jsx(F,{children:s.jsx(I,{variant:"primary",type:"submit",form:"domainTags-instance-form",children:d||m("rjsf.actions.submit.label")})})]})]})]})};export{H as A};
//# sourceMappingURL=ArrayItemDrawer-uF-ZCmSZ.js.map
