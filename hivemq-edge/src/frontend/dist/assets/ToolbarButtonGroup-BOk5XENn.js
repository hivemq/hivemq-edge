import{r as N,R as l,br as ke,j as A,n as we,m as te,Z as xe,bs as ye,at as ve}from"./index-cMih3SEP.js";import{f as be,g as B,s as Ne,z as $e,h as re,i as Y,j as Ee,p as Me,k as Ce,l as Z,m as Se,n as ne,o as _e,q as G,P as T}from"./index-Dis5-5gm.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new e.Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="8df5caa4-3756-4500-8391-afdfd78c0930",e._sentryDebugIdIdentifier="sentry-dbid-8df5caa4-3756-4500-8391-afdfd78c0930")}catch{}})();const se=({id:e,x:o,y:t,width:n,height:c,style:r,color:a,strokeColor:i,strokeWidth:x,className:g,borderRadius:m,shapeRendering:d,onClick:h,selected:s})=>{const{background:f,backgroundColor:y}=r||{},$=a||f||y;return l.createElement("rect",{className:Y(["react-flow__minimap-node",{selected:s},g]),x:o,y:t,rx:m,ry:m,width:n,height:c,fill:$,stroke:i,strokeWidth:x,shapeRendering:d,onClick:h?E=>h(E,e):void 0})};se.displayName="MiniMapNode";var Ae=N.memo(se);const Be=e=>e.nodeOrigin,Ie=e=>e.getNodes().filter(o=>!o.hidden&&o.width&&o.height),q=e=>e instanceof Function?e:()=>e;function ze({nodeStrokeColor:e="transparent",nodeColor:o="#e2e2e2",nodeClassName:t="",nodeBorderRadius:n=5,nodeStrokeWidth:c=2,nodeComponent:r=Ae,onClick:a}){const i=B(Ie,Z),x=B(Be),g=q(o),m=q(e),d=q(t),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.createElement(l.Fragment,null,i.map(s=>{const{x:f,y}=Ce(s,x).positionAbsolute;return l.createElement(r,{key:s.id,x:f,y,width:s.width,height:s.height,style:s.style,selected:s.selected,className:d(s),color:g(s),borderRadius:n,strokeColor:m(s),strokeWidth:c,shapeRendering:h,onClick:a,id:s.id})}))}var Re=N.memo(ze);const We=200,Te=150,Oe=e=>{const o=e.getNodes(),t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:o.length>0?Se(ne(o,e.nodeOrigin),t):t,rfId:e.rfId}},je="react-flow__minimap-desc";function ae({style:e,className:o,nodeStrokeColor:t="transparent",nodeColor:n="#e2e2e2",nodeClassName:c="",nodeBorderRadius:r=5,nodeStrokeWidth:a=2,nodeComponent:i,maskColor:x="rgb(240, 240, 240, 0.6)",maskStrokeColor:g="none",maskStrokeWidth:m=1,position:d="bottom-right",onClick:h,onNodeClick:s,pannable:f=!1,zoomable:y=!1,ariaLabel:$="React Flow mini map",inversePan:E=!1,zoomStep:R=10,offsetScale:I=5}){const v=be(),M=N.useRef(null),{boundingRect:p,viewBB:k,rfId:ie}=B(Oe,Z),O=(e==null?void 0:e.width)??We,j=(e==null?void 0:e.height)??Te,ce=p.width/O,de=p.height/j,W=Math.max(ce,de),L=W*O,K=W*j,u=I*W,X=p.x-(L-p.width)/2-u,J=p.y-(K-p.height)/2-u,F=L+u*2,Q=K+u*2,U=`${je}-${ie}`,V=N.useRef(0);V.current=W,N.useEffect(()=>{if(M.current){const b=Ne(M.current),C=w=>{const{transform:S,d3Selection:z,d3Zoom:_}=v.getState();if(w.sourceEvent.type!=="wheel"||!z||!_)return;const D=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*R,H=S[2]*Math.pow(2,D);_.scaleTo(z,H)},P=w=>{const{transform:S,d3Selection:z,d3Zoom:_,translateExtent:D,width:H,height:ge}=v.getState();if(w.sourceEvent.type!=="mousemove"||!z||!_)return;const ee=V.current*Math.max(1,S[2])*(E?-1:1),oe={x:S[0]-w.sourceEvent.movementX*ee,y:S[1]-w.sourceEvent.movementY*ee},me=[[0,0],[H,ge]],fe=Ee.translate(oe.x,oe.y).scale(S[2]),pe=_.constrain()(fe,me,D);_.transform(z,pe)},ue=$e().on("zoom",f?P:null).on("zoom.wheel",y?C:null);return b.call(ue),()=>{b.on("zoom",null)}}},[f,y,E,R]);const le=h?b=>{const C=Me(b);h(b,{x:C[0],y:C[1]})}:void 0,he=s?(b,C)=>{const P=v.getState().nodeInternals.get(C);s(b,P)}:void 0;return l.createElement(re,{position:d,style:e,className:Y(["react-flow__minimap",o]),"data-testid":"rf__minimap"},l.createElement("svg",{width:O,height:j,viewBox:`${X} ${J} ${F} ${Q}`,role:"img","aria-labelledby":U,ref:M,onClick:le},$&&l.createElement("title",{id:U},$),l.createElement(Re,{onClick:he,nodeColor:n,nodeStrokeColor:t,nodeBorderRadius:r,nodeClassName:c,nodeStrokeWidth:a,nodeComponent:i}),l.createElement("path",{className:"react-flow__minimap-mask",d:`M${X-u},${J-u}h${F+u*2}v${Q+u*2}h${-F-u*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fill:x,fillRule:"evenodd",stroke:g,strokeWidth:m,pointerEvents:"none"})))}ae.displayName="MiniMap";var Fe=N.memo(ae);const Pe=e=>{var o;return(o=e.domNode)==null?void 0:o.querySelector(".react-flow__renderer")};function De({children:e}){const o=B(Pe);return o?ke.createPortal(e,o):null}const He=(e,o)=>{var t,n,c,r,a,i;return((t=e==null?void 0:e.positionAbsolute)==null?void 0:t.x)===((n=o==null?void 0:o.positionAbsolute)==null?void 0:n.x)&&((c=e==null?void 0:e.positionAbsolute)==null?void 0:c.y)===((r=o==null?void 0:o.positionAbsolute)==null?void 0:r.y)&&(e==null?void 0:e.width)===(o==null?void 0:o.width)&&(e==null?void 0:e.height)===(o==null?void 0:o.height)&&(e==null?void 0:e.selected)===(o==null?void 0:o.selected)&&((a=e==null?void 0:e[G])==null?void 0:a.z)===((i=o==null?void 0:o[G])==null?void 0:i.z)},qe=(e,o)=>e.length===o.length&&e.every((t,n)=>He(t,o[n])),Ge=e=>({transform:e.transform,nodeOrigin:e.nodeOrigin,selectedNodesCount:e.getNodes().filter(o=>o.selected).length});function Ye(e,o,t,n,c){let r=.5;c==="start"?r=0:c==="end"&&(r=1);let a=[(e.x+e.width*r)*o[2]+o[0],e.y*o[2]+o[1]-n],i=[-100*r,-100];switch(t){case T.Right:a=[(e.x+e.width)*o[2]+o[0]+n,(e.y+e.height*r)*o[2]+o[1]],i=[0,-100*r];break;case T.Bottom:a[1]=(e.y+e.height)*o[2]+o[1]+n,i[1]=0;break;case T.Left:a=[e.x*o[2]+o[0]-n,(e.y+e.height*r)*o[2]+o[1]],i=[-100,-100*r];break}return`translate(${a[0]}px, ${a[1]}px) translate(${i[0]}%, ${i[1]}%)`}function Ze({nodeId:e,children:o,className:t,style:n,isVisible:c,position:r=T.Top,offset:a=10,align:i="center",...x}){const g=_e(),m=N.useCallback(I=>(Array.isArray(e)?e:[e||g||""]).reduce((M,p)=>{const k=I.nodeInternals.get(p);return k&&M.push(k),M},[]),[e,g]),d=B(m,qe),{transform:h,nodeOrigin:s,selectedNodesCount:f}=B(Ge,Z);if(!(typeof c=="boolean"?c:d.length===1&&d[0].selected&&f===1)||!d.length)return null;const $=ne(d,s),E=Math.max(...d.map(I=>{var v;return(((v=I[G])==null?void 0:v.z)||1)+1})),R={position:"absolute",transform:Ye($,h,r,a,i),zIndex:E,...n};return l.createElement(De,null,l.createElement("div",{style:R,className:Y(["react-flow__node-toolbar",t]),...x},o))}/* istanbul ignore file -- @preserve */const Qe={hideAttribution:!0},Ue=({children:e,...o})=>A.jsx(re,{...o,children:A.jsx(we,{sx:{borderColor:"var(--chakra-colors-chakra-border-color)",borderWidth:1,_dark:{backgroundColor:"var(--chakra-colors-gray-700)"},borderRadius:"var(--chakra-radii-md)",backgroundColor:"var(--chakra-colors-chakra-body-bg)",boxShadow:"var(--chakra-shadows-xl)"},children:e})}),Le=te(Fe),Ve=e=>A.jsx(Le,{...e,sx:{borderColor:"var(--chakra-colors-chakra-border-color)",borderWidth:1,_dark:{backgroundColor:"var(--chakra-colors-gray-700)"},borderRadius:"var(--chakra-radii-md)",backgroundColor:"var(--chakra-colors-chakra-body-bg)",boxShadow:"var(--chakra-shadows-xl)"}}),Ke=te(Ze),eo=({children:e,...o})=>A.jsxs(Ke,{offset:8,...o,role:"toolbar",display:"flex",flexDirection:"row",alignItems:"center",height:"50px",gap:"0.5em",sx:{borderColor:"var(--chakra-colors-chakra-border-color)",borderWidth:1,_dark:{backgroundColor:"var(--chakra-colors-gray-700)"},paddingRight:2,borderRadius:"var(--chakra-radii-md)",backgroundColor:"var(--chakra-colors-chakra-body-bg)",boxShadow:"var(--chakra-shadows-dark-lg)"},children:[A.jsx(xe,{as:ye,boxSize:7,"aria-hidden":!0}),e]}),oo=({children:e,...o})=>A.jsx(ve,{size:"sm",variant:"solid",colorScheme:"gray",...o,children:e});export{Ve as M,eo as N,Ue as P,oo as T,Qe as p};
//# sourceMappingURL=ToolbarButtonGroup-BOk5XENn.js.map
