import{u as ue,j as l,C as vn,a2 as cn,H as Xt,aU as Yt,aS as fn,au as hn,n as jn,B as zn,r as x,ad as _t,e as Ct,f as Mt,Q as At,T as Un,m as Le,a7 as Kt,a8 as qt,l as Gn,g as nt,a3 as Jt}from"./index-cMih3SEP.js";import{N as Zt}from"./NodeNameCard-yfQKWlf9.js";import{N as Qt}from"./types-DcJW2o_l.js";import{E as er}from"./ExpandableDrawer-DCcw9WLM.js";import{C as nr}from"./index-iD7yky8Q.js";import{u as tr,J as rr}from"./JsonSchemaBrowser-9_NRMvC_.js";import{C as jt}from"./chunk-2EW3JUUD-iAZ0BXIz.js";import{C as xn}from"./chunk-FHHZMTWR-BZ2wKB7t.js";import{P as Lt,b as Rt,c as Ot,d as Tt}from"./chunk-24I2HV4N-Dq0ih_Wx.js";import{P as wt,a as Et,b as It}from"./chunk-JKY3EM6P-D6r2Lg0c.js";import{C as or}from"./chunk-BDSTZZXD-Biup13z0.js";import{G as dn,z as Be,X as _e,K as ir,U as He,a as nn,c as Se,E as on,V as St,J as ar,I as Ln,D as Rn,j as On,m as sr,n as Tn,A as wn,y as Vn,M as lr,k as sn,w as kn,i as ur,H as dr,l as Nt,C as cr,h as Cn,q as fr,N as hr,T as pr,F as gr,b as Bt}from"./nivo-voronoi.es-CPs8r71i.js";import{L as Pt}from"./arc-CsdIBnZq.js";import{w as mr,n as br,l as yr,y as vr,a as tt,N as $n,x as xr,T as kr,o as Cr,q as Mr,r as Ar,u as jr}from"./step-BUvoxw0L.js";import{w as Dt,v as Lr}from"./index-BXWYaCHO.js";import{T as Rr}from"./EntityTag-D_VD81fJ.js";import{N as Or,s as rt,t as Tr,h as Ft}from"./topics-utils-l3ij3e8P.js";import{u as wr}from"./useListDomainTags-DSFB0XoK.js";import{u as Er}from"./useListTopicFilters-BbjQizvN.js";import{u as Wt}from"./useListBridges-BwHrTuI4.js";import{l as ot}from"./linear-DZrC6_ME.js";import{b as Ir,a as Sr}from"./bump-DxSIDwFB.js";import{l as Nr}from"./05-icon-industrial-hivemq-edge-CnZ6VqSq.js";import{b as Br,l as Pr,F as Dr,j as Fr}from"./ArrayFieldTemplate-BvbIrrVp.js";import{d as Wr}from"./without-BTTCd72_.js";import{D as zr}from"./datetime-B2_BsC7v.js";import{S as Gr}from"./select-Cl6Duh2E.js";import{b as $r}from"./use-chakra-select-props-D5NVA-bJ.js";import{u as Hr}from"./useListProtocolAdapters-B80RXV7q.js";import{I as Ur}from"./ordinal-CRZJttOd.js";import{p as Vr,S as Xr,r as Yr,l as _r,j as Kr,c as qr}from"./path--9090MWM.js";import{m as Jr}from"./index-CN_t91dT.js";import{T as Zr,a as Qr,b as pn,c as eo,d as gn}from"./chunk-IAXSQ4X2-dYM9Hy0E.js";import"./index-C46KiF-i.js";import"./adapter.utils-B-ndd-tn.js";import"./index-BTlOwmq4.js";import"./chunk-KTD65HY5-BcgUOmvV.js";import"./DrawerExpandButton-BRREeAlM.js";import"./chunk-LZZHVJFG-BAJsNEk_.js";import"./index-DDmdO6wr.js";import"./pick-DicWcAKr.js";import"./index-Dis5-5gm.js";import"./vanilla-Dd4Maacd.js";import"./Tableau10-BK-pcM0W.js";import"./math-BXzRHGEW.js";import"./chunk-RPO2WXNL-BTibYaQa.js";import"./init-D7C4L9XJ.js";import"./chunk-TRO7245M-Czmm3RtS.js";import"./chunk-JARCRF6W-CHhnzfpl.js";import"./chunk-ZPFGWTBB-27OtcFRz.js";import"./chunk-W7WUSNWJ-DJm2I2MC.js";import"./index-C23MLgnh.js";import"./chunk-RDF2AYID-BFNDpMsD.js";import"./creatable-select-CDfhMLkq.js";import"./config.utils-FEQhkVx6.js";import"./toast-utils-BddXXXrS.js";import"./PaginatedTable-CpimMJK6.js";import"./chunk-KO6Q73AP-Bk5HKb-M.js";import"./chunk-VTV6N5LE-DWhDJEfB.js";import"./chunk-EL2VKIZQ-C-XtNqj-.js";import"./chunk-KC77MHL3-CpO6TSLY.js";import"./chunk-HB6KBUMZ-BnKuEGjs.js";import"./chunk-OCNORRQU-qVjYAyQ7.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7feaddb4-ee6e-48fb-88f9-5484d7a134ce",e._sentryDebugIdIdentifier="sentry-dbid-7feaddb4-ee6e-48fb-88f9-5484d7a134ce")}catch{}})();function it(e){return e}function no(e,...n){return to(e,it,it,n)}function to(e,n,t,r){return function o(a,i){if(i>=r.length)return t(a);const d=new Ur,c=r[i++];let s=-1;for(const f of a){const h=c(f,++s,a),u=d.get(h);u?u.push(f):d.set(h,[f])}for(const[f,h]of d)d.set(f,o(h,i));return n(d)}(e,0)}function ro(e,n){return e.parent===n.parent?1:2}function oo(e){return e.reduce(io,0)/e.length}function io(e,n){return e+n.x}function ao(e){return 1+e.reduce(so,0)}function so(e,n){return Math.max(e,n.y)}function lo(e){for(var n;n=e.children;)e=n[0];return e}function uo(e){for(var n;n=e.children;)e=n[n.length-1];return e}function co(){var e=ro,n=1,t=1,r=!1;function o(a){var i,d=0;a.eachAfter(function(u){var g=u.children;g?(u.x=oo(g),u.y=ao(g)):(u.x=i?d+=e(u,i):0,u.y=0,i=u)});var c=lo(a),s=uo(a),f=c.x-e(c,s)/2,h=s.x+e(s,c)/2;return a.eachAfter(r?function(u){u.x=(u.x-a.x)*n,u.y=(a.y-u.y)*t}:function(u){u.x=(u.x-f)/(h-f)*n,u.y=(1-(a.y?u.y/a.y:1))*t})}return o.separation=function(a){return arguments.length?(e=a,o):e},o.size=function(a){return arguments.length?(r=!1,n=+a[0],t=+a[1],o):r?null:[n,t]},o.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],t=+a[1],o):r?[n,t]:null},o}function fo(e,n){return e.parent===n.parent?1:2}function In(e){var n=e.children;return n?n[0]:e.t}function Sn(e){var n=e.children;return n?n[n.length-1]:e.t}function ho(e,n,t){var r=t/(n.i-e.i);n.c-=r,n.s+=t,e.c+=r,n.z+=t,n.m+=t}function po(e){for(var n=0,t=0,r=e.children,o=r.length,a;--o>=0;)a=r[o],a.z+=n,a.m+=n,n+=a.s+(t+=a.c)}function go(e,n,t){return e.a.parent===n.parent?e.a:t}function yn(e,n){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}yn.prototype=Object.create(Or.prototype);function mo(e){for(var n=new yn(e,0),t,r=[n],o,a,i,d;t=r.pop();)if(a=t._.children)for(t.children=new Array(d=a.length),i=d-1;i>=0;--i)r.push(o=t.children[i]=new yn(a[i],i)),o.parent=t;return(n.parent=new yn(null,0)).children=[n],n}function bo(){var e=fo,n=1,t=1,r=null;function o(s){var f=mo(s);if(f.eachAfter(a),f.parent.m=-f.z,f.eachBefore(i),r)s.eachBefore(c);else{var h=s,u=s,g=s;s.eachBefore(function(v){v.x<h.x&&(h=v),v.x>u.x&&(u=v),v.depth>g.depth&&(g=v)});var p=h===u?1:e(h,u)/2,k=p-h.x,b=n/(u.x+p+k),C=t/(g.depth||1);s.eachBefore(function(v){v.x=(v.x+k)*b,v.y=v.depth*C})}return s}function a(s){var f=s.children,h=s.parent.children,u=s.i?h[s.i-1]:null;if(f){po(s);var g=(f[0].z+f[f.length-1].z)/2;u?(s.z=u.z+e(s._,u._),s.m=s.z-g):s.z=g}else u&&(s.z=u.z+e(s._,u._));s.parent.A=d(s,u,s.parent.A||h[0])}function i(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function d(s,f,h){if(f){for(var u=s,g=s,p=f,k=u.parent.children[0],b=u.m,C=g.m,v=p.m,m=k.m,y;p=Sn(p),u=In(u),p&&u;)k=In(k),g=Sn(g),g.a=s,y=p.z+v-u.z-b+e(p._,u._),y>0&&(ho(go(p,s,h),s,y),b+=y,C+=y),v+=p.m,b+=u.m,m+=k.m,C+=g.m;p&&!Sn(g)&&(g.t=p,g.m+=v-C),u&&!In(k)&&(k.t=u,k.m+=b-m,h=s)}return h}function c(s){s.x*=n,s.y=s.depth*t}return o.separation=function(s){return arguments.length?(e=s,o):e},o.size=function(s){return arguments.length?(r=!1,n=+s[0],t=+s[1],o):r?null:[n,t]},o.nodeSize=function(s){return arguments.length?(r=!0,n=+s[0],t=+s[1],o):r?[n,t]:null},o}function yo(e){return e.source}function vo(e){return e.target}function xo(e){let n=yo,t=vo,r=yr,o=vr,a=null,i=null,d=mr(c);function c(){let s;const f=br.call(arguments),h=n.apply(this,f),u=t.apply(this,f);if(a==null&&(i=e(s=d())),i.lineStart(),f[0]=h,i.point(+r.apply(this,f),+o.apply(this,f)),f[0]=u,i.point(+r.apply(this,f),+o.apply(this,f)),i.lineEnd(),s)return i=null,s+""||null}return c.source=function(s){return arguments.length?(n=s,c):n},c.target=function(s){return arguments.length?(t=s,c):t},c.x=function(s){return arguments.length?(r=typeof s=="function"?s:tt(+s),c):r},c.y=function(s){return arguments.length?(o=typeof s=="function"?s:tt(+s),c):o},c.context=function(s){return arguments.length?(s==null?a=i=null:i=e(a=s),c):a},c}const ko=({topic:e})=>{const{t:n}=ue(),{schema:t,isLoading:r,isError:o,error:a,refetch:i}=tr(e);return l.jsxs(vn,{size:"sm",w:"100%",children:[l.jsxs(jt,{as:cn,justifyContent:"space-between",children:[l.jsx(Xt,{size:"md",children:e}),l.jsx(Yt,{size:"sm",icon:l.jsx(nr,{}),"aria-label":n("workspace.topicWheel.metadata.sample"),onClick:()=>i(),isDisabled:r})]}),l.jsxs(xn,{children:[r&&l.jsx(fn,{}),o&&a&&l.jsx(hn,{message:a.message}),!r&&t&&l.jsx(jn,{h:"25vh",overflowY:"scroll",tabIndex:0,children:l.jsx(rr,{schema:t,hasExamples:!0})})]})]})},En=({children:e,cta:n,help:t,helpTitle:r,footer:o,...a})=>l.jsxs(vn,{size:"sm",...a,children:[(n||t)&&l.jsxs(jt,{"data-testid":"chart-wrapper-header",as:cn,justifyContent:n&&t?"space-between":n?"flex-start":"flex-end",children:[n&&n,t&&l.jsxs(Lt,{placement:"bottom-end",isLazy:!0,children:[l.jsx(Rt,{children:l.jsx(zn,{children:"Help"})}),l.jsxs(Ot,{children:[l.jsx(Tt,{}),l.jsx(wt,{}),l.jsx(Et,{children:r||"About the visualisation"}),l.jsx(It,{children:t})]})]})]}),l.jsx(xn,{children:l.jsx(jn,{w:"100%",h:"60vh",children:e})}),o&&l.jsx(or,{children:o})]});function V(){return V=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},V.apply(this,arguments)}var Co={pointerEvents:"none"},Mo=function(e){var n=e.label,t=e.style,r=Be();return l.jsx(Se.g,{transform:t.transform,opacity:t.progress,style:Co,children:l.jsx(Se.text,{textAnchor:"middle",dominantBaseline:"central",style:V({},r.labels.text,{fill:t.textColor}),children:n})})},Ao={startAngle:{enter:function(e){return V({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return V({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return V({},e,{startAngle:n,endAngle:n})},update:function(e){return e},leave:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return V({},e,{startAngle:n,endAngle:n})}},endAngle:{enter:function(e){return V({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return V({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return V({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return V({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return V({},e,{innerRadius:n,outerRadius:n})},update:function(e){return e},leave:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return V({},e,{innerRadius:n,outerRadius:n})}},outerRadius:{enter:function(e){return V({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return V({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return V({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return V({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return V({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return V({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},zt=function(e,n){return x.useMemo(function(){var t=Ao[e];return{enter:function(r){return V({progress:0},t.enter(r.arc),n?n.enter(r):{})},update:function(r){return V({progress:1},t.update(r.arc),n?n.update(r):{})},leave:function(r){return V({progress:0},t.leave(r.arc),n?n.leave(r):{})}}},[e,n])},jo=function(e,n){var t=St(e)-Math.PI/2,r=e.innerRadius+(e.outerRadius-e.innerRadius)*n;return ar(t,r)},Lo=function(e){return function(n,t,r,o){return on([n,t,r,o],function(a,i,d,c){var s=jo({startAngle:a,endAngle:i,innerRadius:d,outerRadius:c},e);return"translate("+s.x+","+s.y+")"})}},Ro=function(e,n,t,r){n===void 0&&(n=.5),t===void 0&&(t="innerRadius");var o=He(),a=o.animate,i=o.config,d=zt(t,r);return{transition:nn(e,{keys:function(c){return c.id},initial:d.update,from:d.enter,enter:d.update,update:d.update,leave:d.leave,config:i,immediate:!a}),interpolate:Lo(n)}},Oo=function(e){var n=e.center,t=e.data,r=e.transitionMode,o=e.label,a=e.radiusOffset,i=e.skipAngle,d=e.textColor,c=e.component,s=c===void 0?Mo:c,f=dn(o),h=Be(),u=_e(d,h),g=x.useMemo(function(){return t.filter(function(v){return Math.abs(ir(v.arc.endAngle-v.arc.startAngle))>=i})},[t,i]),p=Ro(g,a,r),k=p.transition,b=p.interpolate,C=s;return l.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:k(function(v,m){return x.createElement(C,{key:m.id,datum:m,label:f(m),style:V({},v,{transform:b(v.startAngle,v.endAngle,v.innerRadius,v.outerRadius),textColor:u(m)})})})})};$n().x(function(e){return e.x}).y(function(e){return e.y});var To=function(e){var n=e.datum,t=e.style,r=e.onClick,o=e.onMouseEnter,a=e.onMouseMove,i=e.onMouseLeave,d=x.useCallback(function(h){return r==null?void 0:r(n,h)},[r,n]),c=x.useCallback(function(h){return o==null?void 0:o(n,h)},[o,n]),s=x.useCallback(function(h){return a==null?void 0:a(n,h)},[a,n]),f=x.useCallback(function(h){return i==null?void 0:i(n,h)},[i,n]);return l.jsx(Se.path,{d:t.path,opacity:t.opacity,fill:n.fill||t.color,stroke:t.borderColor,strokeWidth:t.borderWidth,onClick:r?d:void 0,onMouseEnter:o?c:void 0,onMouseMove:a?s:void 0,onMouseLeave:i?f:void 0})},wo=function(e,n,t,r,o){return on([e,n,t,r],function(a,i,d,c){return o({startAngle:a,endAngle:i,innerRadius:Math.max(0,d),outerRadius:Math.max(0,c)})})},Eo=function(e,n,t){n===void 0&&(n="innerRadius");var r=He(),o=r.animate,a=r.config,i=zt(n,t);return{transition:nn(e,{keys:function(d){return d.id},initial:i.update,from:i.enter,enter:i.update,update:i.update,leave:i.leave,config:a,immediate:!o}),interpolate:wo}},Io=function(e){var n=e.center,t=e.data,r=e.arcGenerator,o=e.borderWidth,a=e.borderColor,i=e.onClick,d=e.onMouseEnter,c=e.onMouseMove,s=e.onMouseLeave,f=e.transitionMode,h=e.component,u=h===void 0?To:h,g=Be(),p=_e(a,g),k=Eo(t,f,{enter:function(m){return{opacity:0,color:m.color,borderColor:p(m)}},update:function(m){return{opacity:1,color:m.color,borderColor:p(m)}},leave:function(m){return{opacity:0,color:m.color,borderColor:p(m)}}}),b=k.transition,C=k.interpolate,v=u;return l.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:b(function(m,y){return x.createElement(v,{key:y.id,datum:y,style:V({},m,{borderWidth:o,path:C(m.startAngle,m.endAngle,m.innerRadius,m.outerRadius,r)}),onClick:i,onMouseEnter:d,onMouseMove:c,onMouseLeave:s})})})},So=function(e){var n=e===void 0?{}:e,t=n.cornerRadius,r=t===void 0?0:t,o=n.padAngle,a=o===void 0?0:o;return x.useMemo(function(){return Pt().innerRadius(function(i){return i.innerRadius}).outerRadius(function(i){return i.outerRadius}).cornerRadius(r).padAngle(a)},[r,a])};function No(e){var n=0,t=e.children,r=t&&t.length;if(!r)n=1;else for(;--r>=0;)n+=t[r].value;e.value=n}function Bo(){return this.eachAfter(No)}function Po(e){var n=this,t,r=[n],o,a,i;do for(t=r.reverse(),r=[];n=t.pop();)if(e(n),o=n.children,o)for(a=0,i=o.length;a<i;++a)r.push(o[a]);while(r.length);return this}function Do(e){for(var n=this,t=[n],r,o;n=t.pop();)if(e(n),r=n.children,r)for(o=r.length-1;o>=0;--o)t.push(r[o]);return this}function Fo(e){for(var n=this,t=[n],r=[],o,a,i;n=t.pop();)if(r.push(n),o=n.children,o)for(a=0,i=o.length;a<i;++a)t.push(o[a]);for(;n=r.pop();)e(n);return this}function Wo(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,r=n.children,o=r&&r.length;--o>=0;)t+=r[o].value;n.value=t})}function zo(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})}function Go(e){for(var n=this,t=$o(n,e),r=[n];n!==t;)n=n.parent,r.push(n);for(var o=r.length;e!==t;)r.splice(o,0,e),e=e.parent;return r}function $o(e,n){if(e===n)return e;var t=e.ancestors(),r=n.ancestors(),o=null;for(e=t.pop(),n=r.pop();e===n;)o=e,e=t.pop(),n=r.pop();return o}function Ho(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n}function Uo(){var e=[];return this.each(function(n){e.push(n)}),e}function Vo(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e}function Xo(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n}function Xn(e,n){var t=new Mn(e),r=+e.value&&(t.value=e.value),o,a=[t],i,d,c,s;for(n==null&&(n=_o);o=a.pop();)if(r&&(o.value=+o.data.value),(d=n(o.data))&&(s=d.length))for(o.children=new Array(s),c=s-1;c>=0;--c)a.push(i=o.children[c]=new Mn(d[c])),i.parent=o,i.depth=o.depth+1;return t.eachBefore(qo)}function Yo(){return Xn(this).eachBefore(Ko)}function _o(e){return e.children}function Ko(e){e.data=e.data.data}function qo(e){var n=0;do e.height=n;while((e=e.parent)&&e.height<++n)}function Mn(e){this.data=e,this.depth=this.height=0,this.parent=null}Mn.prototype=Xn.prototype={constructor:Mn,count:Bo,each:Po,eachAfter:Fo,eachBefore:Do,sum:Wo,sort:zo,path:Go,ancestors:Ho,descendants:Uo,leaves:Vo,links:Xo,copy:Yo};function Jo(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Zo(e,n,t,r,o){for(var a=e.children,i,d=-1,c=a.length,s=e.value&&(r-n)/e.value;++d<c;)i=a[d],i.y0=t,i.y1=o,i.x0=n,i.x1=n+=i.value*s}function Qo(){var e=1,n=1,t=0,r=!1;function o(i){var d=i.height+1;return i.x0=i.y0=t,i.x1=e,i.y1=n/d,i.eachBefore(a(n,d)),r&&i.eachBefore(Jo),i}function a(i,d){return function(c){c.children&&Zo(c,c.x0,i*(c.depth+1)/d,c.x1,i*(c.depth+2)/d);var s=c.x0,f=c.y0,h=c.x1-t,u=c.y1-t;h<s&&(s=h=(s+h)/2),u<f&&(f=u=(f+u)/2),c.x0=s,c.y0=f,c.x1=h,c.y1=u}}return o.round=function(i){return arguments.length?(r=!!i,o):r},o.size=function(i){return arguments.length?(e=+i[0],n=+i[1],o):[e,n]},o.padding=function(i){return arguments.length?(t=+i,o):t},o}function An(){return An=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},An.apply(this,arguments)}var B={id:"id",value:"value",cornerRadius:0,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(e){var n=e.id,t=e.formattedValue,r=e.color;return l.jsx(kn,{id:n,value:t,enableChip:!0,color:r})},role:"img"},ei=function(e){var n=e.data,t=e.id,r=t===void 0?B.id:t,o=e.value,a=o===void 0?B.value:o,i=e.valueFormat,d=e.radius,c=e.cornerRadius,s=c===void 0?B.cornerRadius:c,f=e.colors,h=f===void 0?B.colors:f,u=e.colorBy,g=u===void 0?B.colorBy:u,p=e.inheritColorFromParent,k=p===void 0?B.inheritColorFromParent:p,b=e.childColor,C=b===void 0?B.childColor:b,v=Be(),m=wn(h,g),y=_e(C,v),j=dn(r),M=dn(a),R=Vn(i),A=x.useMemo(function(){var T,O=Dt(n),w=Xn(O).sum(M),G=Qo().size([2*Math.PI,d*d])(w).descendants().slice(1),J=(T=w.value)!=null?T:0;return lr(G,"depth").reduce(function(D,H){var Z,Re=j(H.data),E=H.value,ee=100*E/J,oe=H.ancestors().map(function(ne){return j(ne.data)}),de={startAngle:H.x0,endAngle:H.x1,innerRadius:Math.sqrt(H.y0),outerRadius:Math.sqrt(H.y1)};H.parent&&(Z=D.find(function(ne){return ne.id===j(H.parent.data)}));var Y={id:Re,path:oe,value:E,percentage:ee,formattedValue:i?R(E):ee.toFixed(2)+"%",color:"",arc:de,data:H.data,depth:H.depth,height:H.height};return k&&Z&&Y.depth>1?Y.color=y(Z,Y):Y.color=m(Y),[].concat(D,[Y])},[])},[n,d,M,j,i,R,m,k,y]);return{arcGenerator:So({cornerRadius:s}),nodes:A}},ni=function(e){var n=e.nodes,t=e.arcGenerator,r=e.centerX,o=e.centerY,a=e.radius;return x.useMemo(function(){return{nodes:n,arcGenerator:t,centerX:r,centerY:o,radius:a}},[n,t,r,o,a])},ti=function(e){var n=e.center,t=e.data,r=e.arcGenerator,o=e.borderWidth,a=e.borderColor,i=e.isInteractive,d=e.onClick,c=e.onMouseEnter,s=e.onMouseMove,f=e.onMouseLeave,h=e.tooltip,u=e.transitionMode,g=sn(),p=g.showTooltipFromEvent,k=g.hideTooltip,b=x.useMemo(function(){if(i)return function(y,j){d==null||d(y,j)}},[i,d]),C=x.useMemo(function(){if(i)return function(y,j){p(x.createElement(h,y),j),c==null||c(y,j)}},[i,p,h,c]),v=x.useMemo(function(){if(i)return function(y,j){p(x.createElement(h,y),j),s==null||s(y,j)}},[i,p,h,s]),m=x.useMemo(function(){if(i)return function(y,j){k(),f==null||f(y,j)}},[i,k,f]);return l.jsx(Io,{center:n,data:t,arcGenerator:r,borderWidth:o,borderColor:a,transitionMode:u,onClick:b,onMouseEnter:C,onMouseMove:v,onMouseLeave:m})},ri=["isInteractive","animate","motionConfig","theme","renderWrapper"],oi=function(e){var n=e.data,t=e.id,r=t===void 0?B.id:t,o=e.value,a=o===void 0?B.value:o,i=e.valueFormat,d=e.cornerRadius,c=d===void 0?B.cornerRadius:d,s=e.layers,f=s===void 0?B.layers:s,h=e.colors,u=h===void 0?B.colors:h,g=e.colorBy,p=g===void 0?B.colorBy:g,k=e.inheritColorFromParent,b=k===void 0?B.inheritColorFromParent:k,C=e.childColor,v=C===void 0?B.childColor:C,m=e.borderWidth,y=m===void 0?B.borderWidth:m,j=e.borderColor,M=j===void 0?B.borderColor:j,R=e.margin,A=e.width,T=e.height,O=e.enableArcLabels,w=O===void 0?B.enableArcLabels:O,G=e.arcLabel,J=G===void 0?B.arcLabel:G,D=e.arcLabelsRadiusOffset,H=D===void 0?B.arcLabelsRadiusOffset:D,Z=e.arcLabelsSkipAngle,Re=Z===void 0?B.arcLabelsSkipAngle:Z,E=e.arcLabelsTextColor,ee=E===void 0?B.arcLabelsTextColor:E,oe=e.arcLabelsComponent,de=e.defs,Y=de===void 0?B.defs:de,ne=e.fill,me=ne===void 0?B.fill:ne,Oe=e.transitionMode,ce=Oe===void 0?B.transitionMode:Oe,te=e.isInteractive,fe=te===void 0?B.isInteractive:te,he=e.onClick,pe=e.onMouseEnter,ze=e.onMouseLeave,I=e.onMouseMove,P=e.tooltip,L=P===void 0?B.tooltip:P,F=e.role,$=F===void 0?B.role:F,U=On(A,T,R),ae=U.innerHeight,be=U.innerWidth,_=U.margin,se=U.outerHeight,le=U.outerWidth,X=x.useMemo(function(){return{radius:Math.min(be,ae)/2,centerX:be/2,centerY:ae/2}},[ae,be]),Te=X.centerX,ye=X.centerY,ve=X.radius,xe=ei({data:n,id:r,value:a,valueFormat:i,radius:ve,cornerRadius:c,colors:u,colorBy:p,inheritColorFromParent:b,childColor:v}),Pe=xe.arcGenerator,K=xe.nodes,q=sr(Y,K,me,{dataKey:".",colorKey:"color",targetKey:"fill"}),De={arcs:null,arcLabels:null};f.includes("arcs")&&(De.arcs=l.jsx(ti,{center:[Te,ye],data:K,arcGenerator:Pe,borderWidth:y,borderColor:M,transitionMode:ce,isInteractive:fe,tooltip:L,onClick:he,onMouseEnter:pe,onMouseLeave:ze,onMouseMove:I},"arcs")),w&&f.includes("arcLabels")&&(De.arcLabels=l.jsx(Oo,{center:[Te,ye],data:K,label:J,radiusOffset:H,skipAngle:Re,textColor:ee,transitionMode:ce,component:oe},"arcLabels"));var Ke=ni({nodes:K,arcGenerator:Pe,centerX:Te,centerY:ye,radius:ve});return l.jsx(Tn,{width:le,height:se,defs:q,margin:_,role:$,children:f.map(function(ke,tn){return De[ke]!==void 0?De[ke]:typeof ke=="function"?l.jsx(x.Fragment,{children:x.createElement(ke,Ke)},tn):null})})},ii=function(e){var n=e.isInteractive,t=n===void 0?B.isInteractive:n,r=e.animate,o=r===void 0?B.animate:r,a=e.motionConfig,i=a===void 0?B.motionConfig:a,d=e.theme,c=e.renderWrapper,s=function(f,h){if(f==null)return{};var u,g,p={},k=Object.keys(f);for(g=0;g<k.length;g++)u=k[g],h.indexOf(u)>=0||(p[u]=f[u]);return p}(e,ri);return l.jsx(Rn,{isInteractive:t,animate:o,motionConfig:i,theme:d,renderWrapper:c,children:l.jsx(oi,An({isInteractive:t},s))})},ai=function(e){return l.jsx(Ln,{children:function(n){var t=n.width,r=n.height;return l.jsx(ii,An({width:t,height:r},e))}})};const Gt=e=>e.toString().slice(1),si=e=>{const{id:n}=e;return l.jsxs(cn,{children:[l.jsx(Rr,{tagTitle:Gt(n)}),l.jsx(_t,{colorScheme:"blue",children:e.value})]})},li=({centerX:e,centerY:n})=>{const{t}=ue();return l.jsx(l.Fragment,{children:l.jsx("text",{x:e,y:n,textAnchor:"middle",dominantBaseline:"central",children:t("ontology.error.cluster.noGrouping")})})},ui=({data:e,onSelect:n})=>l.jsx(ai,{data:e,margin:{top:0,right:0,bottom:0,left:0},id:"id",value:"data.count",cornerRadius:25,borderWidth:2,colors:{scheme:"category10"},childColor:{from:"color",modifiers:[["brighter",.15]]},enableArcLabels:!0,arcLabelsSkipAngle:0,arcLabelsTextColor:"black",arcLabel:t=>t.id.toString().split("/").slice(-1).join(""),tooltip:si,isInteractive:!0,onClick:(t,r)=>{n==null||n(Gt(t.id),r)},layers:["arcs","arcLabels",li]}),di=()=>{const e=Ct();return Mt({queryKey:[At.NORTHBOUND_MAPPINGS],queryFn:()=>e.protocolAdapters.getNorthboundMappings()})},ci=()=>{const e=Ct();return Mt({queryKey:[At.SOUTHBOUND_MAPPINGS],queryFn:()=>e.protocolAdapters.getSouthboundMappings()})},Yn=()=>{const e=di(),n=ci(),t=wr(),r=Er(),o=Wt(),a=e.isLoading||n.isLoading||t.isLoading||o.isLoading||r.isLoading,i=e.isError||n.isError||t.isError||o.isError||r.isError,d=x.useMemo(()=>{const c=[],s=[],f=[];for(const h of o.data||[]){for(const u of h.localSubscriptions||[]){const{destination:g,filters:p}=u;c.push(g),s.push(...p),f.push(...p.map(k=>[k,g]))}for(const u of h.remoteSubscriptions||[]){const{destination:g,filters:p}=u;c.push(g),s.push(...p),f.push(...p.map(k=>[k,g]))}}return{topics:Array.from(new Set(c)),topicFilters:Array.from(new Set(s)),mappings:f}},[o]);return{topicFilters:r,tags:t,northMappings:e,southMappings:n,bridgeSubscriptions:d,isLoading:a,isError:i}},fi=()=>{var c,s,f;const{t:e}=ue(),{topicFilters:n,tags:t,northMappings:r,bridgeSubscriptions:o,isLoading:a,isError:i}=Yn();return{sunburstData:x.useMemo(()=>{var b,C,v,m,y,j;const h=rt([{label:e("ontology.error.noTopicLoaded"),count:1},{label:e("ontology.error.noTagLoaded"),count:1}]);if(a)return h;const u=((C=(b=n.data)==null?void 0:b.items)==null?void 0:C.map(M=>M.topicFilter))||[],g=((m=(v=t.data)==null?void 0:v.items)==null?void 0:m.map(M=>M.name))||[],p=((j=(y=r.data)==null?void 0:y.items)==null?void 0:j.map(M=>M.topic))||[],k=Tr([...g,...p,...u,...o.topics,...o.topicFilters]);return k.length?rt(k):h},[o.topicFilters,o.topics,a,(c=r.data)==null?void 0:c.items,e,(s=t.data)==null?void 0:s.items,(f=n.data)==null?void 0:f.items]),isLoading:a,isError:i}},hi=()=>{const{t:e}=ue(),{sunburstData:n,isError:t,isLoading:r}=fi(),[o,a]=x.useState(),i=!!(o&&o.includes("#")),d=e("ontology.charts.conceptWheel.help",{returnObjects:!0}),c=(s,f)=>{a(s),f.stopPropagation()};return r?l.jsx(fn,{}):t?l.jsx(hn,{type:e("ontology.error.loading")}):l.jsx(En,{"data-testid":"edge-panel-concept-wheel",helpTitle:e("ontology.charts.conceptWheel.title"),help:d.map((s,f)=>l.jsx(Un,{children:s},`test-${f}`)),footer:o&&!i&&l.jsx(ko,{topic:o}),children:l.jsx(ui,{data:n,onSelect:c})})};var pi=function(e,n,t,r,o){r===void 0&&(r=0),o===void 0&&(o=0),n.outlineWidth>0&&(e.strokeStyle=n.outlineColor,e.lineWidth=2*n.outlineWidth,e.lineJoin="round",e.strokeText(t,r,o)),e.fillStyle=n.fill,e.fillText(t,r,o)};function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ne.apply(this,arguments)}function gi(e,n){if(e==null)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var mi=function(e){var n=e.data,t=e.mode,r=e.getIdentity;return x.useMemo(function(){var o=Ft(n),a=t==="tree"?bo():co();return o.eachBefore(function(i){var d=i.ancestors().filter(function(s){return s!==i}).reverse(),c=d.map(function(s){return r(s.data)});i.ancestorIds=c,i.uid=[].concat(c,[r(i.data)]).join("."),i.ancestorUids=d.map(function(s){return s.uid})}),o.each(function(i){i.descendantUids=i.descendants().filter(function(d){return d!==i}).map(function(d){return d.uid})}),a(o),o},[n,t,r])},at=function(e){return x.useMemo(function(){return e===void 0?function(n){return n.size}:typeof e=="function"?e:function(){return e}},[e])},bi=function(e){var n,t=e.root,r=e.xScale,o=e.yScale,a=e.layout,i=e.getIdentity,d=e.nodeSize,c=e.activeNodeSize,s=e.inactiveNodeSize,f=e.nodeColor,h=e.fixNodeColorAtDepth,u=x.useMemo(function(){return t.descendants().map(function(M){var R,A;a==="top-to-bottom"||a==="bottom-to-top"?(R=r(M.x),A=o(M.y)):(R=r(M.y),A=o(M.x));var T=i(M.data);return{path:[].concat(M.ancestorIds,[T]),uid:M.uid,isRoot:M.depth===0,isLeaf:M.height===0,ancestorIds:M.ancestorIds,ancestorUids:M.ancestorUids,descendantUids:M.descendantUids,id:T,data:M.data,depth:M.depth,height:M.height,x:R,y:A}})},[t,i,a,r,o]),g=x.useMemo(function(){return typeof n=="function"?n:function(){return n}},[n=d]),p=at(c),k=at(s),b=wn(f,"uid"),C=x.useMemo(function(){return h===1/0?b:function(M,R){if(M.depth<=0||M.depth<=h||M.ancestorUids.length===0)return b(M);var A=R[M.ancestorUids[M.ancestorUids.length-1]];return A===void 0?b(M):A.color}},[b,h]),v=x.useState([]),m=v[0],y=v[1],j=x.useMemo(function(){var M={};return{nodes:u.map(function(R){var A=Ne({},R,{size:g(R),color:C(R,M),isActive:null});return m.length>0&&(A.isActive=m.includes(A.uid),A.isActive?A.size=p(A):A.size=k(A)),M[A.uid]=A,A}),nodeByUid:M}},[u,g,p,k,C,m]);return Ne({},j,{activeNodeUids:m,setActiveNodeUids:y})},st=function(e){return x.useMemo(function(){return e===void 0?function(n){return n.thickness}:typeof e=="function"?e:function(){return e}},[e])},yi=function(e){var n=e.data,t=e.width,r=e.height,o=e.identity,a=o===void 0?ge.identity:o,i=e.mode,d=i===void 0?ge.mode:i,c=e.layout,s=c===void 0?ge.layout:c,f=e.nodeSize,h=f===void 0?ge.nodeSize:f,u=e.activeNodeSize,g=e.inactiveNodeSize,p=e.nodeColor,k=p===void 0?ge.nodeColor:p,b=e.fixNodeColorAtDepth,C=b===void 0?ge.fixNodeColorAtDepth:b,v=e.highlightAncestorNodes,m=v===void 0?ge.highlightAncestorNodes:v,y=e.highlightDescendantNodes,j=y===void 0?ge.highlightDescendantNodes:y,M=e.linkCurve,R=M===void 0?ge.linkCurve:M,A=e.linkThickness,T=A===void 0?ge.linkThickness:A,O=e.linkColor,w=O===void 0?ge.linkColor:O,G=e.activeLinkThickness,J=e.inactiveLinkThickness,D=e.highlightAncestorLinks,H=D===void 0?ge.highlightAncestorLinks:D,Z=e.highlightDescendantLinks,Re=Z===void 0?ge.highlightDescendantLinks:Z,E=dn(a),ee=mi({data:n,mode:d,getIdentity:E}),oe=function(I){var P=I.width,L=I.height,F=I.layout;return x.useMemo(function(){var $=ot().domain([0,1]),U=ot().domain([0,1]);return F==="top-to-bottom"?($.range([0,P]),U.range([0,L])):F==="right-to-left"?($.range([P,0]),U.range([0,L])):F==="bottom-to-top"?($.range([P,0]),U.range([L,0])):F==="left-to-right"&&($.range([0,P]),U.range([L,0])),{xScale:$,yScale:U}},[P,L,F])}({width:t,height:r,layout:s}),de=oe.xScale,Y=oe.yScale,ne=bi({root:ee,xScale:de,yScale:Y,layout:s,getIdentity:E,nodeSize:h,activeNodeSize:u,inactiveNodeSize:g,nodeColor:k,fixNodeColorAtDepth:C}),me=ne.nodes,Oe=ne.nodeByUid,ce=ne.activeNodeUids,te=ne.setActiveNodeUids,fe=function(I){var P=I.layout,L=I.curve;return x.useMemo(function(){var F=xr;return L==="bump"?F=P==="top-to-bottom"||P==="bottom-to-top"?Ir:Sr:L==="step"?F=kr:L==="step-before"?F=Cr:L==="step-after"&&(F=Mr),xo(F)},[P,L])}({layout:s,curve:R}),he=function(I){var P=I.root,L=I.nodeByUid,F=I.activeNodeUids,$=I.linkThickness,U=I.activeLinkThickness,ae=I.inactiveLinkThickness,be=I.linkColor,_=x.useMemo(function(){return P.links().map(function(K){return{id:K.source.uid+":"+K.target.uid,source:L[K.source.uid],target:L[K.target.uid]}})},[P,L]),se=x.useMemo(function(){return typeof $=="function"?$:function(){return $}},[$]),le=st(U),X=st(ae),Te=Be(),ye=_e(be,Te),ve=x.useState([]),xe=ve[0],Pe=ve[1];return{links:x.useMemo(function(){return _.map(function(K){var q=Ne({},K,{thickness:se(K),color:ye(K),isActive:null});return F.length>0&&(q.isActive=xe.includes(q.id),q.isActive?q.thickness=le(q):q.thickness=X(q)),q})},[_,se,le,X,ye,F.length,xe]),setActiveLinkIds:Pe}}({root:ee,nodeByUid:Oe,activeNodeUids:ce,linkThickness:T,activeLinkThickness:G,inactiveLinkThickness:J,linkColor:w}),pe=he.links,ze=function(I){var P=I.setActiveNodeUids,L=I.highlightAncestorNodes,F=I.highlightDescendantNodes,$=I.links,U=I.setActiveLinkIds,ae=I.highlightAncestorLinks,be=I.highlightDescendantLinks;return x.useCallback(function(_){if(_===null)P([]),U([]);else{var se=[_.uid];L&&(se=[].concat(se,_.ancestorUids)),F&&(se=[].concat(se,_.descendantUids)),P(se);var le=[];ae&&$.filter(function(X){return X.target.uid===_.uid||_.ancestorUids.includes(X.target.uid)}).forEach(function(X){le.push(X.id)}),be&&$.filter(function(X){return X.source.uid===_.uid||_.descendantUids.includes(X.source.uid)}).forEach(function(X){le.push(X.id)}),U(le)}},[P,L,F,$,U,ae,be])}({setActiveNodeUids:te,highlightAncestorNodes:m,highlightDescendantNodes:j,links:pe,setActiveLinkIds:he.setActiveLinkIds,highlightAncestorLinks:H,highlightDescendantLinks:Re});return{nodes:me,nodeByUid:Oe,links:pe,linkGenerator:fe,setCurrentNode:ze}},vi=function(e,n){var t=n.isInteractive,r=n.onMouseEnter,o=n.onMouseMove,a=n.onMouseLeave,i=n.onClick,d=n.setCurrentNode,c=n.tooltip,s=n.tooltipPosition,f=n.tooltipAnchor,h=n.margin,u=sn(),g=u.showTooltipFromEvent,p=u.showTooltipAt,k=u.hideTooltip,b=x.useMemo(function(){if(c)return s==="fixed"?function(){var j=e.x,M=e.y;p(x.createElement(c,{node:e}),[j+h.left,M+h.top],f)}:function(j){g(x.createElement(c,{node:e}),j,f)}},[e,c,g,p,s,f,h]),C=x.useCallback(function(j){d(e),b==null||b(j),r==null||r(e,j)},[e,b,d,r]),v=x.useCallback(function(j){b==null||b(j),o==null||o(e,j)},[e,b,o]),m=x.useCallback(function(j){d(null),k(),a==null||a(e,j)},[e,k,d,a]),y=x.useCallback(function(j){i==null||i(e,j)},[e,i]);return{onMouseEnter:t?C:void 0,onMouseMove:t?v:void 0,onMouseLeave:t?m:void 0,onClick:t?y:void 0}},xi=function(e,n){var t=n.isInteractive,r=n.onMouseEnter,o=n.onMouseMove,a=n.onMouseLeave,i=n.onClick,d=n.tooltip,c=n.tooltipAnchor,s=sn(),f=s.showTooltipFromEvent,h=s.hideTooltip,u=x.useMemo(function(){if(d)return function(C){f(x.createElement(d,{link:e}),C,c)}},[e,d,f,c]),g=x.useCallback(function(C){u==null||u(C),r==null||r(e,C)},[e,u,r]),p=x.useCallback(function(C){u==null||u(C),o==null||o(e,C)},[e,u,o]),k=x.useCallback(function(C){h(),a==null||a(e,C)},[e,h,a]),b=x.useCallback(function(C){i==null||i(e,C)},[e,i]);return{onMouseEnter:t?g:void 0,onMouseMove:t?p:void 0,onMouseLeave:t?k:void 0,onClick:t?b:void 0}},ge={identity:"id",mode:"dendogram",layout:"top-to-bottom",nodeSize:12,nodeColor:{scheme:"nivo"},fixNodeColorAtDepth:1/0,linkCurve:"bump",linkThickness:1,linkColor:{from:"source.color",modifiers:[["opacity",.4]]},enableLabel:!0,label:"id",labelsPosition:"outward",orientLabel:!0,labelOffset:6,isInteractive:!0,useMesh:!0,meshDetectionRadius:1/0,debugMesh:!1,highlightAncestorNodes:!0,highlightDescendantNodes:!1,highlightAncestorLinks:!0,highlightDescendantLinks:!1,nodeTooltipPosition:"fixed",nodeTooltipAnchor:"top",role:"img",animate:!0,motionConfig:"gentle"},N=Ne({},ge,{layers:["links","nodes","labels","mesh"],nodeComponent:function(e){var n=e.node,t=e.isInteractive,r=e.onMouseEnter,o=e.onMouseMove,a=e.onMouseLeave,i=e.onClick,d=e.setCurrentNode,c=e.tooltip,s=e.tooltipPosition,f=e.tooltipAnchor,h=e.margin,u=e.animatedProps,g=vi(n,{isInteractive:t,onMouseEnter:r,onMouseMove:o,onMouseLeave:a,onClick:i,setCurrentNode:d,tooltip:c,tooltipPosition:s,tooltipAnchor:f,margin:h});return l.jsx(Se.circle,Ne({"data-testid":"node."+n.uid,r:u.size.to(function(p){return p/2}),fill:u.color,cx:u.x,cy:u.y},g))},linkComponent:function(e){var n=e.link,t=e.linkGenerator,r=e.isInteractive,o=e.onMouseEnter,a=e.onMouseMove,i=e.onMouseLeave,d=e.onClick,c=e.tooltip,s=e.tooltipAnchor,f=e.animatedProps,h=xi(n,{isInteractive:r,onMouseEnter:o,onMouseMove:a,onMouseLeave:i,onClick:d,tooltip:c,tooltipAnchor:s});return l.jsx(Se.path,Ne({"data-testid":"link."+n.id,d:on([f.sourceX,f.sourceY,f.targetX,f.targetY],function(u,g,p,k){return t({source:[u,g],target:[p,k]})}),fill:"none",strokeWidth:f.thickness,stroke:f.color},h))},labelComponent:function(e){var n=e.label,t=e.animatedProps,r=Be();return l.jsx(Se.g,{"data-testid":"label."+n.id,transform:on([t.x,t.y],function(o,a){return"translate("+o+","+a+")"}),children:l.jsxs(Se.g,{transform:t.rotation.to(function(o){return"rotate("+o+")"}),children:[r.labels.text.outlineWidth>0&&l.jsx("text",{style:Ne({},r.labels.text,{fill:r.labels.text.outlineColor}),stroke:r.labels.text.outlineColor,strokeWidth:2*r.labels.text.outlineWidth,strokeLinejoin:"round",textAnchor:n.textAnchor,dominantBaseline:n.baseline,children:n.label}),l.jsx("text",{"data-testid":"label."+n.id+".label",style:r.labels.text,textAnchor:n.textAnchor,dominantBaseline:n.baseline,children:n.label})]})})},linkTooltipAnchor:"top"});Ne({},ge,{layers:["links","nodes","labels","mesh"],renderNode:function(e,n){var t=n.node;e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fillStyle=t.color,e.fill()},renderLink:function(e,n){var t=n.link,r=n.linkGenerator;e.strokeStyle=t.color,e.lineWidth=t.thickness,e.beginPath(),r({source:[t.source.x,t.source.y],target:[t.target.x,t.target.y]}),e.stroke()},renderLabel:function(e,n){var t=n.label,r=n.theme;e.save(),e.translate(t.x,t.y),e.rotate(dr(t.rotation)),e.textBaseline="middle",e.textAlign=t.textAnchor==="middle"?"center":t.textAnchor,e.fillStyle="#000",pi(e,r.labels.text,t.label),e.restore()},pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var Nn=function(e){return{sourceX:e.source.x,sourceY:e.source.y,targetX:e.target.x,targetY:e.target.y,thickness:e.thickness,color:e.color}},ki=function(e){return{sourceX:e.source.x,sourceY:e.source.y,targetX:e.target.x,targetY:e.target.y,thickness:e.thickness,color:e.color}},Ci=function(e){var n=e.links,t=e.linkComponent,r=e.linkGenerator,o=e.isInteractive,a=e.onMouseEnter,i=e.onMouseMove,d=e.onMouseLeave,c=e.onClick,s=e.tooltip,f=e.tooltipAnchor,h=He(),u=h.animate,g=h.config,p=nn(n,{keys:function(k){return k.id},from:Nn,enter:Nn,update:Nn,leave:ki,config:g,immediate:!u});return l.jsx(l.Fragment,{children:p(function(k,b){return x.createElement(t,{link:b,linkGenerator:r,animatedProps:k,isInteractive:o,onMouseEnter:a,onMouseMove:i,onMouseLeave:d,onClick:c,tooltip:s,tooltipAnchor:f})})})},Bn=function(e){return{x:e.x,y:e.y,size:e.size,color:e.color}},Mi=function(e){return{x:e.x,y:e.y,size:0,color:e.color}},Ai=function(e){var n=e.nodes,t=e.nodeComponent,r=e.isInteractive,o=e.onMouseEnter,a=e.onMouseMove,i=e.onMouseLeave,d=e.onClick,c=e.setCurrentNode,s=e.tooltip,f=e.tooltipPosition,h=e.tooltipAnchor,u=e.margin,g=He(),p=g.animate,k=g.config,b=nn(n,{keys:function(C){return C.uid},from:Bn,enter:Bn,update:Bn,leave:Mi,config:k,immediate:!p});return l.jsx(l.Fragment,{children:b(function(C,v){return x.createElement(t,{node:v,isInteractive:r,onMouseEnter:o,onMouseMove:a,onMouseLeave:i,onClick:d,setCurrentNode:c,tooltip:s,tooltipPosition:f,tooltipAnchor:h,margin:u,animatedProps:C})})})},_n=function(e,n,t){return{x:e-t,y:n,rotation:0,textAnchor:"end",baseline:"middle"}},Kn=function(e,n,t){return{x:e+t,y:n,rotation:0,textAnchor:"start",baseline:"middle"}},qn=function(e,n,t){return{x:e,y:n-t,rotation:0,textAnchor:"middle",baseline:"auto"}},Jn=function(e,n,t){return{x:e,y:n-t,rotation:-90,textAnchor:"start",baseline:"middle"}},Zn=function(e,n,t){return{x:e,y:n+t,rotation:0,textAnchor:"middle",baseline:"hanging"}},Qn=function(e,n,t){return{x:e,y:n+t,rotation:-90,textAnchor:"end",baseline:"middle"}},lt=function(e){var n=e.orient,t=e.offset;return function(r){var o=r.size/2+t;return r.isLeaf?n?Jn(r.x,r.y,o):qn(r.x,r.y,o):n?Qn(r.x,r.y,o):Zn(r.x,r.y,o)}},ut=function(e){var n=e.orient,t=e.offset;return function(r){var o=r.size/2+t;return r.isLeaf?n?Qn(r.x,r.y,o):Zn(r.x,r.y,o):n?Jn(r.x,r.y,o):qn(r.x,r.y,o)}},dt=function(e){var n=e.orient,t=e.offset;return function(r){var o=r.size/2+t;return n?Jn(r.x,r.y,o):qn(r.x,r.y,o)}},ct=function(e){var n=e.orient,t=e.offset;return function(r){var o=r.size/2+t;return n?Qn(r.x,r.y,o):Zn(r.x,r.y,o)}},ft=function(e){var n=e.offset;return function(t){var r=t.size/2+n;return t.isLeaf?_n(t.x,t.y,r):Kn(t.x,t.y,r)}},ht=function(e){var n=e.offset;return function(t){var r=t.size/2+n;return t.isLeaf?Kn(t.x,t.y,r):_n(t.x,t.y,r)}},pt=function(e){var n=e.offset;return function(t){return _n(t.x,t.y,t.size/2+n)}},gt=function(e){var n=e.offset;return function(t){return Kn(t.x,t.y,t.size/2+n)}},ji=function(e){var n=e.nodes,t=e.label,r=e.layout,o=e.labelsPosition,a=e.orientLabel,i=e.labelOffset,d=dn(t),c=function(s){var f=s.layout,h=s.labelsPosition,u=s.orientLabel,g=s.labelOffset;return x.useMemo(function(){var p={orient:u,offset:g};if(f==="top-to-bottom"){if(h==="outward")return ut(p);if(h==="inward")return lt(p);if(h==="layout")return ct(p);if(h==="layout-opposite")return dt(p)}if(f==="bottom-to-top"){if(h==="outward")return lt(p);if(h==="inward")return ut(p);if(h==="layout")return dt(p);if(h==="layout-opposite")return ct(p)}if(f==="right-to-left"){if(h==="outward")return ft(p);if(h==="inward")return ht(p);if(h==="layout")return pt(p);if(h==="layout-opposite")return gt(p)}if(f==="left-to-right"){if(h==="outward")return ht(p);if(h==="inward")return ft(p);if(h==="layout")return gt(p);if(h==="layout-opposite")return pt(p)}},[f,h,u,g])}({layout:r,labelsPosition:o,orientLabel:a,labelOffset:i});if(c===void 0)throw new Error("Unable to determine the logic to compute labels position");return x.useMemo(function(){return n.map(function(s){return Ne({id:s.uid,node:s,label:d(s)},c(s))})},[n,d,c])},Pn=function(e){return{x:e.x,y:e.y,rotation:e.rotation}},Li=function(e){return{x:e.x,y:e.y,rotation:e.rotation}},Ri=function(e){var n=e.nodes,t=e.label,r=e.layout,o=e.labelsPosition,a=e.orientLabel,i=e.labelOffset,d=e.labelComponent,c=ji({nodes:n,label:t,layout:r,labelsPosition:o,orientLabel:a,labelOffset:i}),s=He(),f=s.animate,h=s.config,u=nn(c,{keys:function(g){return g.id},from:Pn,enter:Pn,update:Pn,leave:Li,config:h,immediate:!f});return l.jsx("g",{style:{pointerEvents:"none"},children:u(function(g,p){return x.createElement(d,{label:p,animatedProps:g})})})},Oi=x.memo(function(e){var n=e.nodes,t=e.width,r=e.height,o=e.margin,a=e.onMouseEnter,i=e.onMouseMove,d=e.onMouseLeave,c=e.onClick,s=e.setCurrentNode,f=e.tooltip,h=e.tooltipPosition,u=e.tooltipAnchor,g=e.detectionRadius,p=e.debug,k=x.useMemo(function(){if(f)return function(b){return x.createElement(f,{node:b})}},[f]);return l.jsx(ur,{nodes:n,width:t,height:r,margin:o,detectionRadius:g,setCurrent:s,onMouseEnter:a,onMouseMove:i,onMouseLeave:d,onClick:c,tooltip:k,tooltipPosition:h,tooltipAnchor:u,debug:p})}),Ti=["isInteractive","animate","motionConfig","theme","renderWrapper"],wi=function(e){var n=e.width,t=e.height,r=e.margin,o=e.data,a=e.identity,i=e.mode,d=i===void 0?N.mode:i,c=e.layout,s=c===void 0?N.layout:c,f=e.nodeSize,h=f===void 0?N.nodeSize:f,u=e.activeNodeSize,g=e.inactiveNodeSize,p=e.nodeColor,k=p===void 0?N.nodeColor:p,b=e.fixNodeColorAtDepth,C=b===void 0?N.fixNodeColorAtDepth:b,v=e.nodeComponent,m=v===void 0?N.nodeComponent:v,y=e.linkCurve,j=y===void 0?N.linkCurve:y,M=e.linkThickness,R=M===void 0?N.linkThickness:M,A=e.activeLinkThickness,T=e.inactiveLinkThickness,O=e.linkColor,w=O===void 0?N.linkColor:O,G=e.linkComponent,J=G===void 0?N.linkComponent:G,D=e.enableLabel,H=D===void 0?N.enableLabel:D,Z=e.label,Re=Z===void 0?N.label:Z,E=e.labelsPosition,ee=E===void 0?N.labelsPosition:E,oe=e.orientLabel,de=oe===void 0?N.orientLabel:oe,Y=e.labelOffset,ne=Y===void 0?N.labelOffset:Y,me=e.labelComponent,Oe=me===void 0?N.labelComponent:me,ce=e.layers,te=ce===void 0?N.layers:ce,fe=e.isInteractive,he=fe===void 0?N.isInteractive:fe,pe=e.useMesh,ze=pe===void 0?N.useMesh:pe,I=e.meshDetectionRadius,P=I===void 0?N.meshDetectionRadius:I,L=e.debugMesh,F=L===void 0?N.debugMesh:L,$=e.highlightAncestorNodes,U=$===void 0?N.highlightAncestorNodes:$,ae=e.highlightDescendantNodes,be=ae===void 0?N.highlightDescendantNodes:ae,_=e.highlightAncestorLinks,se=_===void 0?N.highlightAncestorLinks:_,le=e.highlightDescendantLinks,X=le===void 0?N.highlightDescendantLinks:le,Te=e.onNodeMouseEnter,ye=e.onNodeMouseMove,ve=e.onNodeMouseLeave,xe=e.onNodeClick,Pe=e.nodeTooltip,K=e.nodeTooltipPosition,q=K===void 0?N.nodeTooltipPosition:K,De=e.nodeTooltipAnchor,Ke=De===void 0?N.nodeTooltipAnchor:De,ke=e.onLinkMouseEnter,tn=e.onLinkMouseMove,ln=e.onLinkMouseLeave,Ue=e.onLinkClick,un=e.linkTooltip,qe=e.linkTooltipAnchor,Fe=qe===void 0?N.linkTooltipAnchor:qe,we=e.role,Je=we===void 0?N.role:we,Ce=e.ariaLabel,Ze=e.ariaLabelledBy,Ve=e.ariaDescribedBy,Ge=On(n,t,r),Qe=Ge.outerWidth,We=Ge.outerHeight,rn=Ge.margin,Me=Ge.innerWidth,en=Ge.innerHeight,Xe=yi({data:o,identity:a,layout:s,mode:d,width:Me,height:en,nodeSize:h,activeNodeSize:u,inactiveNodeSize:g,nodeColor:k,fixNodeColorAtDepth:C,highlightAncestorNodes:U,highlightDescendantNodes:be,linkCurve:j,linkThickness:R,activeLinkThickness:A,inactiveLinkThickness:T,linkColor:w,highlightAncestorLinks:se,highlightDescendantLinks:X}),$e=Xe.nodes,Ee=Xe.nodeByUid,re=Xe.links,Ye=Xe.linkGenerator,Ae=Xe.setCurrentNode,W={links:null,nodes:null,labels:null,mesh:null};te.includes("links")&&(W.links=l.jsx(Ci,{links:re,linkComponent:J,linkGenerator:Ye,isInteractive:he,onMouseEnter:ke,onMouseMove:tn,onMouseLeave:ln,onClick:Ue,tooltip:un,tooltipAnchor:Fe},"links")),te.includes("nodes")&&(W.nodes=l.jsx(Ai,{nodes:$e,nodeComponent:m,isInteractive:he,onMouseEnter:Te,onMouseMove:ye,onMouseLeave:ve,onClick:xe,setCurrentNode:Ae,tooltip:Pe,tooltipPosition:q,tooltipAnchor:Ke,margin:rn},"nodes")),te.includes("labels")&&H&&(W.labels=l.jsx(Ri,{label:Re,nodes:$e,layout:s,labelsPosition:ee,orientLabel:de,labelOffset:ne,labelComponent:Oe},"labels")),te.includes("mesh")&&he&&ze&&(W.mesh=l.jsx(Oi,{nodes:$e,width:Me,height:en,margin:rn,detectionRadius:P,debug:F,onMouseEnter:Te,onMouseMove:ye,onMouseLeave:ve,onClick:xe,tooltip:Pe,tooltipPosition:q,tooltipAnchor:Ke,setCurrentNode:Ae},"mesh"));var ie=x.useMemo(function(){return{nodes:$e,nodeByUid:Ee,links:re,innerWidth:Me,innerHeight:en,linkGenerator:Ye,setCurrentNode:Ae}},[$e,Ee,re,Me,en,Ye,Ae]);return l.jsx(Tn,{width:Qe,height:We,margin:rn,role:Je,ariaLabel:Ce,ariaLabelledBy:Ze,ariaDescribedBy:Ve,children:te.map(function(je,Vt){var et;return typeof je=="function"?l.jsx(x.Fragment,{children:x.createElement(je,ie)},Vt):(et=W==null?void 0:W[je])!=null?et:null})})},Ei=function(e){var n=e.isInteractive,t=n===void 0?N.isInteractive:n,r=e.animate,o=r===void 0?N.animate:r,a=e.motionConfig,i=a===void 0?N.motionConfig:a,d=e.theme,c=e.renderWrapper,s=gi(e,Ti);return l.jsx(Rn,{animate:o,isInteractive:t,motionConfig:i,renderWrapper:c,theme:d,children:l.jsx(wi,Ne({isInteractive:t},s))})},Ii=function(e){return l.jsx(Ln,{children:function(n){var t=n.width,r=n.height;return l.jsx(Ei,Ne({width:t,height:r},e))}})};const Si=({node:e})=>{const n=Be();return l.jsx(jn,{style:{...n.tooltip.container,backgroundColor:e.color,color:"#ffffff"},children:l.jsxs(Le.dl,{children:[l.jsx(Le.dt,{children:"id"}),l.jsxs(Le.dd,{children:[l.jsx("strong",{children:e.id}),"."]}),l.jsx(Le.dt,{children:"path"}),l.jsx(Le.dd,{children:l.jsxs("strong",{children:[e.ancestorIds.join(" > ")," > ",e.id]})}),l.jsx(Le.dt,{children:"uid"}),l.jsx(Le.dd,{children:l.jsx("strong",{children:e.uid})})]})})},Ni=({link:e})=>{const n=Be();return l.jsx(jn,{style:n.tooltip.container,children:l.jsxs(Le.dl,{children:[l.jsx(Le.dt,{children:"id"}),l.jsx(Le.dt,{children:l.jsx("strong",{children:e.id})}),l.jsx("br",{}),l.jsx(Le.dt,{children:"source:"}),l.jsx(Le.dt,{children:l.jsx("strong",{children:e.source.id})}),l.jsx("br",{}),l.jsx(Le.dt,{children:"target: "}),l.jsx(Le.dt,{children:l.jsx("strong",{children:e.target.id})})]})})},Bi=({data:e,identity:n})=>{const{t}=ue();return l.jsx(Ii,{ariaLabel:t("ontology.charts.cluster.title"),data:e,identity:n,mode:"dendogram",activeNodeSize:24,inactiveNodeSize:12,nodeColor:{scheme:"category10"},fixNodeColorAtDepth:1,linkThickness:2,activeLinkThickness:8,inactiveLinkThickness:2,orientLabel:!1,linkColor:{from:"target.color",modifiers:[["opacity",.4]]},margin:{top:90,right:90,bottom:90,left:90},motionConfig:"stiff",meshDetectionRadius:80,layout:"bottom-to-top",onLinkMouseEnter:()=>{},onLinkMouseMove:()=>{},onLinkMouseLeave:()=>{},onLinkClick:()=>{},linkTooltip:Ni,nodeTooltip:Si,linkTooltipAnchor:"center",nodeComponent:r=>r.node.depth===0?l.jsxs("g",{children:[l.jsx("circle",{"data-testid":r.node.path.join("."),r:"20",fill:"none",cx:r.node.x,cy:r.node.y}),l.jsx("image",{href:Nr,height:"30",width:"30",x:r.node.x-15,y:r.node.y-15})]}):l.jsx("circle",{"data-testid":r.node.path.join("."),r:"6",fill:r.node.color,cx:r.node.x,cy:r.node.y})})};var Hn=(e=>(e.BRIDGE="BRIDGE",e.ADAPTER="ADAPTER",e))(Hn||{});const $t=[{key:"runtime",name:"Runtime Status",keyFunction:e=>{var n;return(n=e.payload.status)==null?void 0:n.runtime}},{key:"type",name:"Started at",keyFunction:e=>{var n;return zr.fromISO((n=e.payload.status)==null?void 0:n.startedAt).toRelative()}},{key:"type",name:"Adapter type",keyFunction:e=>e.payload.type},{key:"cat",name:"ssss",keyFunction:e=>e.cat}],Pi=({children:e,...n})=>l.jsx($r.Option,{...n,children:l.jsx(cn,{flexWrap:"nowrap",children:l.jsx(Un,{children:e})})}),Di=e=>{const n=Br({uiSchema:e.uiSchema}),t=x.useMemo(()=>e.options.enumOptions?e.options.enumOptions:[],[e.options.enumOptions]),r=x.useCallback(o=>{o&&e.onChange(o.value)},[e]);return l.jsxs(Kt,{"data-testid":"rjsf-compact-selector",...n,isDisabled:e.disabled||e.readonly,isRequired:e.required,isReadOnly:e.readonly,isInvalid:e.rawErrors&&e.rawErrors.length>0,children:[Pr(l.jsx(qt,{htmlFor:e.id,id:`${e.id}-label`,children:e.label}),e.hideLabel||!e.label),l.jsx(Gr,{size:"md",inputId:e.id,id:"react-select-dataPoint-container",instanceId:"dataPoint",isRequired:e.required,options:t,value:t.find(o=>o.value===e.value),onChange:r,components:{Option:Pi}})]})};/* istanbul ignore file -- @preserve */const Fi={properties:{groups:{type:"array",title:Gn.t("ontology.charts.cluster.configuration.title"),description:Gn.t("ontology.charts.cluster.configuration.description"),items:{type:"string",enum:$t.map(e=>e.name)}}}},Wi={"ui:submitButtonOptions":{norender:!0},groups:{items:{"ui:widget":Di,"ui:addButton":Gn.t("ontology.charts.cluster.configuration.cta.add")}}},zi=({groupKeys:e,onSubmit:n})=>{const{t}=ue(),r=x.useMemo(()=>({groups:[...e]}),[e]);return l.jsx(Lt,{placement:"bottom-start",closeOnBlur:!1,isLazy:!0,children:({onClose:o})=>l.jsxs(l.Fragment,{children:[l.jsx(Rt,{children:l.jsx(zn,{"data-testid":"cluster-form-trigger",children:t("ontology.charts.cluster.configuration.cta.config")})}),l.jsxs(Ot,{minWidth:"sm",children:[l.jsx(Tt,{}),l.jsx(wt,{}),l.jsx(Et,{children:t("ontology.charts.cluster.configuration.header")}),l.jsxs(It,{children:[l.jsx(Dr,{id:"cluster-form",schema:Fi,uiSchema:Wi,formData:r,validator:Lr,onChange:a=>console.log("onChange",a),onSubmit:a=>{console.log("onSubmit",a.formData.groups),n(a.formData.groups),o()},templates:{ArrayFieldTemplate:Fr}}),l.jsx(cn,{justifyContent:"flex-end",children:l.jsx(zn,{type:"submit",form:"cluster-form",variant:"primary",children:t("ontology.charts.cluster.configuration.cta.submit")})})]})]})]})})},Gi=()=>{const{t:e}=ue(),n=Wt(),t=Hr(),[r,o]=x.useState([]);x.useEffect(()=>{if(n.isError||t.isError)return;const i=setInterval(()=>{n.refetch().finally(),t.refetch().finally()},2e3);return()=>clearInterval(i)},[t,n]);const a=x.useMemo(()=>{var h,u;const i=[{id:e("ontology.error.noDataLoaded")}],d=[...((h=t.data)==null?void 0:h.map(g=>({category:Hn.ADAPTER,payload:g,name:g.id})))||[],...((u=n.data)==null?void 0:u.map(g=>({category:Hn.BRIDGE,payload:g,name:g.id})))||[]],c=r.reduce((g,p)=>{const k=$t.find(b=>b.name===p);return k&&g.push(k.keyFunction),g},[]),s=no(d,...c),f=Ft(s.length?s:i);return f.children===void 0?{...f,children:[...f.data],data:["Root",f.data]}:f},[r,t.data,n.data,e]);return{isLoading:t.isLoading||n.isLoading,isError:t.isError||n.isError,data:a,clusterKeys:r,setClusterKeys:o}},$i=()=>{const{t:e}=ue(),{data:n,clusterKeys:t,setClusterKeys:r,isError:o,isLoading:a}=Gi(),i=e("ontology.charts.cluster.help",{returnObjects:!0});return a?l.jsx(fn,{}):o?l.jsx(hn,{type:e("ontology.error.loading")}):l.jsx(En,{"data-testid":"edge-panel-adapter-clusters",cta:l.jsx(zi,{groupKeys:t,onSubmit:d=>r(d)}),helpTitle:e("ontology.charts.cluster.title"),help:i.map((d,c)=>l.jsx(Un,{children:d},`test-${c}`)),children:l.jsx(Bi,{data:n,identity:d=>{const c=d;if(c.depth===0)return e("branding.appName");if(Array.isArray(c.data)){const[s]=c.data;return s||e("branding.appName")}return c.data?c.data.name:c.name}})})};function Ht(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Hi(e){return e.length===1&&(e=Ui(e)),{left:function(n,t,r,o){for(r==null&&(r=0),o==null&&(o=n.length);r<o;){var a=r+o>>>1;e(n[a],t)<0?r=a+1:o=a}return r},right:function(n,t,r,o){for(r==null&&(r=0),o==null&&(o=n.length);r<o;){var a=r+o>>>1;e(n[a],t)>0?o=a:r=a+1}return r}}}function Ui(e){return function(n,t){return Ht(e(n),t)}}Hi(Ht);function mt(e,n,t){e=+e,n=+n,t=(o=arguments.length)<2?(n=e,e=0,1):o<3?1:+t;for(var r=-1,o=Math.max(0,Math.ceil((n-e)/t))|0,a=new Array(o);++r<o;)a[r]=e+r*t;return a}var bt=Math.cos,yt=Math.sin,Ut=Math.PI,mn=Ut/2,vt=Ut*2,xt=Math.max;function Vi(e){return function(n,t){return e(n.source.value+n.target.value,t.source.value+t.target.value)}}function Xi(){var e=0,n=null,t=null,r=null;function o(a){var i=a.length,d=[],c=mt(i),s=[],f=[],h=f.groups=new Array(i),u=new Array(i*i),g,p,k,b,C,v;for(g=0,C=-1;++C<i;){for(p=0,v=-1;++v<i;)p+=a[C][v];d.push(p),s.push(mt(i)),g+=p}for(n&&c.sort(function(O,w){return n(d[O],d[w])}),t&&s.forEach(function(O,w){O.sort(function(G,J){return t(a[w][G],a[w][J])})}),g=xt(0,vt-e*i)/g,b=g?e:vt/i,p=0,C=-1;++C<i;){for(k=p,v=-1;++v<i;){var m=c[C],y=s[m][v],j=a[m][y],M=p,R=p+=j*g;u[y*i+m]={index:m,subindex:y,startAngle:M,endAngle:R,value:j}}h[m]={index:m,startAngle:k,endAngle:p,value:d[m]},p+=b}for(C=-1;++C<i;)for(v=C-1;++v<i;){var A=u[v*i+C],T=u[C*i+v];(A.value||T.value)&&f.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}return r?f.sort(r):f}return o.padAngle=function(a){return arguments.length?(e=xt(0,a),o):e},o.sortGroups=function(a){return arguments.length?(n=a,o):n},o.sortSubgroups=function(a){return arguments.length?(t=a,o):t},o.sortChords=function(a){return arguments.length?(a==null?r=null:(r=Vi(a))._=a,o):r&&r._},o}var Yi=Array.prototype.slice;function Dn(e){return function(){return e}}function _i(e){return e.source}function Ki(e){return e.target}function qi(e){return e.radius}function Ji(e){return e.startAngle}function Zi(e){return e.endAngle}function Qi(){var e=_i,n=Ki,t=qi,r=Ji,o=Zi,a=null;function i(){var d,c=Yi.call(arguments),s=e.apply(this,c),f=n.apply(this,c),h=+t.apply(this,(c[0]=s,c)),u=r.apply(this,c)-mn,g=o.apply(this,c)-mn,p=h*bt(u),k=h*yt(u),b=+t.apply(this,(c[0]=f,c)),C=r.apply(this,c)-mn,v=o.apply(this,c)-mn;if(a||(a=d=Vr()),a.moveTo(p,k),a.arc(0,0,h,u,g),(u!==C||g!==v)&&(a.quadraticCurveTo(0,0,b*bt(C),b*yt(C)),a.arc(0,0,b,C,v)),a.quadraticCurveTo(0,0,p,k),a.closePath(),d)return a=null,d+""||null}return i.radius=function(d){return arguments.length?(t=typeof d=="function"?d:Dn(+d),i):t},i.startAngle=function(d){return arguments.length?(r=typeof d=="function"?d:Dn(+d),i):r},i.endAngle=function(d){return arguments.length?(o=typeof d=="function"?d:Dn(+d),i):o},i.source=function(d){return arguments.length?(e=d,i):e},i.target=function(d){return arguments.length?(n=d,i):n},i.context=function(d){return arguments.length?(a=d??null,i):a},i}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Q.apply(this,arguments)}function ea(e,n){if(e==null)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var na=x.memo(function(e){var n=e.arc;return l.jsx(kn,{id:n.label,value:n.formattedValue,color:n.color,enableChip:!0})}),ta=x.memo(function(e){var n=e.ribbon;return l.jsx(cr,{rows:[[l.jsx(Cn,{color:n.source.color},"chip"),l.jsx("strong",{children:n.source.label},"id"),n.source.formattedValue],[l.jsx(Cn,{color:n.target.color},"chip"),l.jsx("strong",{children:n.target.label},"id"),n.target.formattedValue]]})}),Ie={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:na,ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},z=Q({},Ie,{ribbonBlendMode:"normal",ribbonTooltip:ta});Q({},Ie,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var ra=function(e){var n=e.padAngle;return Xi().padAngle(n)},oa=function(e){var n=e.width,t=e.height,r=e.innerRadiusRatio,o=e.innerRadiusOffset,a=[n/2,t/2],i=Math.min(n,t)/2,d=i*r,c=i*(r-o);return{center:a,radius:i,innerRadius:d,arcGenerator:Pt().outerRadius(i).innerRadius(d),ribbonGenerator:Qi().radius(c)}},ia=function(e){var n=e.chord,t=e.data,r=e.keys,o=e.getLabel,a=e.formatValue,i=e.getColor,d=n(t),c=d.groups.map(function(s){var f=Q({},s,{id:r[s.index],formattedValue:a(s.value)});return Q({},f,{label:o(f),color:i(f)})});return{arcs:c,ribbons:d.map(function(s){var f=Q({},s.source,{id:r[s.source.index],formattedValue:a(s.source.value)}),h=Q({},s.target,{id:r[s.target.index],formattedValue:a(s.target.value)});return Q({},s,{id:[f.id,h.id].sort().join("."),source:Q({},f,{label:o(f),color:i(f)}),target:Q({},h,{label:o(h),color:i(h)})})})}},aa=function(e){var n=e.startAngle,t=e.endAngle,r=e.arcGenerator;return on([n,t],function(o,a){return r({startAngle:o,endAngle:a})})},sa=function(e){var n=e.sourceStartAngle,t=e.sourceEndAngle,r=e.targetStartAngle,o=e.targetEndAngle,a=e.ribbonGenerator;return on([n,t,r,o],function(i,d,c,s){return a({source:{startAngle:Math.min(i,d),endAngle:Math.max(d,i)},target:{startAngle:Math.min(c,s),endAngle:Math.max(s,c)}})})},la=function(e){var n=e.padAngle;return x.useMemo(function(){return ra({padAngle:n})},[n])},ua=function(e){var n=e.width,t=e.height,r=e.innerRadiusRatio,o=e.innerRadiusOffset;return x.useMemo(function(){return oa({width:n,height:t,innerRadiusRatio:r,innerRadiusOffset:o})},[n,t,r,o])},da=function(e){var n=e.chord,t=e.getColor,r=e.keys,o=e.data,a=e.getLabel,i=e.formatValue;return x.useMemo(function(){return ia({chord:n,data:o,keys:r,getLabel:a,formatValue:i,getColor:t})},[n,t,r,o,a,i])},ca=function(e){var n=e.data,t=e.keys,r=e.label,o=r===void 0?Ie.label:r,a=e.valueFormat,i=e.width,d=e.height,c=e.innerRadiusRatio,s=c===void 0?Ie.innerRadiusRatio:c,f=e.innerRadiusOffset,h=f===void 0?Ie.innerRadiusOffset:f,u=e.padAngle,g=u===void 0?Ie.padAngle:u,p=e.colors,k=p===void 0?Ie.colors:p,b=la({padAngle:g}),C=ua({width:i,height:d,innerRadiusRatio:s,innerRadiusOffset:h}),v=C.center,m=C.radius,y=C.innerRadius,j=C.arcGenerator,M=C.ribbonGenerator,R=x.useMemo(function(){return fr(o)},[o]),A=Vn(a),T=wn(k,"id"),O=da({chord:b,getColor:T,keys:t,data:n,getLabel:R,formatValue:A});return{center:v,chord:b,radius:m,innerRadius:y,arcGenerator:j,ribbonGenerator:M,getColor:T,arcs:O.arcs,ribbons:O.ribbons}},fa=function(e){var n=e.arcOpacity,t=n===void 0?Ie.arcOpacity:n,r=e.activeArcOpacity,o=r===void 0?Ie.activeArcOpacity:r,a=e.inactiveArcOpacity,i=a===void 0?Ie.inactiveArcOpacity:a,d=e.ribbons,c=e.ribbonOpacity,s=c===void 0?Ie.ribbonOpacity:c,f=e.activeRibbonOpacity,h=f===void 0?Ie.activeRibbonOpacity:f,u=e.inactiveRibbonOpacity,g=u===void 0?Ie.inactiveRibbonOpacity:u,p=x.useState(null),k=p[0],b=p[1],C=x.useState(null),v=C[0],m=C[1],y=x.useMemo(function(){var A=[],T=[];return k&&(A.push(k.id),d.filter(function(O){return O.source.id===k.id||O.target.id===k.id}).forEach(function(O){T.push(O.id)})),v&&(A.push(v.source.id),A.push(v.target.id),T.push(v.id)),{selectedArcIds:A,selectedRibbonIds:T}},[k,v,d]),j=y.selectedArcIds.length>1||y.selectedRibbonIds.length>0,M=x.useMemo(function(){return function(A){return j?y.selectedArcIds.includes(A.id)?o:i:t}},[j,y.selectedArcIds,t,o,i]),R=x.useMemo(function(){return function(A){return j?y.selectedRibbonIds.includes(A.id)?h:g:s}},[j,y.selectedRibbonIds,s,h,g]);return Q({currentArc:k,setCurrentArc:b,currentRibbon:v,setCurrentRibbon:m,hasSelection:j},y,{getArcOpacity:M,getRibbonOpacity:R})},ha=function(e){var n=e.center,t=e.radius,r=e.arcs,o=e.arcGenerator,a=e.ribbons,i=e.ribbonGenerator;return x.useMemo(function(){return{center:n,radius:t,arcs:r,arcGenerator:o,ribbons:a,ribbonGenerator:i}},[n,t,r,o,a,i])},pa=x.memo(function(e){var n=e.ribbon,t=e.ribbonGenerator,r=e.animatedProps,o=e.borderWidth,a=e.blendMode,i=e.isInteractive,d=e.setCurrent,c=e.onMouseEnter,s=e.onMouseMove,f=e.onMouseLeave,h=e.onClick,u=e.tooltip,g=sn(),p=g.showTooltipFromEvent,k=g.hideTooltip,b=x.useMemo(function(){if(i)return function(y){d(n),p(x.createElement(u,{ribbon:n}),y),c==null||c(n,y)}},[i,p,u,n,c,d]),C=x.useMemo(function(){if(i)return function(y){p(x.createElement(u,{ribbon:n}),y),s==null||s(n,y)}},[i,p,u,n,s]),v=x.useMemo(function(){if(i)return function(y){d(null),k(),f==null||f(n,y)}},[i,k,n,f,d]),m=x.useMemo(function(){if(i&&h)return function(y){return h==null?void 0:h(n,y)}},[i,n,h]);return l.jsx(Se.path,{"data-testid":"ribbon."+n.source.id+"."+n.target.id,d:sa({sourceStartAngle:r.sourceStartAngle,sourceEndAngle:r.sourceEndAngle,targetStartAngle:r.targetStartAngle,targetEndAngle:r.targetEndAngle,ribbonGenerator:t}),fill:r.color,opacity:r.opacity,strokeWidth:o,stroke:r.borderColor,style:{mixBlendMode:a},onMouseEnter:b,onMouseMove:C,onMouseLeave:v,onClick:m})}),bn=function(e,n){var t,r,o=e.source,a=e.target;return o.startAngle<a.startAngle?(t=o,r=a):(t=a,r=o),{sourceStartAngle:t.startAngle,sourceEndAngle:t.endAngle,targetStartAngle:r.startAngle,targetEndAngle:r.endAngle}},ga=x.memo(function(e){var n=e.ribbons,t=e.ribbonGenerator,r=e.borderWidth,o=e.borderColor,a=e.getOpacity,i=e.blendMode,d=e.isInteractive,c=e.setCurrent,s=e.onMouseEnter,f=e.onMouseMove,h=e.onMouseLeave,u=e.onClick,g=e.tooltip,p=He(),k=p.animate,b=p.config,C=Be(),v=_e(o,C),m=nn(n,{keys:function(y){return y.id},initial:function(y){return Q({},bn(y,!1),{color:y.source.color,opacity:a(y),borderColor:v(y.source)})},from:function(y){return Q({},bn(y,!1),{color:y.source.color,opacity:0,borderColor:v(y.source)})},update:function(y){return Q({},bn(y,!1),{color:y.source.color,opacity:a(y),borderColor:v(y.source)})},leave:function(y){return Q({},bn(y,!1),{color:y.source.color,opacity:0,borderColor:v(y.source)})},expires:!0,config:b,immediate:!k});return l.jsx(l.Fragment,{children:m(function(y,j){return l.jsx(pa,{ribbon:j,ribbonGenerator:t,animatedProps:y,borderWidth:r,blendMode:i,setCurrent:c,isInteractive:d,tooltip:g,onMouseEnter:s,onMouseMove:f,onMouseLeave:h,onClick:u},j.id)})})}),ma=x.memo(function(e){var n=e.arc,t=e.animatedProps,r=e.borderWidth,o=e.arcGenerator,a=e.setCurrent,i=e.isInteractive,d=e.onMouseEnter,c=e.onMouseMove,s=e.onMouseLeave,f=e.onClick,h=e.tooltip,u=sn(),g=u.showTooltipFromEvent,p=u.hideTooltip,k=x.useMemo(function(){if(i)return function(m){a(n),g(x.createElement(h,{arc:n}),m),d==null||d(n,m)}},[i,g,h,n,d,a]),b=x.useMemo(function(){if(i)return function(m){g(x.createElement(h,{arc:n}),m),c==null||c(n,m)}},[i,g,h,n,c]),C=x.useMemo(function(){if(i)return function(m){a(null),p(),s==null||s(n,m)}},[i,p,n,s,a]),v=x.useMemo(function(){if(i&&f)return function(m){return f==null?void 0:f(n,m)}},[i,n,f]);return l.jsx(Se.path,{"data-testid":"arc."+n.id,d:aa({startAngle:t.startAngle,endAngle:t.endAngle,arcGenerator:o}),fill:t.color,opacity:t.opacity,strokeWidth:r,stroke:t.borderColor,onMouseEnter:k,onMouseMove:b,onMouseLeave:C,onClick:v})}),ba=x.memo(function(e){var n=e.arcs,t=e.borderWidth,r=e.borderColor,o=e.getOpacity,a=e.arcGenerator,i=e.setCurrent,d=e.isInteractive,c=e.onMouseEnter,s=e.onMouseMove,f=e.onMouseLeave,h=e.onClick,u=e.tooltip,g=He(),p=g.animate,k=g.config,b=Be(),C=_e(r,b),v=nn(n,{keys:function(m){return m.id},initial:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:o(m),borderColor:C(m)}},from:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:0,borderColor:C(m)}},update:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:o(m),borderColor:C(m)}},leave:function(m){return{startAngle:m.startAngle,endAngle:m.endAngle,color:m.color,opacity:0,borderColor:C(m)}},expires:!0,config:k,immediate:!p});return l.jsx(l.Fragment,{children:v(function(m,y){return l.jsx(ma,{arc:y,arcGenerator:a,animatedProps:m,borderWidth:t,setCurrent:i,isInteractive:d,tooltip:u,onMouseEnter:c,onMouseMove:s,onMouseLeave:f,onClick:h},y.id)})})}),ya=x.memo(function(e){var n=e.arcs,t=e.radius,r=e.rotation,o=e.color,a=He(),i=a.animate,d=a.config,c=Be(),s=_e(o,c),f=x.useMemo(function(){return n.map(function(u){var g=St(u),p=hr(t,g,r);return{id:u.id,label:u.label,x:p.x,y:p.y,rotation:p.rotate,color:s(u),textAnchor:p.align,dominantBaseline:p.baseline}})},[n,t,r,s]),h=nn(f,{keys:function(u){return u.id},initial:function(u){return{x:u.x,y:u.y,rotation:u.rotation,color:u.color}},from:function(u){return{x:u.x,y:u.y,rotation:u.rotation,color:u.color}},enter:function(u){return{x:u.x,y:u.y,rotation:u.rotation,color:u.color}},update:function(u){return{x:u.x,y:u.y,rotation:u.rotation,color:u.color}},expires:!0,config:d,immediate:!i});return l.jsx(l.Fragment,{children:h(function(u,g){return l.jsx(Se.text,{"data-testid":"label."+g.id,style:Q({},c.labels.text,{pointerEvents:"none",fill:u.color}),transform:on([u.x,u.y,u.rotation],function(p,k,b){return"translate("+p+", "+k+") rotate("+b+")"}),textAnchor:g.textAnchor,dominantBaseline:g.dominantBaseline,children:g.label},g.id)})})}),va=["isInteractive","animate","motionConfig","theme","renderWrapper"],xa=function(e){var n=e.data,t=e.keys,r=e.label,o=e.valueFormat,a=e.margin,i=e.width,d=e.height,c=e.innerRadiusRatio,s=c===void 0?z.innerRadiusRatio:c,f=e.innerRadiusOffset,h=f===void 0?z.innerRadiusOffset:f,u=e.padAngle,g=u===void 0?z.padAngle:u,p=e.layers,k=p===void 0?z.layers:p,b=e.colors,C=b===void 0?z.colors:b,v=e.arcBorderWidth,m=v===void 0?z.arcBorderWidth:v,y=e.arcBorderColor,j=y===void 0?z.arcBorderColor:y,M=e.arcOpacity,R=M===void 0?z.arcOpacity:M,A=e.activeArcOpacity,T=A===void 0?z.activeArcOpacity:A,O=e.inactiveArcOpacity,w=O===void 0?z.inactiveArcOpacity:O,G=e.arcTooltip,J=G===void 0?z.arcTooltip:G,D=e.ribbonBorderWidth,H=D===void 0?z.ribbonBorderWidth:D,Z=e.ribbonBorderColor,Re=Z===void 0?z.ribbonBorderColor:Z,E=e.ribbonBlendMode,ee=E===void 0?z.ribbonBlendMode:E,oe=e.ribbonOpacity,de=oe===void 0?z.ribbonOpacity:oe,Y=e.activeRibbonOpacity,ne=Y===void 0?z.activeRibbonOpacity:Y,me=e.inactiveRibbonOpacity,Oe=me===void 0?z.inactiveRibbonOpacity:me,ce=e.ribbonTooltip,te=ce===void 0?z.ribbonTooltip:ce,fe=e.enableLabel,he=fe===void 0?z.enableLabel:fe,pe=e.labelOffset,ze=pe===void 0?z.labelOffset:pe,I=e.labelRotation,P=I===void 0?z.labelRotation:I,L=e.labelTextColor,F=L===void 0?z.labelTextColor:L,$=e.isInteractive,U=$===void 0?z.isInteractive:$,ae=e.onArcMouseEnter,be=e.onArcMouseMove,_=e.onArcMouseLeave,se=e.onArcClick,le=e.onRibbonMouseEnter,X=e.onRibbonMouseMove,Te=e.onRibbonMouseLeave,ye=e.onRibbonClick,ve=e.legends,xe=ve===void 0?z.legends:ve,Pe=e.role,K=Pe===void 0?z.role:Pe,q=e.ariaLabel,De=e.ariaLabelledBy,Ke=e.ariaDescribedBy,ke=On(i,d,a),tn=ke.margin,ln=ke.innerWidth,Ue=ke.innerHeight,un=ke.outerWidth,qe=ke.outerHeight,Fe=ca({data:n,keys:t,label:r,valueFormat:o,width:ln,height:Ue,innerRadiusRatio:s,innerRadiusOffset:h,padAngle:g,colors:C}),we=Fe.center,Je=Fe.radius,Ce=Fe.arcGenerator,Ze=Fe.ribbonGenerator,Ve=Fe.arcs,Ge=Fe.ribbons,Qe=fa({arcOpacity:R,activeArcOpacity:T,inactiveArcOpacity:w,ribbons:Ge,ribbonOpacity:de,activeRibbonOpacity:ne,inactiveRibbonOpacity:Oe}),We=Qe.setCurrentArc,rn=Qe.setCurrentRibbon,Me=Qe.getArcOpacity,en=Qe.getRibbonOpacity,Xe=ha({center:we,radius:Je,arcs:Ve,arcGenerator:Ce,ribbons:Ge,ribbonGenerator:Ze});if(Je<=0)return null;var $e=Ve.map(function(re){return{id:re.id,label:re.label,color:re.color}}),Ee={ribbons:null,arcs:null,labels:null,legends:null};return k.includes("ribbons")&&(Ee.ribbons=l.jsx("g",{transform:"translate("+we[0]+", "+we[1]+")",children:l.jsx(ga,{ribbons:Ge,ribbonGenerator:Ze,borderWidth:H,borderColor:Re,getOpacity:en,blendMode:ee,setCurrent:rn,isInteractive:U,onMouseEnter:le,onMouseMove:X,onMouseLeave:Te,onClick:ye,tooltip:te})},"ribbons")),k.includes("arcs")&&(Ee.arcs=l.jsx("g",{transform:"translate("+we[0]+", "+we[1]+")",children:l.jsx(ba,{arcs:Ve,arcGenerator:Ce,borderWidth:m,borderColor:j,getOpacity:Me,setCurrent:We,isInteractive:U,onMouseEnter:ae,onMouseMove:be,onMouseLeave:_,onClick:se,tooltip:J})},"arcs")),k.includes("labels")&&he&&(Ee.labels=l.jsx("g",{transform:"translate("+we[0]+", "+we[1]+")",children:l.jsx(ya,{arcs:Ve,radius:Je+ze,rotation:P,color:F})},"labels")),k.includes("legends")&&xe.length>0&&(Ee.legends=l.jsx(x.Fragment,{children:xe.map(function(re,Ye){return l.jsx(Nt,Q({},re,{containerWidth:ln,containerHeight:Ue,data:$e}),Ye)})},"legends")),l.jsx(Tn,{width:un,height:qe,margin:tn,role:K,ariaLabel:q,ariaLabelledBy:De,ariaDescribedBy:Ke,children:k.map(function(re,Ye){var Ae;return typeof re=="function"?l.jsx(x.Fragment,{children:x.createElement(re,Xe)},Ye):(Ae=Ee==null?void 0:Ee[re])!=null?Ae:null})})},ka=function(e){var n=e.isInteractive,t=n===void 0?z.isInteractive:n,r=e.animate,o=r===void 0?z.animate:r,a=e.motionConfig,i=a===void 0?z.motionConfig:a,d=e.theme,c=e.renderWrapper,s=ea(e,va);return l.jsx(Rn,{animate:o,isInteractive:t,motionConfig:i,renderWrapper:c,theme:d,children:l.jsx(xa,Q({isInteractive:t},s))})},Ca=function(e){return l.jsx(Ln,{children:function(n){var t=n.width,r=n.height;return l.jsx(ka,Q({},e,{width:t,height:r}))}})};const Ma=({matrix:e,keys:n})=>{const{t}=ue();return l.jsx(Ca,{ariaLabel:t("ontology.charts.relationChord.title"),data:e,keys:n,margin:{top:0,right:200,bottom:0,left:0},padAngle:.25,innerRadiusRatio:.86,innerRadiusOffset:.02,inactiveArcOpacity:.4,arcBorderWidth:0,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},activeRibbonOpacity:.75,inactiveRibbonOpacity:0,ribbonBorderWidth:0,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:({arc:r})=>l.jsx(vn,{children:l.jsx(xn,{children:r.label})}),ribbonTooltip:({ribbon:r})=>l.jsx(vn,{children:l.jsxs(xn,{children:["From ",r.target.label," to ",r.source.label]})}),labelOffset:9,labelRotation:-90,labelTextColor:{from:"color",modifiers:[["darker",1]]},colors:{scheme:"category10"},legends:[{anchor:"right",direction:"column",justify:!1,translateX:120,translateY:0,itemWidth:80,itemHeight:11,itemsSpacing:0,itemTextColor:"#999",itemDirection:"left-to-right",symbolSize:12,effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})},Fn=1,kt=3,Aa=()=>{var s,f,h,u;const{t:e}=ue(),{topicFilters:n,tags:t,northMappings:r,bridgeSubscriptions:o,southMappings:a,isLoading:i,isError:d}=Yn();return{matrixData:x.useMemo(()=>{var C,v,m,y,j,M;let g={};g=((C=n.data)==null?void 0:C.items.reduce((R,A)=>(R[A.topicFilter]=A,R),g))||g,g=((v=t.data)==null?void 0:v.items.reduce((R,A)=>(R[A.name]=A,R),g))||g,g=((m=r.data)==null?void 0:m.items.reduce((R,A)=>(R[A.topic]=A,R),g))||g;const p=Array.from(new Set([...Object.keys(g),...o.topics,...o.topicFilters])),k=Array.from(Array(p.length),()=>Array.from(Array(p.length),()=>0));if(!p.length)return{matrix:[[0,Fn,Fn],[kt,0,0],[kt,0,0]],keys:[e("branding.appName"),e("ontology.error.noTopicLoaded"),e("ontology.error.noTagLoaded")]};const b=(R,A)=>{R!==-1&&A!==-1&&(k[R][R]+=0,k[A][A]+=0,k[R][A]+=Fn,k[A][R]+=3)};for(const R of((y=r.data)==null?void 0:y.items)||[]){const A=p.findIndex(O=>O===R.tagName),T=p.findIndex(O=>O===R.topic);b(A,T)}for(const R of((j=a.data)==null?void 0:j.items)||[]){const A=p.findIndex(O=>O===R.topicFilter),T=p.findIndex(O=>O===R.tagName);b(A,T)}for(const R of o.mappings||[]){const A=p.findIndex(O=>O===R[0]),T=p.findIndex(O=>O===R[1]);b(A,T)}for(const R of p)for(const A of((M=n.data)==null?void 0:M.items)||[])if(Jr(A.topicFilter,R)&&A.topicFilter!==R){const O=p.findIndex(G=>G===R),w=p.findIndex(G=>G===A.topicFilter);b(O,w)}return{matrix:k,keys:p}},[o.mappings,o.topicFilters,o.topics,(s=r.data)==null?void 0:s.items,(f=a.data)==null?void 0:f.items,e,(h=t.data)==null?void 0:h.items,(u=n.data)==null?void 0:u.items]),isLoading:i,isError:d}},ja=()=>{const{t:e}=ue(),{matrixData:n,isError:t,isLoading:r}=Aa();return r?l.jsx(fn,{}):t?l.jsx(hn,{type:e("ontology.error.loading")}):l.jsx(En,{"data-testid":"edge-panel-relation-matrix",children:l.jsx(Ma,{matrix:n.matrix,keys:n.keys})})};function an(){return an=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},an.apply(this,arguments)}var Wn={container:{display:"flex",alignItems:"center"},sourceChip:{marginRight:7},targetChip:{marginLeft:7,marginRight:7}},La={center:qr,justify:Kr,start:_r,end:Yr},Ra=function(e){return La[e]},S={layout:"horizontal",align:"center",sort:"auto",colors:{scheme:"nivo"},nodeOpacity:.75,nodeHoverOpacity:1,nodeHoverOthersOpacity:.15,nodeThickness:12,nodeInnerPadding:0,nodeBorderWidth:1,nodeBorderColor:{from:"color",modifiers:[["darker",.5]]},nodeBorderRadius:0,linkOpacity:.25,linkHoverOpacity:.6,linkHoverOthersOpacity:.15,linkContract:0,linkBlendMode:"multiply",enableLinkGradient:!1,enableLabels:!0,label:"id",labelPosition:"inside",labelPadding:9,labelOrientation:"horizontal",labelTextColor:{from:"color",modifiers:[["darker",.8]]},isInteractive:!0,nodeTooltip:function(e){var n=e.node;return l.jsx(kn,{id:n.label,enableChip:!0,color:n.color})},linkTooltip:function(e){var n=e.link;return l.jsx(kn,{id:l.jsxs("span",{style:Wn.container,children:[l.jsx(Cn,{color:n.source.color,style:Wn.sourceChip}),l.jsx("strong",{children:n.source.label})," > ",l.jsx("strong",{children:n.target.label}),l.jsx(Cn,{color:n.target.color,style:Wn.targetChip}),l.jsx("strong",{children:n.formattedValue})]})})},legends:[],layers:["links","nodes","labels","legends"],role:"img",animate:!0,motionConfig:"gentle"},Oa=function(e){return e.id},Ta=function(e){var n=e.data,t=e.valueFormat,r=e.layout,o=e.width,a=e.height,i=e.sort,d=e.align,c=e.colors,s=e.nodeThickness,f=e.nodeSpacing,h=e.nodeInnerPadding,u=e.nodeBorderColor,g=e.label,p=e.labelTextColor,k=x.useState(null),b=k[0],C=k[1],v=x.useState(null),m=v[0],y=v[1],j=x.useMemo(function(){if(i!=="auto")return i==="input"?null:i==="ascending"?function(E,ee){return E.value-ee.value}:i==="descending"?function(E,ee){return ee.value-E.value}:i},[i]),M=i==="input"?null:void 0,R=x.useMemo(function(){return typeof d=="function"?d:Ra(d)},[d]),A=Be(),T=wn(c,"id"),O=_e(u,A),w=dn(g),G=_e(p,A),J=Vn(t),D=x.useMemo(function(){return function(E){var ee=E.data,oe=E.formatValue,de=E.layout,Y=E.alignFunction,ne=E.sortFunction,me=E.linkSortMode,Oe=E.nodeThickness,ce=E.nodeSpacing,te=E.nodeInnerPadding,fe=E.width,he=E.height,pe=E.getColor,ze=E.getLabel,I=Xr().nodeAlign(Y).nodeSort(ne).linkSort(me).nodeWidth(Oe).nodePadding(ce).size(de==="horizontal"?[fe,he]:[he,fe]).nodeId(Oa),P=Dt(ee);return I(P),P.nodes.forEach(function(L){if(L.color=pe(L),L.label=ze(L),L.formattedValue=oe(L.value),de==="horizontal")L.x=L.x0+te,L.y=L.y0,L.width=Math.max(L.x1-L.x0-2*te,0),L.height=Math.max(L.y1-L.y0,0);else{L.x=L.y0,L.y=L.x0+te,L.width=Math.max(L.y1-L.y0,0),L.height=Math.max(L.x1-L.x0-2*te,0);var F=L.x0,$=L.x1;L.x0=L.y0,L.x1=L.y1,L.y0=F,L.y1=$}}),P.links.forEach(function(L){L.formattedValue=oe(L.value),L.color=L.source.color,L.pos0=L.y0,L.pos1=L.y1,L.thickness=L.width,delete L.y0,delete L.y1,delete L.width}),P}({data:n,formatValue:J,layout:r,alignFunction:R,sortFunction:j,linkSortMode:M,nodeThickness:s,nodeSpacing:f,nodeInnerPadding:h,width:o,height:a,getColor:T,getLabel:w})},[n,J,r,R,j,M,s,f,h,o,a,T,w]),H=D.nodes,Z=D.links,Re=x.useMemo(function(){return H.map(function(E){return{id:E.id,label:E.label,color:E.color}})},[H]);return{nodes:H,links:Z,legendData:Re,getNodeBorderColor:O,currentNode:b,setCurrentNode:C,currentLink:m,setCurrentLink:y,getLabelTextColor:G}},wa=function(e){var n=e.node,t=e.x,r=e.y,o=e.width,a=e.height,i=e.color,d=e.opacity,c=e.borderWidth,s=e.borderColor,f=e.borderRadius,h=e.setCurrent,u=e.isInteractive,g=e.onClick,p=e.tooltip,k=He(),b=k.animate,C=k.config,v=Bt({x:t,y:r,width:o,height:a,opacity:d,color:i,config:C,immediate:!b}),m=sn(),y=m.showTooltipFromEvent,j=m.hideTooltip,M=x.useCallback(function(O){h(n),y(x.createElement(p,{node:n}),O,"left")},[h,n,y,p]),R=x.useCallback(function(O){y(x.createElement(p,{node:n}),O,"left")},[y,n,p]),A=x.useCallback(function(){h(null),j()},[h,j]),T=x.useCallback(function(O){g==null||g(n,O)},[g,n]);return l.jsx(Se.rect,{x:v.x,y:v.y,rx:f,ry:f,width:v.width.to(function(O){return Math.max(O,0)}),height:v.height.to(function(O){return Math.max(O,0)}),fill:v.color,fillOpacity:v.opacity,strokeWidth:c,stroke:s,strokeOpacity:d,onMouseEnter:u?M:void 0,onMouseMove:u?R:void 0,onMouseLeave:u?A:void 0,onClick:u?T:void 0})},Ea=function(e){var n=e.nodes,t=e.nodeOpacity,r=e.nodeHoverOpacity,o=e.nodeHoverOthersOpacity,a=e.borderWidth,i=e.getBorderColor,d=e.borderRadius,c=e.setCurrentNode,s=e.currentNode,f=e.currentLink,h=e.isCurrentNode,u=e.isInteractive,g=e.onClick,p=e.tooltip,k=function(b){return s||f?h(b)?r:o:t};return l.jsx(l.Fragment,{children:n.map(function(b){return l.jsx(wa,{node:b,x:b.x,y:b.y,width:b.width,height:b.height,color:b.color,opacity:k(b),borderWidth:a,borderColor:i(b),borderRadius:d,setCurrent:c,isInteractive:u,onClick:g,tooltip:p},b.id)})})},Ia=function(e){var n=e.id,t=e.layout,r=e.startColor,o=e.endColor;return l.jsxs("linearGradient",an({id:n,spreadMethod:"pad"},t==="horizontal"?{x1:"0%",x2:"100%",y1:"0%",y2:"0%"}:{x1:"0%",x2:"0%",y1:"0%",y2:"100%"},{children:[l.jsx("stop",{offset:"0%",stopColor:r}),l.jsx("stop",{offset:"100%",stopColor:o})]}))},Sa=function(e){var n=e.link,t=e.layout,r=e.path,o=e.color,a=e.opacity,i=e.blendMode,d=e.enableGradient,c=e.setCurrent,s=e.tooltip,f=e.isInteractive,h=e.onClick,u=n.source.id+"."+n.target.id+"."+n.index,g=He(),p=g.animate,k=g.config,b=gr(r),C=Bt({color:o,opacity:a,config:k,immediate:!p}),v=sn(),m=v.showTooltipFromEvent,y=v.hideTooltip,j=x.useCallback(function(T){c(n),m(x.createElement(s,{link:n}),T,"left")},[c,n,m,s]),M=x.useCallback(function(T){m(x.createElement(s,{link:n}),T,"left")},[m,n,s]),R=x.useCallback(function(){c(null),y()},[c,y]),A=x.useCallback(function(T){h==null||h(n,T)},[h,n]);return l.jsxs(l.Fragment,{children:[d&&l.jsx(Ia,{id:u,layout:t,startColor:n.startColor||n.source.color,endColor:n.endColor||n.target.color}),l.jsx(Se.path,{fill:d?'url("#'+encodeURI(u)+'")':C.color,d:b,fillOpacity:C.opacity,onMouseEnter:f?j:void 0,onMouseMove:f?M:void 0,onMouseLeave:f?R:void 0,onClick:f?A:void 0,style:{mixBlendMode:i}})]})},Na=function(e){var n=e.links,t=e.layout,r=e.linkOpacity,o=e.linkHoverOpacity,a=e.linkHoverOthersOpacity,i=e.linkContract,d=e.linkBlendMode,c=e.enableLinkGradient,s=e.setCurrentLink,f=e.currentLink,h=e.currentNode,u=e.isCurrentLink,g=e.isInteractive,p=e.onClick,k=e.tooltip,b=function(v){return h||f?u(v)?o:a:r},C=x.useMemo(function(){return t==="horizontal"?(v=$n().curve(Ar),function(m,y){var j=Math.max(1,m.thickness-2*y)/2,M=.12*(m.target.x0-m.source.x1),R=[[m.source.x1,m.pos0-j],[m.source.x1+M,m.pos0-j],[m.target.x0-M,m.pos1-j],[m.target.x0,m.pos1-j],[m.target.x0,m.pos1+j],[m.target.x0-M,m.pos1+j],[m.source.x1+M,m.pos0+j],[m.source.x1,m.pos0+j],[m.source.x1,m.pos0-j]];return v(R)+"Z"}):function(){var m=$n().curve(jr);return function(y,j){var M=Math.max(1,y.thickness-2*j)/2,R=.12*(y.target.y0-y.source.y1),A=[[y.pos0+M,y.source.y1],[y.pos0+M,y.source.y1+R],[y.pos1+M,y.target.y0-R],[y.pos1+M,y.target.y0],[y.pos1-M,y.target.y0],[y.pos1-M,y.target.y0-R],[y.pos0-M,y.source.y1+R],[y.pos0-M,y.source.y1],[y.pos0+M,y.source.y1]];return m(A)+"Z"}}();var v},[t]);return l.jsx(l.Fragment,{children:n.map(function(v){return l.jsx(Sa,{link:v,layout:t,path:C(v,i),color:v.color,opacity:b(v),blendMode:d,enableGradient:c,setCurrent:s,isInteractive:g,onClick:p,tooltip:k},v.source.id+"."+v.target.id+"."+v.index)})})},Ba=function(e){var n=e.nodes,t=e.layout,r=e.width,o=e.height,a=e.labelPosition,i=e.labelPadding,d=e.labelOrientation,c=e.getLabelTextColor,s=Be(),f=d==="vertical"?-90:0,h=n.map(function(b){var C,v,m;return t==="horizontal"?(v=b.y+b.height/2,b.x<r/2?a==="inside"?(C=b.x1+i,m=d==="vertical"?"middle":"start"):(C=b.x-i,m=d==="vertical"?"middle":"end"):a==="inside"?(C=b.x-i,m=d==="vertical"?"middle":"end"):(C=b.x1+i,m=d==="vertical"?"middle":"start")):t==="vertical"&&(C=b.x+b.width/2,b.y<o/2?a==="inside"?(v=b.y1+i,m=d==="vertical"?"end":"middle"):(v=b.y-i,m=d==="vertical"?"start":"middle"):a==="inside"?(v=b.y-i,m=d==="vertical"?"start":"middle"):(v=b.y1+i,m=d==="vertical"?"end":"middle")),{id:b.id,label:b.label,x:C,y:v,textAnchor:m,color:c(b)}}),u=He(),g=u.animate,p=u.config,k=pr(h.length,h.map(function(b){return{transform:"translate("+b.x+", "+b.y+") rotate("+f+")",color:b.color,config:p,immediate:!g}}));return l.jsx(l.Fragment,{children:k.map(function(b,C){var v=h[C];return l.jsx(Se.text,{dominantBaseline:"central",textAnchor:v.textAnchor,transform:b.transform,style:an({},s.labels.text,{fill:b.color,pointerEvents:"none"}),children:v.label},v.id)})})},Pa=["isInteractive","animate","motionConfig","theme","renderWrapper"],Da=function(e){var n=e.data,t=e.valueFormat,r=e.layout,o=r===void 0?S.layout:r,a=e.sort,i=a===void 0?S.sort:a,d=e.align,c=d===void 0?S.align:d,s=e.width,f=e.height,h=e.margin,u=e.colors,g=u===void 0?S.colors:u,p=e.nodeThickness,k=p===void 0?S.nodeThickness:p,b=e.nodeSpacing,C=b===void 0?S.nodeThickness:b,v=e.nodeInnerPadding,m=v===void 0?S.nodeInnerPadding:v,y=e.nodeBorderColor,j=y===void 0?S.nodeBorderColor:y,M=e.nodeOpacity,R=M===void 0?S.nodeOpacity:M,A=e.nodeHoverOpacity,T=A===void 0?S.nodeHoverOpacity:A,O=e.nodeHoverOthersOpacity,w=O===void 0?S.nodeHoverOthersOpacity:O,G=e.nodeBorderWidth,J=G===void 0?S.nodeBorderWidth:G,D=e.nodeBorderRadius,H=D===void 0?S.nodeBorderRadius:D,Z=e.linkOpacity,Re=Z===void 0?S.linkOpacity:Z,E=e.linkHoverOpacity,ee=E===void 0?S.linkHoverOpacity:E,oe=e.linkHoverOthersOpacity,de=oe===void 0?S.linkHoverOthersOpacity:oe,Y=e.linkContract,ne=Y===void 0?S.linkContract:Y,me=e.linkBlendMode,Oe=me===void 0?S.linkBlendMode:me,ce=e.enableLinkGradient,te=ce===void 0?S.enableLinkGradient:ce,fe=e.enableLabels,he=fe===void 0?S.enableLabels:fe,pe=e.labelPosition,ze=pe===void 0?S.labelPosition:pe,I=e.labelPadding,P=I===void 0?S.labelPadding:I,L=e.labelOrientation,F=L===void 0?S.labelOrientation:L,$=e.label,U=$===void 0?S.label:$,ae=e.labelTextColor,be=ae===void 0?S.labelTextColor:ae,_=e.nodeTooltip,se=_===void 0?S.nodeTooltip:_,le=e.linkTooltip,X=le===void 0?S.linkTooltip:le,Te=e.isInteractive,ye=Te===void 0?S.isInteractive:Te,ve=e.onClick,xe=e.legends,Pe=xe===void 0?S.legends:xe,K=e.layers,q=K===void 0?S.layers:K,De=e.role,Ke=De===void 0?S.role:De,ke=e.ariaLabel,tn=e.ariaLabelledBy,ln=e.ariaDescribedBy,Ue=On(s,f,h),un=Ue.margin,qe=Ue.innerWidth,Fe=Ue.innerHeight,we=Ue.outerWidth,Je=Ue.outerHeight,Ce=Ta({data:n,valueFormat:t,layout:o,width:qe,height:Fe,sort:i,align:c,colors:g,nodeThickness:k,nodeSpacing:C,nodeInnerPadding:m,nodeBorderColor:j,label:U,labelTextColor:be}),Ze=Ce.nodes,Ve=Ce.links,Ge=Ce.legendData,Qe=Ce.getNodeBorderColor,We=Ce.currentNode,rn=Ce.setCurrentNode,Me=Ce.currentLink,en=Ce.setCurrentLink,Xe=Ce.getLabelTextColor,$e=function(){return!1},Ee=function(){return!1};if(Me&&($e=function(W){var ie=W.id;return ie===Me.source.id||ie===Me.target.id},Ee=function(W){var ie=W.source,je=W.target;return ie.id===Me.source.id&&je.id===Me.target.id}),We){var re=[We.id];Ve.filter(function(W){var ie=W.source,je=W.target;return ie.id===We.id||je.id===We.id}).forEach(function(W){var ie=W.source,je=W.target;re.push(ie.id),re.push(je.id)}),re=Wr(re),$e=function(W){var ie=W.id;return re.includes(ie)},Ee=function(W){var ie=W.source,je=W.target;return ie.id===We.id||je.id===We.id}}var Ye={links:Ve,nodes:Ze,margin:un,width:s,height:f,outerWidth:we,outerHeight:Je},Ae={links:null,nodes:null,labels:null,legends:null};return q.includes("links")&&(Ae.links=l.jsx(Na,{links:Ve,layout:o,linkContract:ne,linkOpacity:Re,linkHoverOpacity:ee,linkHoverOthersOpacity:de,linkBlendMode:Oe,enableLinkGradient:te,setCurrentLink:en,currentNode:We,currentLink:Me,isCurrentLink:Ee,isInteractive:ye,onClick:ve,tooltip:X},"links")),q.includes("nodes")&&(Ae.nodes=l.jsx(Ea,{nodes:Ze,nodeOpacity:R,nodeHoverOpacity:T,nodeHoverOthersOpacity:w,borderWidth:J,borderRadius:H,getBorderColor:Qe,setCurrentNode:rn,currentNode:We,currentLink:Me,isCurrentNode:$e,isInteractive:ye,onClick:ve,tooltip:se},"nodes")),q.includes("labels")&&he&&(Ae.labels=l.jsx(Ba,{nodes:Ze,layout:o,width:qe,height:Fe,labelPosition:ze,labelPadding:P,labelOrientation:F,getLabelTextColor:Xe},"labels")),q.includes("legends")&&(Ae.legends=l.jsx(x.Fragment,{children:Pe.map(function(W,ie){return l.jsx(Nt,an({},W,{containerWidth:qe,containerHeight:Fe,data:Ge}),"legend"+ie)})},"legends")),l.jsx(Tn,{width:we,height:Je,margin:un,role:Ke,ariaLabel:ke,ariaLabelledBy:tn,ariaDescribedBy:ln,children:q.map(function(W,ie){var je;return typeof W=="function"?l.jsx(x.Fragment,{children:x.createElement(W,Ye)},ie):(je=Ae==null?void 0:Ae[W])!=null?je:null})})},Fa=function(e){var n=e.isInteractive,t=n===void 0?S.isInteractive:n,r=e.animate,o=r===void 0?S.animate:r,a=e.motionConfig,i=a===void 0?S.motionConfig:a,d=e.theme,c=e.renderWrapper,s=function(f,h){if(f==null)return{};var u,g,p={},k=Object.keys(f);for(g=0;g<k.length;g++)u=k[g],h.indexOf(u)>=0||(p[u]=f[u]);return p}(e,Pa);return l.jsx(Rn,{animate:o,isInteractive:t,motionConfig:i,renderWrapper:c,theme:d,children:l.jsx(Da,an({isInteractive:t},s))})},Wa=function(e){return l.jsx(Ln,{children:function(n){var t=n.width,r=n.height;return l.jsx(Fa,an({width:t,height:r},e))}})};const za=({data:e})=>{const{t:n}=ue();return l.jsx(Wa,{ariaLabel:n("ontology.charts.relationSankey.title"),data:e.data,margin:{top:0,right:200,bottom:0,left:0},align:"justify",colors:{scheme:"category10"},nodeOpacity:1,nodeHoverOthersOpacity:.35,nodeThickness:18,nodeSpacing:24,nodeBorderWidth:0,nodeBorderColor:{from:"color",modifiers:[["darker",.8]]},nodeBorderRadius:3,linkOpacity:.5,linkHoverOthersOpacity:.1,linkContract:3,enableLinkGradient:!0,labelPosition:"inside",labelOrientation:"horizontal",labelPadding:16,labelTextColor:{from:"color",modifiers:[["darker",1]]},legends:[{anchor:"bottom-right",direction:"column",translateX:180,itemWidth:100,itemHeight:14,itemDirection:"right-to-left",itemsSpacing:2,itemTextColor:"#999",symbolSize:14,effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})},Ga=()=>{var s,f,h,u;const{t:e}=ue(),{topicFilters:n,tags:t,northMappings:r,bridgeSubscriptions:o,southMappings:a,isLoading:i,isError:d}=Yn();return{sankeyData:x.useMemo(()=>{var m,y,j,M,R,A,T,O;const g=((y=(m=n.data)==null?void 0:m.items)==null?void 0:y.map(w=>w.topicFilter))||[],p=((M=(j=t.data)==null?void 0:j.items)==null?void 0:M.map(w=>w.name))||[],k=((A=(R=r.data)==null?void 0:R.items)==null?void 0:A.map(w=>w.topic))||[],b=[];for(const w of((T=r.data)==null?void 0:T.items)||[]){const G=p.findIndex(D=>D===w.tagName),J=k.findIndex(D=>D===w.topic);G!==-1&&J!==-1&&b.push({source:w.tagName,target:w.topic,value:1})}for(const w of((O=a.data)==null?void 0:O.items)||[]){const G=g.findIndex(D=>D===w.topicFilter),J=p.findIndex(D=>D===w.tagName);G!==-1&&J!==-1&&w.topicFilter&&w.tagName&&b.push({source:w.topicFilter,target:w.tagName,value:1})}for(const w of o.mappings||[])b.push({source:w[0],target:w[1],value:1});const C=[...k,...p,...g,...o.topics,...o.topicFilters];return!C.length||!b.length?{data:{nodes:[{id:e("branding.appName")},{id:e("ontology.error.noDataLoaded")},{id:e("ontology.error.noTopicLoaded")},{id:e("ontology.error.noTagLoaded")}],links:[{source:e("branding.appName"),target:e("ontology.error.noDataLoaded"),value:3},{source:e("ontology.error.noDataLoaded"),target:e("ontology.error.noTopicLoaded"),value:1},{source:e("ontology.error.noDataLoaded"),target:e("ontology.error.noTagLoaded"),value:1}]}}:{data:{nodes:C.map(w=>({id:w})),links:b}}},[o.mappings,o.topicFilters,o.topics,(s=r.data)==null?void 0:s.items,(f=a.data)==null?void 0:f.items,e,(h=t.data)==null?void 0:h.items,(u=n.data)==null?void 0:u.items]),isLoading:i,isError:d}},$a=()=>{const{t:e}=ue(),{sankeyData:n,isError:t,isLoading:r}=Ga();return r?l.jsx(fn,{}):t?l.jsx(hn,{type:e("ontology.error.loading")}):l.jsx(En,{"data-testid":"edge-panel-concept-flow",children:l.jsx(za,{data:n})})},Ha=()=>{const{t:e}=ue(),n={px:0,as:Jt,alignItems:"stretch"};return l.jsxs(Zr,{variant:"solid-rounded",isLazy:!0,children:[l.jsxs(Qr,{children:[l.jsx(pn,{children:e("ontology.panel.cluster")}),l.jsx(pn,{children:e("ontology.panel.wheel")}),l.jsx(pn,{children:e("ontology.panel.chord")}),l.jsx(pn,{children:e("ontology.panel.sankey")}),nt.features.WORKSPACE_EXPERIMENTAL]}),l.jsxs(eo,{children:[l.jsx(gn,{...n,children:l.jsx($i,{})}),l.jsx(gn,{...n,children:l.jsx(hi,{})}),l.jsx(gn,{...n,children:l.jsx(ja,{})}),l.jsx(gn,{...n,children:l.jsx($a,{})}),nt.features.WORKSPACE_EXPERIMENTAL]})]})},Qs=({isOpen:e,selectedNode:n,onClose:t})=>{const{t:r}=ue();return l.jsx(er,{header:r("workspace.property.header",{context:n.type}),subHeader:l.jsx(Zt,{type:Qt.EDGE_NODE,name:r("branding.appName")}),isOpen:e,onClose:t,children:l.jsx(Ha,{})})};export{Qs as default};
//# sourceMappingURL=EdgePropertyDrawer-B2-LjWcC.js.map
