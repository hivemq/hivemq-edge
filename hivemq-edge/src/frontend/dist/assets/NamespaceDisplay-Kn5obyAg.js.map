{"version":3,"file":"NamespaceDisplay-Kn5obyAg.js","sources":["../../src/api/hooks/useUnifiedNamespace/useGetUnifiedNamespace.ts","../../src/api/hooks/useUnifiedNamespace/useSetUnifiedNamespace.ts","../../src/modules/UnifiedNamespace/utils/namespace.utils.ts","../../src/modules/UnifiedNamespace/components/NamespaceDisplay.tsx"],"sourcesContent":["import { useQuery } from '@tanstack/react-query'\nimport { useHttpClient } from '@/api/hooks/useHttpClient/useHttpClient.ts'\nimport { QUERY_KEYS } from '@/api/utils.ts'\nimport type { ApiError, ISA95ApiBean } from '@/api/__generated__'\n\nexport const useGetUnifiedNamespace = () => {\n  const appClient = useHttpClient()\n\n  return useQuery<ISA95ApiBean, ApiError>({\n    queryKey: [QUERY_KEYS.UNIFIED_NAMESPACE],\n    queryFn: () => appClient.uns.getIsa95(),\n  })\n}\n","import { useMutation, useQueryClient } from '@tanstack/react-query'\nimport type { ApiError, ISA95ApiBean } from '@/api/__generated__'\nimport { useHttpClient } from '@/api/hooks/useHttpClient/useHttpClient.ts'\nimport { QUERY_KEYS } from '@/api/utils.ts'\n\ninterface UpdateUnifiedNamespaceProps {\n  requestBody: ISA95ApiBean\n}\n\nexport const useSetUnifiedNamespace = () => {\n  const appClient = useHttpClient()\n  const queryClient = useQueryClient()\n\n  const updateUnifiedNamespace = ({ requestBody }: UpdateUnifiedNamespaceProps) => {\n    return appClient.uns.setIsa95(requestBody)\n  }\n\n  return useMutation<unknown, ApiError, UpdateUnifiedNamespaceProps>({\n    mutationFn: updateUnifiedNamespace,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [QUERY_KEYS.UNIFIED_NAMESPACE] })\n    },\n  })\n}\n","import type { ISA95Namespace } from '@/modules/UnifiedNamespace/types.ts'\n\nexport const namespaceToStrings = (namespace: ISA95Namespace): string[] => {\n  const { enterprise, site, area, workCell, productionLine } = namespace\n  const breadcrumb = [enterprise, site, area, productionLine, workCell]\n  return breadcrumb.filter((element): element is string => !!element)\n}\n\nexport const NAMESPACE_SEPARATOR = '/'\n","import type { FC } from 'react'\nimport { Breadcrumb, BreadcrumbItem, type BreadcrumbProps, Text } from '@chakra-ui/react'\nimport type { ISA95Namespace } from '@/modules/UnifiedNamespace/types.ts'\n\nimport { NAMESPACE_SEPARATOR, namespaceToStrings } from '../utils/namespace.utils.ts'\n\ninterface NamespaceDisplayProps extends Pick<BreadcrumbProps, 'fontSize'> {\n  namespace: ISA95Namespace\n}\n\nconst NamespaceDisplay: FC<NamespaceDisplayProps> = ({ namespace, fontSize = '2xl' }) => {\n  const color = fontSize === '2xl' ? 'gray.500' : 'black'\n\n  // TODO[NVL] Maybe not a good idea to use breadcrumb as it adds role=nav\n  return (\n    <Breadcrumb\n      separator={NAMESPACE_SEPARATOR}\n      sx={{\n        ol: { flexWrap: 'wrap' },\n      }}\n    >\n      {namespaceToStrings(namespace).map((e, i) => (\n        <BreadcrumbItem key={`element-${i}`} color={color} fontWeight={600} fontSize={fontSize}>\n          <Text>{e}</Text>\n        </BreadcrumbItem>\n      ))}\n    </Breadcrumb>\n  )\n}\n\nexport default NamespaceDisplay\n"],"names":["useGetUnifiedNamespace","appClient","useHttpClient","useQuery","QUERY_KEYS","useSetUnifiedNamespace","queryClient","useQueryClient","useMutation","requestBody","namespaceToStrings","namespace","enterprise","site","area","workCell","productionLine","element","NAMESPACE_SEPARATOR","NamespaceDisplay","fontSize","color","jsx","Breadcrumb","e","i","BreadcrumbItem","Text"],"mappings":"qcAKO,MAAMA,EAAyB,IAAM,CAC1C,MAAMC,EAAYC,EAAc,EAEhC,OAAOC,EAAiC,CACtC,SAAU,CAACC,EAAW,iBAAiB,EACvC,QAAS,IAAMH,EAAU,IAAI,SAAS,CAAA,CACvC,CACH,ECHaI,EAAyB,IAAM,CAC1C,MAAMJ,EAAYC,EAAc,EAC1BI,EAAcC,EAAe,EAMnC,OAAOC,EAA4D,CACjE,WAL6B,CAAC,CAAE,YAAAC,KACzBR,EAAU,IAAI,SAASQ,CAAW,EAKzC,UAAW,IAAM,CACfH,EAAY,kBAAkB,CAAE,SAAU,CAACF,EAAW,iBAAiB,EAAG,CAAA,CAC5E,CACD,CACH,ECrBaM,EAAsBC,GAAwC,CACzE,KAAM,CAAE,WAAAC,EAAY,KAAAC,EAAM,KAAAC,EAAM,SAAAC,EAAU,eAAAC,GAAmBL,EAE7D,MADmB,CAACC,EAAYC,EAAMC,EAAME,EAAgBD,CAAQ,EAClD,OAAQE,GAA+B,CAAC,CAACA,CAAO,CACpE,EAEaC,EAAsB,ICE7BC,EAA8C,CAAC,CAAE,UAAAR,EAAW,SAAAS,EAAW,SAAY,CACjF,MAAAC,EAAQD,IAAa,MAAQ,WAAa,QAI9C,OAAAE,EAAA,IAACC,EAAA,CACC,UAAWL,EACX,GAAI,CACF,GAAI,CAAE,SAAU,MAAO,CACzB,EAEC,SAAAR,EAAmBC,CAAS,EAAE,IAAI,CAACa,EAAGC,UACpCC,EAAoC,CAAA,MAAAL,EAAc,WAAY,IAAK,SAAAD,EAClE,eAACO,EAAM,CAAA,SAAAH,CAAE,CAAA,GADU,WAAWC,CAAC,EAEjC,CACD,CAAA,CACH,CAEJ"}