"use strict";var e=require("react"),r=require("@nivo/core"),o=require("@nivo/arcs"),t=require("@nivo/tooltip"),n=require("react/jsx-runtime"),i=require("d3-hierarchy"),a=require("lodash/cloneDeep"),s=require("lodash/sortBy"),l=require("@nivo/colors");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},c.apply(this,arguments)}var d={id:"id",value:"value",cornerRadius:0,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(e){var r=e.id,o=e.formattedValue,i=e.color;return n.jsx(t.BasicTooltip,{id:r,value:o,enableChip:!0,color:i})},role:"img"},u=function(t){var n=t.data,c=t.id,u=void 0===c?d.id:c,v=t.value,h=void 0===v?d.value:v,f=t.valueFormat,p=t.radius,m=t.cornerRadius,b=void 0===m?d.cornerRadius:m,C=t.colors,M=void 0===C?d.colors:C,g=t.colorBy,L=void 0===g?d.colorBy:g,y=t.inheritColorFromParent,x=void 0===y?d.inheritColorFromParent:y,j=t.childColor,R=void 0===j?d.childColor:j,A=r.useTheme(),F=l.useOrdinalColorScale(M,L),W=l.useInheritedColor(R,A),I=r.usePropertyAccessor(u),q=r.usePropertyAccessor(h),O=r.useValueFormatter(f),P=e.useMemo((function(){var e,r=a(n),o=i.hierarchy(r).sum(q),t=i.partition().size([2*Math.PI,p*p])(o).descendants().slice(1),l=null!=(e=o.value)?e:0;return s(t,"depth").reduce((function(e,r){var o,t=I(r.data),n=r.value,i=100*n/l,a=r.ancestors().map((function(e){return I(e.data)})),s={startAngle:r.x0,endAngle:r.x1,innerRadius:Math.sqrt(r.y0),outerRadius:Math.sqrt(r.y1)};r.parent&&(o=e.find((function(e){return e.id===I(r.parent.data)})));var c={id:t,path:a,value:n,percentage:i,formattedValue:f?O(n):i.toFixed(2)+"%",color:"",arc:s,data:r.data,depth:r.depth,height:r.height};return x&&o&&c.depth>1?c.color=W(o,c):c.color=F(c),[].concat(e,[c])}),[])}),[n,p,q,I,f,O,F,x,W]);return{arcGenerator:o.useArcGenerator({cornerRadius:b}),nodes:P}},v=function(r){var o=r.nodes,t=r.arcGenerator,n=r.centerX,i=r.centerY,a=r.radius;return e.useMemo((function(){return{nodes:o,arcGenerator:t,centerX:n,centerY:i,radius:a}}),[o,t,n,i,a])},h=function(r){var i=r.center,a=r.data,s=r.arcGenerator,l=r.borderWidth,c=r.borderColor,d=r.isInteractive,u=r.onClick,v=r.onMouseEnter,h=r.onMouseMove,f=r.onMouseLeave,p=r.tooltip,m=r.transitionMode,b=t.useTooltip(),C=b.showTooltipFromEvent,M=b.hideTooltip,g=e.useMemo((function(){if(d)return function(e,r){null==u||u(e,r)}}),[d,u]),L=e.useMemo((function(){if(d)return function(r,o){C(e.createElement(p,r),o),null==v||v(r,o)}}),[d,C,p,v]),y=e.useMemo((function(){if(d)return function(r,o){C(e.createElement(p,r),o),null==h||h(r,o)}}),[d,C,p,h]),x=e.useMemo((function(){if(d)return function(e,r){M(),null==f||f(e,r)}}),[d,M,f]);return n.jsx(o.ArcsLayer,{center:i,data:a,arcGenerator:s,borderWidth:l,borderColor:c,transitionMode:m,onClick:g,onMouseEnter:L,onMouseMove:y,onMouseLeave:x})},f=["isInteractive","animate","motionConfig","theme","renderWrapper"],p=function(t){var i=t.data,a=t.id,s=void 0===a?d.id:a,l=t.value,c=void 0===l?d.value:l,f=t.valueFormat,p=t.cornerRadius,m=void 0===p?d.cornerRadius:p,b=t.layers,C=void 0===b?d.layers:b,M=t.colors,g=void 0===M?d.colors:M,L=t.colorBy,y=void 0===L?d.colorBy:L,x=t.inheritColorFromParent,j=void 0===x?d.inheritColorFromParent:x,R=t.childColor,A=void 0===R?d.childColor:R,F=t.borderWidth,W=void 0===F?d.borderWidth:F,I=t.borderColor,q=void 0===I?d.borderColor:I,O=t.margin,P=t.width,k=t.height,G=t.enableArcLabels,S=void 0===G?d.enableArcLabels:G,B=t.arcLabel,E=void 0===B?d.arcLabel:B,T=t.arcLabelsRadiusOffset,w=void 0===T?d.arcLabelsRadiusOffset:T,X=t.arcLabelsSkipAngle,Y=void 0===X?d.arcLabelsSkipAngle:X,V=t.arcLabelsTextColor,D=void 0===V?d.arcLabelsTextColor:V,K=t.arcLabelsComponent,H=t.defs,z=void 0===H?d.defs:H,J=t.fill,N=void 0===J?d.fill:J,Q=t.transitionMode,U=void 0===Q?d.transitionMode:Q,Z=t.isInteractive,$=void 0===Z?d.isInteractive:Z,_=t.onClick,ee=t.onMouseEnter,re=t.onMouseLeave,oe=t.onMouseMove,te=t.tooltip,ne=void 0===te?d.tooltip:te,ie=t.role,ae=void 0===ie?d.role:ie,se=r.useDimensions(P,k,O),le=se.innerHeight,ce=se.innerWidth,de=se.margin,ue=se.outerHeight,ve=se.outerWidth,he=e.useMemo((function(){return{radius:Math.min(ce,le)/2,centerX:ce/2,centerY:le/2}}),[le,ce]),fe=he.centerX,pe=he.centerY,me=he.radius,be=u({data:i,id:s,value:c,valueFormat:f,radius:me,cornerRadius:m,colors:g,colorBy:y,inheritColorFromParent:j,childColor:A}),Ce=be.arcGenerator,Me=be.nodes,ge=r.bindDefs(z,Me,N,{dataKey:".",colorKey:"color",targetKey:"fill"}),Le={arcs:null,arcLabels:null};C.includes("arcs")&&(Le.arcs=n.jsx(h,{center:[fe,pe],data:Me,arcGenerator:Ce,borderWidth:W,borderColor:q,transitionMode:U,isInteractive:$,tooltip:ne,onClick:_,onMouseEnter:ee,onMouseLeave:re,onMouseMove:oe},"arcs")),S&&C.includes("arcLabels")&&(Le.arcLabels=n.jsx(o.ArcLabelsLayer,{center:[fe,pe],data:Me,label:E,radiusOffset:w,skipAngle:Y,textColor:D,transitionMode:U,component:K},"arcLabels"));var ye=v({nodes:Me,arcGenerator:Ce,centerX:fe,centerY:pe,radius:me});return n.jsx(r.SvgWrapper,{width:ve,height:ue,defs:ge,margin:de,role:ae,children:C.map((function(r,o){return void 0!==Le[r]?Le[r]:"function"==typeof r?n.jsx(e.Fragment,{children:e.createElement(r,ye)},o):null}))})},m=function(e){var o=e.isInteractive,t=void 0===o?d.isInteractive:o,i=e.animate,a=void 0===i?d.animate:i,s=e.motionConfig,l=void 0===s?d.motionConfig:s,u=e.theme,v=e.renderWrapper,h=function(e,r){if(null==e)return{};var o,t,n={},i=Object.keys(e);for(t=0;t<i.length;t++)o=i[t],r.indexOf(o)>=0||(n[o]=e[o]);return n}(e,f);return n.jsx(r.Container,{isInteractive:t,animate:a,motionConfig:l,theme:u,renderWrapper:v,children:n.jsx(p,c({isInteractive:t},h))})};exports.ResponsiveSunburst=function(e){return n.jsx(r.ResponsiveWrapper,{children:function(r){var o=r.width,t=r.height;return n.jsx(m,c({width:o,height:t},e))}})},exports.Sunburst=m,exports.defaultProps=d,exports.useSunburst=u,exports.useSunburstLayerContext=v;
//# sourceMappingURL=nivo-sunburst.cjs.js.map
