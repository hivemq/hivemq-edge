{"version":3,"file":"jsonPointer.js","names":["parseJSONPointer","pointer","path","split","shift","map","p","replace","compileJSONPointer","compileJSONPointerProp","join","pathProp","String","appendToJSONPointer","startsWithJSONPointer","searchPointer","startsWith","length"],"sources":["../../src/jsonPointer.ts"],"sourcesContent":["import type { JSONPath, JSONPointer } from './types'\n\n/**\n * Parse a JSON Pointer\n */\nexport function parseJSONPointer (pointer: JSONPointer) : string[] {\n  const path = pointer.split('/')\n  path.shift() // remove the first empty entry\n\n  return path.map(p => p.replace(/~1/g, '/').replace(/~0/g, '~'))\n}\n\n/**\n * Compile a JSON Pointer\n */\nexport function compileJSONPointer (path: JSONPath) : JSONPointer {\n  return path\n    .map(compileJSONPointerProp)\n    .join('')\n}\n\n/**\n * Compile a single path property from a JSONPath\n */\nexport function compileJSONPointerProp (pathProp: string | number) : JSONPointer {\n  return '/' + String(pathProp).replace(/~/g, '~0').replace(/\\//g, '~1')\n}\n\n/**\n * Append a path property to a JSONPointer\n */\nexport function appendToJSONPointer (pointer: JSONPointer, pathProp: string | number) : JSONPointer {\n  return pointer + compileJSONPointerProp(pathProp)\n}\n\n/**\n * Test whether `pointer` starts with `searchPointer`\n */\nexport function startsWithJSONPointer (pointer: JSONPointer, searchPointer: JSONPointer) : boolean {\n  return (\n    pointer.startsWith(searchPointer) &&\n    (pointer.length === searchPointer.length || pointer[searchPointer.length] === '/')\n  )\n}\n"],"mappings":"AAEA;AACA;AACA;AACA,OAAO,SAASA,gBAAgBA,CAAEC,OAAoB,EAAa;EACjE,MAAMC,IAAI,GAAGD,OAAO,CAACE,KAAK,CAAC,GAAG,CAAC;EAC/BD,IAAI,CAACE,KAAK,CAAC,CAAC,EAAC;;EAEb,OAAOF,IAAI,CAACG,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AACjE;;AAEA;AACA;AACA;AACA,OAAO,SAASC,kBAAkBA,CAAEN,IAAc,EAAgB;EAChE,OAAOA,IAAI,CACRG,GAAG,CAACI,sBAAsB,CAAC,CAC3BC,IAAI,CAAC,EAAE,CAAC;AACb;;AAEA;AACA;AACA;AACA,OAAO,SAASD,sBAAsBA,CAAEE,QAAyB,EAAgB;EAC/E,OAAO,GAAG,GAAGC,MAAM,CAACD,QAAQ,CAAC,CAACJ,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC;AACxE;;AAEA;AACA;AACA;AACA,OAAO,SAASM,mBAAmBA,CAAEZ,OAAoB,EAAEU,QAAyB,EAAgB;EAClG,OAAOV,OAAO,GAAGQ,sBAAsB,CAACE,QAAQ,CAAC;AACnD;;AAEA;AACA;AACA;AACA,OAAO,SAASG,qBAAqBA,CAAEb,OAAoB,EAAEc,aAA0B,EAAY;EACjG,OACEd,OAAO,CAACe,UAAU,CAACD,aAAa,CAAC,KAChCd,OAAO,CAACgB,MAAM,KAAKF,aAAa,CAACE,MAAM,IAAIhB,OAAO,CAACc,aAAa,CAACE,MAAM,CAAC,KAAK,GAAG,CAAC;AAEtF"}