import{memo as e,useMemo as o,useState as i,useCallback as t,createElement as n,Fragment as r,forwardRef as a,useRef as l,useEffect as s}from"react";import{useTheme as d,curveFromProp as c,useValueFormatter as u,useMotionConfig as h,useAnimatedPath as f,getLabelGenerator as v,DotsItem as p,withContainer as m,useDimensions as g,CartesianMarkers as y,bindDefs as x,SvgWrapper as b,ResponsiveWrapper as S,getRelativeCursor as M,isCursorInRect as C}from"@nivo/core";import{useOrdinalColorScale as w,useInheritedColor as T}from"@nivo/colors";import{Grid as k,Axes as B,renderGridLinesToCanvas as W,renderAxesToCanvas as E}from"@nivo/axes";import{BoxLegendSvg as L,renderLegendToCanvas as G}from"@nivo/legends";import{BasicTooltip as P,TableTooltip as F,Chip as O,useTooltip as V,Crosshair as I}from"@nivo/tooltip";import{line as H,area as Y}from"d3-shape";import{computeXYScalesForSeries as R}from"@nivo/scales";import A from"lodash/uniqueId";import{jsx as X,jsxs as z}from"react/jsx-runtime";import{useSpring as j,animated as D}from"@react-spring/web";import{Mesh as q,useVoronoiMesh as J,renderVoronoiToCanvas as K,renderVoronoiCellToCanvas as N}from"@nivo/voronoi";function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},Q.apply(this,arguments)}var U=e((function(e){var o=e.point;return X(P,{id:z("span",{children:["x: ",X("strong",{children:o.data.xFormatted}),", y:"," ",X("strong",{children:o.data.yFormatted})]}),enableChip:!0,color:o.serieColor})})),Z=e((function(e){var o=e.slice,i=e.axis,t=d(),n="x"===i?"y":"x";return X(F,{rows:o.points.map((function(e){return[X(O,{color:e.serieColor,style:t.tooltip.chip},"chip"),e.serieId,X("span",{style:t.tooltip.tableCellValue,children:e.data[n+"Formatted"]},"value")]}))})})),$={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:U,enableSlices:!1,debugSlices:!1,sliceTooltip:Z,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},_=Q({},$,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img",initialHiddenIds:[]}),ee=Q({},$,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),oe=function(e){var i=e.curve;return o((function(){return H().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(c(i))}),[i])},ie=function(e){var i=e.curve,t=e.yScale,n=e.areaBaselineValue;return o((function(){return Y().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(c(i)).y0(t(n))}),[i,t,n])},te=function(e){var i=e.componentId,t=e.enableSlices,n=e.points,r=e.width,a=e.height;return o((function(){if(!1===t)return[];if("x"===t){var e=new Map;return n.forEach((function(o){null!==o.data.x&&null!==o.data.y&&(e.has(o.x)?e.get(o.x).push(o):e.set(o.x,[o]))})),Array.from(e.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,t){var n,l,s=e[0],d=e[1],c=t[o-1],u=t[o+1];return n=c?s-(s-c[0])/2:s,l=u?s-n+(u[0]-s)/2:r-n,{id:"slice:"+i+":"+s,x0:n,x:s,y0:0,y:0,width:l,height:a,points:d.reverse()}}))}if("y"===t){var o=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,i){var t,n,l=e[0],s=e[1],d=i[o-1],c=i[o+1];return t=d?l-(l-d[0])/2:l,n=c?l-t+(c[0]-l)/2:a-t,{id:l,x0:0,x:0,y0:t,y:l,width:r,height:n,points:s.reverse()}}))}}),[i,t,a,n,r])},ne="line",re=function(e){var n=e.data,r=e.xScale,a=void 0===r?_.xScale:r,l=e.xFormat,s=e.yScale,c=void 0===s?_.yScale:s,h=e.yFormat,f=e.width,v=e.height,p=e.colors,m=void 0===p?_.colors:p,g=e.curve,y=void 0===g?_.curve:g,x=e.areaBaselineValue,b=void 0===x?_.areaBaselineValue:x,S=e.pointColor,M=void 0===S?_.pointColor:S,C=e.pointBorderColor,k=void 0===C?_.pointBorderColor:C,B=e.enableSlices,W=void 0===B?_.enableSlicesTooltip:B,E=e.initialHiddenIds,L=void 0===E?_.initialHiddenIds:E,G=i(A(ne))[0],P=u(l),F=u(h),O=w(m,"id"),V=d(),I=T(M,V),H=T(k,V),Y=i(null!=L?L:[]),X=Y[0],z=Y[1],j=o((function(){return R(n.filter((function(e){return-1===X.indexOf(e.id)})),a,c,f,v)}),[n,X,a,c,f,v]),D=j.xScale,q=j.yScale,J=j.series,K=o((function(){var e=n.map((function(e){return{id:e.id,label:e.id,color:O(e)}})),o=e.map((function(e){return Q({},J.find((function(o){return o.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return Q({},e,{hidden:!o.find((function(o){return o.id===e.id}))})})).reverse(),series:o}}),[n,J,O]),N=K.legendData,U=K.series,Z=t((function(e){z((function(o){return o.indexOf(e)>-1?o.filter((function(o){return o!==e})):[].concat(o,[e])}))}),[]),$=function(e){var i=e.series,t=e.getPointColor,n=e.getPointBorderColor,r=e.formatX,a=e.formatY;return o((function(){return i.reduce((function(e,o){return[].concat(e,o.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(i,l){var s={id:o.id+"."+l,index:e.length+l,serieId:o.id,serieColor:o.color,x:i.position.x,y:i.position.y};return s.color=t(o),s.borderColor=n(s),s.data=Q({},i.data,{xFormatted:r(i.data.x),yFormatted:a(i.data.y)}),s})))}),[])}),[i,t,n,r,a])}({series:U,getPointColor:I,getPointBorderColor:H,formatX:P,formatY:F}),ee=te({componentId:G,enableSlices:W,points:$,width:f,height:v});return{legendData:N,toggleSerie:Z,lineGenerator:oe({curve:y}),areaGenerator:ie({curve:y,yScale:q,areaBaselineValue:b}),getColor:O,series:U,xScale:D,yScale:q,slices:ee,points:$}},ae=function(e){var o=e.areaBlendMode,i=e.areaOpacity,t=e.color,n=e.fill,r=e.path,a=h(),l=a.animate,s=a.config,d=f(r),c=j({color:t,config:s,immediate:!l});return X(D.path,{d:d,fill:n||c.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:o}})},le=e((function(e){var o=e.areaGenerator,i=e.areaOpacity,t=e.areaBlendMode,n=e.lines.slice(0).reverse();return X("g",{children:n.map((function(e){return X(ae,Q({path:o(e.data.map((function(e){return e.position})))},Q({areaOpacity:i,areaBlendMode:t},e)),e.id)}))})})),se=e((function(e){var i=e.lineGenerator,t=e.points,n=e.color,r=e.thickness,a=o((function(){return i(t)}),[i,t]),l=f(a);return X(D.path,{d:l,fill:"none",strokeWidth:r,stroke:n})})),de=e((function(e){var o=e.lines,i=e.lineGenerator,t=e.lineWidth;return o.slice(0).reverse().map((function(e){var o=e.id,n=e.data,r=e.color;return X(se,{id:o,points:n.map((function(e){return e.position})),lineGenerator:i,color:r,thickness:t},o)}))})),ce=e((function(e){var o=e.slice,i=e.slices,r=e.axis,a=e.debug,l=e.tooltip,s=e.isCurrent,d=e.setCurrent,c=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,f=e.onClick,v=e.onTouchStart,p=e.onTouchMove,m=e.onTouchEnd,g=V(),y=g.showTooltipFromEvent,x=g.hideTooltip,b=t((function(e){y(n(l,{slice:o,axis:r}),e,"right"),d(o),c&&c(o,e)}),[y,l,o,r,d,c]),S=t((function(e){y(n(l,{slice:o,axis:r}),e,"right"),u&&u(o,e)}),[y,l,o,r,u]),M=t((function(e){x(),d(null),h&&h(o,e)}),[x,d,h,o]),C=t((function(e){f&&f(o,e)}),[o,f]),w=t((function(e){y(n(l,{slice:o,axis:r}),e,"right"),d(o),v&&v(o,e)}),[r,v,d,y,o,l]),T=t((function(e){var t=e.touches[0],a=document.elementFromPoint(t.clientX,t.clientY),s=null==a?void 0:a.getAttribute("data-ref");if(s){var c=i.find((function(e){return e.id===s}));c&&(y(n(l,{slice:c,axis:r}),e,"right"),d(c))}p&&p(o,e)}),[r,p,d,y,o,i,l]),k=t((function(e){x(),d(null),m&&m(o,e)}),[x,d,m,o]);return X("rect",{x:o.x0,y:o.y0,width:o.width,height:o.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:b,onMouseMove:S,onMouseLeave:M,onClick:C,onTouchStart:w,onTouchMove:T,onTouchEnd:k,"data-ref":o.id})})),ue=e((function(e){var o=e.slices,i=e.axis,t=e.debug,n=e.height,r=e.tooltip,a=e.current,l=e.setCurrent,s=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,u=e.onClick,h=e.onTouchStart,f=e.onTouchMove,v=e.onTouchEnd;return o.map((function(e){return X(ce,{slice:e,slices:o,axis:i,debug:t,height:n,tooltip:r,setCurrent:l,isCurrent:null!==a&&a.id===e.id,onMouseEnter:s,onMouseMove:d,onMouseLeave:c,onClick:u,onTouchStart:h,onTouchMove:f,onTouchEnd:v},e.id)}))})),he=e((function(e){var o=e.points,i=e.symbol,t=e.size,n=e.borderWidth,r=e.enableLabel,a=e.label,l=e.labelYOffset,s=d(),c=v(a),u=o.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:r?c(e):null}}));return X("g",{children:u.map((function(e){return X(p,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:t,color:e.fill,borderWidth:n,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:s},e.id)}))})})),fe=e((function(e){var o=e.points,i=e.width,r=e.height,a=e.margin,l=e.setCurrent,s=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,u=e.onClick,h=e.onTouchStart,f=e.onTouchMove,v=e.onTouchEnd,p=e.tooltip,m=e.debug,g=e.enableTouchCrosshair,y=V(),x=y.showTooltipAt,b=y.hideTooltip,S=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),s&&s(e,o)}),[x,p,s,a]),M=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),d&&d(e,o)}),[x,p,a.left,a.top,d]),C=t((function(e,o){b(),c&&c(e,o)}),[b,c]),w=t((function(e,o){u&&u(e,o)}),[u]),T=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),h&&h(e,o)}),[a.left,a.top,h,x,p]),k=t((function(e,o){x(n(p,{point:e}),[e.x+a.left,e.y+a.top],"top"),f&&f(e,o)}),[a.left,a.top,f,x,p]),B=t((function(e,o){b(),v&&v(e,o)}),[v,b]);return X(q,{nodes:o,width:i,height:r,setCurrent:l,onMouseEnter:S,onMouseMove:M,onMouseLeave:C,onClick:w,onTouchStart:T,onTouchMove:k,onTouchEnd:B,enableTouchCrosshair:g,debug:m})})),ve=m((function(e){var o=e.data,t=e.xScale,n=void 0===t?{type:"point"}:t,a=e.xFormat,l=e.yScale,s=void 0===l?{type:"linear",min:0,max:"auto"}:l,c=e.yFormat,u=e.layers,h=void 0===u?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:u,f=e.curve,v=void 0===f?"linear":f,p=e.areaBaselineValue,m=void 0===p?0:p,S=e.colors,M=void 0===S?{scheme:"nivo"}:S,C=e.margin,w=e.width,W=e.height,E=e.axisTop,G=e.axisRight,P=e.axisBottom,F=void 0===P?{}:P,O=e.axisLeft,V=void 0===O?{}:O,H=e.enableGridX,Y=void 0===H||H,R=e.enableGridY,A=void 0===R||R,z=e.gridXValues,j=e.gridYValues,D=e.lineWidth,q=void 0===D?2:D,J=e.enableArea,K=void 0!==J&&J,N=e.areaOpacity,$=void 0===N?.2:N,_=e.areaBlendMode,ee=void 0===_?"normal":_,oe=e.enablePoints,ie=void 0===oe||oe,te=e.pointSymbol,ne=e.pointSize,ae=void 0===ne?6:ne,se=e.pointColor,ce=void 0===se?{from:"color"}:se,ve=e.pointBorderWidth,pe=void 0===ve?0:ve,me=e.pointBorderColor,ge=void 0===me?{theme:"background"}:me,ye=e.enablePointLabel,xe=void 0!==ye&&ye,be=e.pointLabel,Se=void 0===be?"data.yFormatted":be,Me=e.pointLabelYOffset,Ce=e.defs,we=void 0===Ce?[]:Ce,Te=e.fill,ke=void 0===Te?[]:Te,Be=e.markers,We=e.legends,Ee=void 0===We?[]:We,Le=e.isInteractive,Ge=void 0===Le||Le,Pe=e.useMesh,Fe=void 0!==Pe&&Pe,Oe=e.debugMesh,Ve=void 0!==Oe&&Oe,Ie=e.onMouseEnter,He=e.onMouseMove,Ye=e.onMouseLeave,Re=e.onClick,Ae=e.onTouchStart,Xe=e.onTouchMove,ze=e.onTouchEnd,je=e.tooltip,De=void 0===je?U:je,qe=e.enableSlices,Je=void 0!==qe&&qe,Ke=e.debugSlices,Ne=void 0!==Ke&&Ke,Qe=e.sliceTooltip,Ue=void 0===Qe?Z:Qe,Ze=e.enableCrosshair,$e=void 0===Ze||Ze,_e=e.crosshairType,eo=void 0===_e?"bottom-left":_e,oo=e.enableTouchCrosshair,io=void 0!==oo&&oo,to=e.role,no=void 0===to?"img":to,ro=e.initialHiddenIds,ao=void 0===ro?[]:ro,lo=g(w,W,C),so=lo.margin,co=lo.innerWidth,uo=lo.innerHeight,ho=lo.outerWidth,fo=lo.outerHeight,vo=re({data:o,xScale:n,xFormat:a,yScale:s,yFormat:c,width:co,height:uo,colors:M,curve:v,areaBaselineValue:m,pointColor:ce,pointBorderColor:ge,enableSlices:Je,initialHiddenIds:ao}),po=vo.legendData,mo=vo.toggleSerie,go=vo.lineGenerator,yo=vo.areaGenerator,xo=vo.series,bo=vo.xScale,So=vo.yScale,Mo=vo.slices,Co=vo.points,wo=d(),To=T(ce,wo),ko=T(ge,wo),Bo=i(null),Wo=Bo[0],Eo=Bo[1],Lo=i(null),Go=Lo[0],Po=Lo[1],Fo={grid:X(k,{theme:wo,width:co,height:uo,xScale:Y?bo:null,yScale:A?So:null,xValues:z,yValues:j},"grid"),markers:X(y,{markers:Be,width:co,height:uo,xScale:bo,yScale:So,theme:wo},"markers"),axes:X(B,{xScale:bo,yScale:So,width:co,height:uo,theme:wo,top:E,right:G,bottom:F,left:V},"axes"),areas:null,lines:X(de,{lines:xo,lineGenerator:go,lineWidth:q},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Ee.map((function(e,o){return X(L,Q({},e,{containerWidth:co,containerHeight:uo,data:e.data||po,theme:wo,toggleSerie:e.toggleSerie?mo:void 0}),"legend."+o)}))},Oo=x(we,xo,ke);return K&&(Fo.areas=X(le,{areaGenerator:yo,areaOpacity:$,areaBlendMode:ee,lines:xo},"areas")),Ge&&!1!==Je&&(Fo.slices=X(ue,{slices:Mo,axis:Je,debug:Ne,height:uo,tooltip:Ue,current:Go,setCurrent:Po,onMouseEnter:Ie,onMouseMove:He,onMouseLeave:Ye,onClick:Re,onTouchStart:Ae,onTouchMove:Xe,onTouchEnd:ze},"slices")),ie&&(Fo.points=X(he,{points:Co,symbol:te,size:ae,color:To,borderWidth:pe,borderColor:ko,enableLabel:xe,label:Se,labelYOffset:Me},"points")),Ge&&$e&&(null!==Wo&&(Fo.crosshair=X(I,{width:co,height:uo,x:Wo.x,y:Wo.y,type:eo},"crosshair")),null!==Go&&(Fo.crosshair=X(I,{width:co,height:uo,x:Go.x,y:Go.y,type:Je},"crosshair"))),Ge&&Fe&&!1===Je&&(Fo.mesh=X(fe,{points:Co,width:co,height:uo,margin:so,current:Wo,setCurrent:Eo,onMouseEnter:Ie,onMouseMove:He,onMouseLeave:Ye,onClick:Re,onTouchStart:Ae,onTouchMove:Xe,onTouchEnd:ze,tooltip:De,enableTouchCrosshair:io,debug:Ve},"mesh")),X(b,{defs:Oo,width:ho,height:fo,margin:so,role:no,children:h.map((function(o,i){return"function"==typeof o?X(r,{children:o(Q({},e,{innerWidth:co,innerHeight:uo,series:xo,slices:Mo,points:Co,xScale:bo,yScale:So,lineGenerator:go,areaGenerator:yo,currentPoint:Wo,setCurrentPoint:Eo,currentSlice:Go,setCurrentSlice:Po}))},i):Fo[o]}))})})),pe=function(e){return X(S,{children:function(o){var i=o.width,t=o.height;return X(ve,Q({width:i,height:t},e))}})},me=m((function(e){var o=l(null),r=e.width,a=e.height,c=e.margin,u=e.pixelRatio,h=void 0===u?"undefined"!=typeof window&&window.devicePixelRatio||1:u,f=e.data,v=e.xScale,p=void 0===v?{type:"point"}:v,m=e.xFormat,y=e.yScale,x=void 0===y?{type:"linear",min:0,max:"auto"}:y,b=e.yFormat,S=e.curve,w=void 0===S?"linear":S,T=e.layers,k=void 0===T?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:T,B=e.colors,L=void 0===B?{scheme:"nivo"}:B,P=e.lineWidth,F=void 0===P?2:P,O=e.enableArea,I=void 0!==O&&O,H=e.areaBaselineValue,Y=void 0===H?0:H,R=e.areaOpacity,A=void 0===R?.2:R,z=e.enablePoints,j=void 0===z||z,D=e.pointSize,q=void 0===D?6:D,Z=e.pointColor,$=void 0===Z?{from:"color"}:Z,_=e.pointBorderWidth,ee=void 0===_?0:_,oe=e.pointBorderColor,ie=void 0===oe?{theme:"background"}:oe,te=e.enableGridX,ne=void 0===te||te,ae=e.gridXValues,le=e.enableGridY,se=void 0===le||le,de=e.gridYValues,ce=e.axisTop,ue=e.axisRight,he=e.axisBottom,fe=void 0===he?{}:he,ve=e.axisLeft,pe=void 0===ve?{}:ve,me=e.legends,ge=void 0===me?[]:me,ye=e.isInteractive,xe=void 0===ye||ye,be=e.debugMesh,Se=void 0!==be&&be,Me=e.onMouseLeave,Ce=e.onClick,we=e.tooltip,Te=void 0===we?U:we,ke=e.canvasRef,Be=g(r,a,c),We=Be.margin,Ee=Be.innerWidth,Le=Be.innerHeight,Ge=Be.outerWidth,Pe=Be.outerHeight,Fe=d(),Oe=i(null),Ve=Oe[0],Ie=Oe[1],He=re({data:f,xScale:p,xFormat:m,yScale:x,yFormat:b,width:Ee,height:Le,colors:L,curve:w,areaBaselineValue:Y,pointColor:$,pointBorderColor:ie}),Ye=He.lineGenerator,Re=He.areaGenerator,Ae=He.series,Xe=He.xScale,ze=He.yScale,je=He.points,De=J({points:je,width:Ee,height:Le,debug:Se}),qe=De.delaunay,Je=De.voronoi;s((function(){ke&&(ke.current=o.current),o.current.width=Ge*h,o.current.height=Pe*h;var e=o.current.getContext("2d");e.scale(h,h),e.fillStyle=Fe.background,e.fillRect(0,0,Ge,Pe),e.translate(We.left,We.top),k.forEach((function(o){if("function"==typeof o&&o({ctx:e,innerWidth:Ee,innerHeight:Le,series:Ae,points:je,xScale:Xe,yScale:ze,lineWidth:F,lineGenerator:Ye,areaGenerator:Re,currentPoint:Ve,setCurrentPoint:Ie}),"grid"===o&&Fe.grid.line.strokeWidth>0&&(e.lineWidth=Fe.grid.line.strokeWidth,e.strokeStyle=Fe.grid.line.stroke,ne&&W(e,{width:Ee,height:Le,scale:Xe,axis:"x",values:ae}),se&&W(e,{width:Ee,height:Le,scale:ze,axis:"y",values:de})),"axes"===o&&E(e,{xScale:Xe,yScale:ze,width:Ee,height:Le,top:ce,right:ue,bottom:fe,left:pe,theme:Fe}),"areas"===o&&!0===I){e.save(),e.globalAlpha=A,Re.context(e);for(var i=Ae.length-1;i>=0;i--)e.fillStyle=Ae[i].color,e.beginPath(),Re(Ae[i].data.map((function(e){return e.position}))),e.fill();e.restore()}if("lines"===o&&(Ye.context(e),Ae.forEach((function(o){e.strokeStyle=o.color,e.lineWidth=F,e.beginPath(),Ye(o.data.map((function(e){return e.position}))),e.stroke()}))),"points"===o&&!0===j&&q>0&&je.forEach((function(o){e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,q/2,0,2*Math.PI),e.fill(),ee>0&&(e.strokeStyle=o.borderColor,e.lineWidth=ee,e.stroke())})),"mesh"===o&&!0===Se&&(K(e,Je),Ve&&N(e,Je,Ve.index)),"legends"===o){var t=Ae.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();ge.forEach((function(o){G(e,Q({},o,{data:o.data||t,containerWidth:Ee,containerHeight:Le,theme:Fe}))}))}}))}),[o,Ge,Pe,k,Fe,Ye,Ae,Xe,ze,ne,ae,se,de,ce,ue,fe,pe,ge,je,j,q,Ve]);var Ke=t((function(e){var i=M(o.current,e),t=i[0],n=i[1];if(!C(We.left,We.top,Ee,Le,t,n))return null;var r=qe.find(t-We.left,n-We.top);return je[r]}),[o,We,Ee,Le,qe]),Ne=V(),Qe=Ne.showTooltipFromEvent,Ue=Ne.hideTooltip,Ze=t((function(e){var o=Ke(e);Ie(o),o?Qe(n(Te,{point:o}),e):Ue()}),[Ke,Ie,Qe,Ue,Te]),$e=t((function(e){Ue(),Ie(null),Ve&&Me&&Me(Ve,e)}),[Ue,Ie,Me]),_e=t((function(e){if(Ce){var o=Ke(e);o&&Ce(o,e)}}),[Ke,Ce]);return X("canvas",{ref:o,width:Ge*h,height:Pe*h,style:{width:Ge,height:Pe,cursor:xe?"auto":"normal"},onMouseEnter:xe?Ze:void 0,onMouseMove:xe?Ze:void 0,onMouseLeave:xe?$e:void 0,onClick:xe?_e:void 0})})),ge=a((function(e,o){return X(me,Q({},e,{canvasRef:o}))})),ye=a((function(e,o){return X(S,{children:function(i){var t=i.width,n=i.height;return X(ge,Q({width:t,height:n},e,{ref:o}))}})}));export{ne as LINE_UNIQUE_ID_PREFIX,ve as Line,ge as LineCanvas,ee as LineCanvasDefaultProps,_ as LineDefaultProps,pe as ResponsiveLine,ye as ResponsiveLineCanvas,ie as useAreaGenerator,re as useLine,oe as useLineGenerator,te as useSlices};
//# sourceMappingURL=nivo-line.es.js.map
