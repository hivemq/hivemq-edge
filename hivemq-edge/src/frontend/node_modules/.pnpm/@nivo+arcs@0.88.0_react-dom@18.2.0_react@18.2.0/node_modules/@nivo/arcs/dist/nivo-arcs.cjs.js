"use strict";var e=require("@react-spring/web"),n=require("@nivo/core"),t=require("react/jsx-runtime"),r=require("react"),o=require("@nivo/colors"),i=require("d3-shape");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}var u={pointerEvents:"none"},s=function(r){var o=r.label,i=r.style,s=n.useTheme();return t.jsx(e.animated.g,{transform:i.transform,opacity:i.progress,style:u,children:t.jsx(e.animated.text,{textAnchor:"middle",dominantBaseline:"central",style:a({},s.labels.text,{fill:i.textColor}),children:o})})},l=function(e){var n=e%(2*Math.PI);return n<0&&(n+=2*Math.PI),n},d=function(e,t){return e.filter((function(e){return Math.abs(n.radiansToDegrees(e.arc.endAngle-e.arc.startAngle))>=t}))},c=function(e,n,t,r,o){return["A",e,e,0,n,t,r,o].join(" ")},f={startAngle:{enter:function(e){return a({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return a({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return a({},e,{startAngle:n,endAngle:n})},update:function(e){return e},leave:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return a({},e,{startAngle:n,endAngle:n})}},endAngle:{enter:function(e){return a({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return a({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return a({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return a({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return a({},e,{innerRadius:n,outerRadius:n})},update:function(e){return e},leave:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return a({},e,{innerRadius:n,outerRadius:n})}},outerRadius:{enter:function(e){return a({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return a({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return a({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return a({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return a({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return a({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},g=function(e,n){return r.useMemo((function(){var t=f[e];return{enter:function(e){return a({progress:0},t.enter(e.arc),n?n.enter(e):{})},update:function(e){return a({progress:1},t.update(e.arc),n?n.update(e):{})},leave:function(e){return a({progress:0},t.leave(e.arc),n?n.leave(e):{})}}}),[e,n])},p=function(e,t){var r=n.midAngle(e)-Math.PI/2,o=e.innerRadius+(e.outerRadius-e.innerRadius)*t;return n.positionFromAngle(r,o)},A=function(n){return function(t,r,o,i){return e.to([t,r,o,i],(function(e,t,r,o){var i=p({startAngle:e,endAngle:t,innerRadius:r,outerRadius:o},n);return"translate("+i.x+","+i.y+")"}))}},x=function(t,r,o,i){void 0===r&&(r=.5),void 0===o&&(o="innerRadius");var a=n.useMotionConfig(),u=a.animate,s=a.config,l=g(o,i);return{transition:e.useTransition(t,{keys:function(e){return e.id},initial:l.update,from:l.enter,enter:l.update,update:l.update,leave:l.leave,config:s,immediate:!u}),interpolate:A(r)}},h=function(e){var n=e.data,t=e.offset,o=void 0===t?.5:t,i=e.skipAngle,u=void 0===i?0:i,s=e.computeExtraProps,l=void 0===s?function(){return{}}:s;return r.useMemo((function(){return d(n,u).map((function(e){var n=p(e.arc,o);return a({},l(e),{x:n.x,y:n.y,data:e})}))}),[n,o,u,l])},v=s,R=function(r){var o=r.label,i=r.style,u=n.useTheme();return t.jsxs(e.animated.g,{opacity:i.opacity,children:[t.jsx(e.animated.path,{fill:"none",stroke:i.linkColor,strokeWidth:i.thickness,d:i.path}),t.jsx(e.animated.text,{transform:i.textPosition,textAnchor:i.textAnchor,dominantBaseline:"central",style:a({},u.labels.text,{fill:i.textColor}),children:o})]})},m=function(e){var n=l(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return n<Math.PI/2||n>1.5*Math.PI?"start":"end"},y=function(e,t,r,o){var i,a,u=l(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),s=n.positionFromAngle(u,e.outerRadius+t),d=n.positionFromAngle(u,e.outerRadius+t+r);return u<Math.PI/2||u>1.5*Math.PI?(i="after",a={x:d.x+o,y:d.y}):(i="before",a={x:d.x-o,y:d.y}),{side:i,points:[s,d,a]}},C=i.line().x((function(e){return e.x})).y((function(e){return e.y})),M=function(n,t,r,o,i,a,u){return e.to([n,t,r,o,i,a,u],(function(e,n,t,r,o,i,a){var u=y({startAngle:e,endAngle:n,innerRadius:t,outerRadius:r},o,i,a).points;return C(u)}))},k=function(n,t,r,o){return e.to([n,t,r,o],(function(e,n,t,r){return m({startAngle:e,endAngle:n,innerRadius:t,outerRadius:r})}))},L=function(n,t,r,o,i,a,u,s){return e.to([n,t,r,o,i,a,u,s],(function(e,n,t,r,o,i,a,u){var s=y({startAngle:e,endAngle:n,innerRadius:t,outerRadius:r},o,i,a),l=s.points,d=s.side,c=l[2];return"before"===d?c.x-=u:c.x+=u,"translate("+c.x+","+c.y+")"}))},b=function(t){var i=t.data,a=t.offset,u=void 0===a?0:a,s=t.diagonalLength,l=t.straightLength,c=t.skipAngle,f=void 0===c?0:c,g=t.textOffset,p=t.linkColor,A=t.textColor,x=n.useMotionConfig(),h=x.animate,v=x.config,R=n.useTheme(),m=o.useInheritedColor(p,R),y=o.useInheritedColor(A,R),C=function(e,n){return r.useMemo((function(){return d(e,n)}),[e,n])}(i,f),b=function(e){var n=e.offset,t=e.diagonalLength,o=e.straightLength,i=e.textOffset,a=e.getLinkColor,u=e.getTextColor;return r.useMemo((function(){return{enter:function(e){return{startAngle:e.arc.startAngle,endAngle:e.arc.endAngle,innerRadius:e.arc.innerRadius,outerRadius:e.arc.outerRadius,offset:n,diagonalLength:0,straightLength:0,textOffset:i,linkColor:a(e),textColor:u(e),opacity:0}},update:function(e){return{startAngle:e.arc.startAngle,endAngle:e.arc.endAngle,innerRadius:e.arc.innerRadius,outerRadius:e.arc.outerRadius,offset:n,diagonalLength:t,straightLength:o,textOffset:i,linkColor:a(e),textColor:u(e),opacity:1}},leave:function(e){return{startAngle:e.arc.startAngle,endAngle:e.arc.endAngle,innerRadius:e.arc.innerRadius,outerRadius:e.arc.outerRadius,offset:n,diagonalLength:0,straightLength:0,textOffset:i,linkColor:a(e),textColor:u(e),opacity:0}}}}),[t,o,i,a,u,n])}({offset:u,diagonalLength:s,straightLength:l,textOffset:g,getLinkColor:m,getTextColor:y});return{transition:e.useTransition(C,{keys:function(e){return e.id},initial:b.update,from:b.enter,enter:b.update,update:b.update,leave:b.leave,config:v,immediate:!h}),interpolateLink:M,interpolateTextAnchor:k,interpolateTextPosition:L}},T=function(e){var t=e.data,o=e.skipAngle,i=void 0===o?0:o,u=e.offset,s=void 0===u?.5:u,l=e.diagonalLength,d=e.straightLength,c=e.computeExtraProps,f=void 0===c?function(){return{}}:c,g=r.useMemo((function(){return t.filter((function(e){return Math.abs(n.radiansToDegrees(e.arc.endAngle-e.arc.startAngle))>=i})).map((function(e){return a({},y(e.arc,s,l,d),{data:e})}))}),[t,i,s,l,d]);return r.useMemo((function(){return g.map((function(e){return a({},f(e),e)}))}),[g,f])},P=R,I=["animated"],O=function(n){var o=n.datum,i=n.style,a=n.onClick,u=n.onMouseEnter,s=n.onMouseMove,l=n.onMouseLeave,d=r.useCallback((function(e){return null==a?void 0:a(o,e)}),[a,o]),c=r.useCallback((function(e){return null==u?void 0:u(o,e)}),[u,o]),f=r.useCallback((function(e){return null==s?void 0:s(o,e)}),[s,o]),g=r.useCallback((function(e){return null==l?void 0:l(o,e)}),[l,o]);return t.jsx(e.animated.path,{d:i.path,opacity:i.opacity,fill:o.fill||i.color,stroke:i.borderColor,strokeWidth:i.borderWidth,onClick:a?d:void 0,onMouseEnter:u?c:void 0,onMouseMove:s?f:void 0,onMouseLeave:l?g:void 0})},j=function(n,t,r,o,i){return e.to([n,t,r,o],(function(e,n,t,r){return i({startAngle:e,endAngle:n,innerRadius:Math.max(0,t),outerRadius:Math.max(0,r)})}))},E=function(t,r,o){void 0===r&&(r="innerRadius");var i=n.useMotionConfig(),a=i.animate,u=i.config,s=g(r,o);return{transition:e.useTransition(t,{keys:function(e){return e.id},initial:s.update,from:s.enter,enter:s.update,update:s.update,leave:s.leave,config:u,immediate:!a}),interpolate:j}},F=function(e,t,r,o,i,a){var u=n.getDistance(i,a,e,t);return u<r&&u>o};exports.ArcLabelComponent=v,exports.ArcLabelsLayer=function(e){var i=e.center,u=e.data,l=e.transitionMode,d=e.label,c=e.radiusOffset,f=e.skipAngle,g=e.textColor,p=e.component,A=void 0===p?s:p,h=n.usePropertyAccessor(d),v=n.useTheme(),R=o.useInheritedColor(g,v),m=r.useMemo((function(){return u.filter((function(e){return Math.abs(n.radiansToDegrees(e.arc.endAngle-e.arc.startAngle))>=f}))}),[u,f]),y=x(m,c,l),C=y.transition,M=y.interpolate,k=A;return t.jsx("g",{transform:"translate("+i[0]+","+i[1]+")",children:C((function(e,n){return r.createElement(k,{key:n.id,datum:n,label:h(n),style:a({},e,{transform:M(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius),textColor:R(n)})})}))})},exports.ArcLine=function(r){var o=r.animated,i=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(r,I);return t.jsx(e.animated.path,a({d:e.to([o.radius,o.startAngle,o.endAngle],(function(e,t,r){return function(e,t,r){var o=Math.min(t,r),i=Math.max(t,r),a=n.positionFromAngle(n.degreesToRadians(i),e),u=n.positionFromAngle(n.degreesToRadians(o),e);if(i-o>=360){var s=n.positionFromAngle(n.degreesToRadians(o+180),e);return["M "+a.x+" "+a.y,c(e,1,1,s.x,s.y),"M "+a.x+" "+a.y,c(e,1,0,s.x,s.y)].join(" ")}var l=i-o<=180?0:1;return["M "+a.x+" "+a.y,c(e,l,0,u.x,u.y)].join(" ")}(e,t,r)}))},i))},exports.ArcLinkLabelComponent=P,exports.ArcLinkLabelsLayer=function(e){var o=e.center,i=e.data,u=e.label,s=e.skipAngle,l=e.offset,d=e.diagonalLength,c=e.straightLength,f=e.strokeWidth,g=e.textOffset,p=e.textColor,A=e.linkColor,x=e.component,h=void 0===x?R:x,v=n.usePropertyAccessor(u),m=b({data:i,skipAngle:s,offset:l,diagonalLength:d,straightLength:c,textOffset:g,linkColor:A,textColor:p}),y=m.transition,C=m.interpolateLink,M=m.interpolateTextAnchor,k=m.interpolateTextPosition,L=h;return t.jsx("g",{transform:"translate("+o[0]+","+o[1]+")",children:y((function(e,n){return r.createElement(L,{key:n.id,datum:n,label:v(n),style:a({},e,{thickness:f,path:C(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius,e.offset,e.diagonalLength,e.straightLength),textAnchor:M(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius),textPosition:k(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius,e.offset,e.diagonalLength,e.straightLength,e.textOffset)})})}))})},exports.ArcShape=O,exports.ArcsLayer=function(e){var i=e.center,u=e.data,s=e.arcGenerator,l=e.borderWidth,d=e.borderColor,c=e.onClick,f=e.onMouseEnter,g=e.onMouseMove,p=e.onMouseLeave,A=e.transitionMode,x=e.component,h=void 0===x?O:x,v=n.useTheme(),R=o.useInheritedColor(d,v),m=E(u,A,{enter:function(e){return{opacity:0,color:e.color,borderColor:R(e)}},update:function(e){return{opacity:1,color:e.color,borderColor:R(e)}},leave:function(e){return{opacity:0,color:e.color,borderColor:R(e)}}}),y=m.transition,C=m.interpolate,M=h;return t.jsx("g",{transform:"translate("+i[0]+","+i[1]+")",children:y((function(e,n){return r.createElement(M,{key:n.id,datum:n,style:a({},e,{borderWidth:l,path:C(e.startAngle,e.endAngle,e.innerRadius,e.outerRadius,s)}),onClick:c,onMouseEnter:f,onMouseMove:g,onMouseLeave:p})}))})},exports.arcTransitionModeById=f,exports.arcTransitionModes=["startAngle","middleAngle","endAngle","innerRadius","centerRadius","outerRadius","pushIn","pushOut"],exports.computeArcBoundingBox=function(e,t,r,o,i,a){void 0===a&&(a=!0);var u=[],s=n.positionFromAngle(n.degreesToRadians(o),r);u.push([s.x,s.y]);var l=n.positionFromAngle(n.degreesToRadians(i),r);u.push([l.x,l.y]);for(var d=Math.round(Math.min(o,i));d<=Math.round(Math.max(o,i));d++)if(d%90==0){var c=n.positionFromAngle(n.degreesToRadians(d),r);u.push([c.x,c.y])}u=u.map((function(n){var r=n[0],o=n[1];return[e+r,t+o]})),a&&u.push([e,t]);var f=u.map((function(e){return e[0]})),g=u.map((function(e){return e[1]})),p=Math.min.apply(Math,f),A=Math.max.apply(Math,f),x=Math.min.apply(Math,g);return{points:u,x:p,y:x,width:A-p,height:Math.max.apply(Math,g)-x}},exports.computeArcCenter=p,exports.computeArcLink=y,exports.computeArcLinkTextAnchor=m,exports.drawCanvasArcLabels=function(e,n,t){e.textAlign="center",e.textBaseline="middle",e.font=t.labels.text.fontSize+"px "+t.labels.text.fontFamily,n.forEach((function(n){e.fillStyle=n.textColor,e.fillText(""+n.label,n.x,n.y)}))},exports.drawCanvasArcLinkLabels=function(e,t,r,o){e.textBaseline="middle",e.font=r.labels.text.fontSize+"px "+r.labels.text.fontFamily,t.forEach((function(t){e.fillStyle=t.textColor,e.textAlign=n.textPropsByEngine.canvas.align[t.textAnchor],e.fillText(""+t.label,t.x,t.y),e.beginPath(),e.strokeStyle=t.linkColor,e.lineWidth=o,t.points.forEach((function(n,t){0===t?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y)})),e.stroke()}))},exports.findArcUnderCursor=function(e,t,r,o,i,a,u){if(F(e,t,r,o,a,u)){var s=n.getAngle(a,u,e,t);return i.find((function(e){var n=e.startAngle,t=e.endAngle;return s>=n&&s<t}))}},exports.interpolateArc=j,exports.interpolateArcCenter=A,exports.isCursorInRing=F,exports.useAnimatedArc=function(t,r){var o=n.useMotionConfig(),i=o.animate,u=o.config,s=e.useSpring({startAngle:t.arc.startAngle,endAngle:t.arc.endAngle,innerRadius:t.arc.innerRadius,outerRadius:t.arc.outerRadius,config:u,immediate:!i});return a({},s,{path:j(s.startAngle,s.endAngle,s.innerRadius,s.outerRadius,r)})},exports.useArcCenters=h,exports.useArcCentersTransition=x,exports.useArcGenerator=function(e){var n=void 0===e?{}:e,t=n.cornerRadius,o=void 0===t?0:t,a=n.padAngle,u=void 0===a?0:a;return r.useMemo((function(){return i.arc().innerRadius((function(e){return e.innerRadius})).outerRadius((function(e){return e.outerRadius})).cornerRadius(o).padAngle(u)}),[o,u])},exports.useArcLabels=function(e){var t=e.data,i=e.offset,a=e.skipAngle,u=e.label,s=e.textColor,l=n.usePropertyAccessor(u),d=n.useTheme(),c=o.useInheritedColor(s,d),f=r.useCallback((function(e){return{label:l(e),textColor:c(e)}}),[l,c]);return h({data:t,offset:i,skipAngle:a,computeExtraProps:f})},exports.useArcLinkLabels=function(e){var t=e.data,i=e.skipAngle,u=e.offset,s=e.diagonalLength,l=e.straightLength,d=e.textOffset,c=void 0===d?0:d,f=e.label,g=e.linkColor,p=e.textColor,A=n.usePropertyAccessor(f),x=n.useTheme(),h=o.useInheritedColor(g,x),v=o.useInheritedColor(p,x),R=r.useCallback((function(e){var n,t={x:e.points[2].x,y:e.points[2].y};return"before"===e.side?(t.x-=c,n="end"):(t.x+=c,n="start"),a({},t,{label:A(e.data),linkColor:h(e.data),textAnchor:n,textColor:v(e.data)})}),[A,h,v,c]);return T({data:t,skipAngle:i,offset:u,diagonalLength:s,straightLength:l,computeExtraProps:R})},exports.useArcLinkLabelsTransition=b,exports.useArcLinks=T,exports.useArcTransitionMode=g,exports.useArcsTransition=E;
//# sourceMappingURL=nivo-arcs.cjs.js.map
