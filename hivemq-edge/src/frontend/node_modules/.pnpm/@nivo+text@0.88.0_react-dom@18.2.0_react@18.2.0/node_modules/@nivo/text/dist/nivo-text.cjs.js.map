{"version":3,"file":"nivo-text.cjs.js","sources":["../src/Text.tsx","../src/canvas.ts"],"sourcesContent":["import { PropsWithChildren, ComponentType } from 'react'\nimport { animated } from '@react-spring/web'\nimport { TextStyle as ThemeStyle } from '@nivo/core'\n\ntype GetComponentProps<T> = T extends ComponentType<infer P> ? P : never\ntype AnimatedComponentProps = GetComponentProps<(typeof animated)['text']>\n\ntype TextProps = PropsWithChildren<\n    Omit<AnimatedComponentProps, 'style'> & {\n        style: AnimatedComponentProps['style'] &\n            Pick<ThemeStyle, 'outlineWidth' | 'outlineColor' | 'outlineOpacity'>\n    }\n>\n\nexport const Text = ({ style: fullStyle, children, ...attributes }: TextProps) => {\n    const { outlineWidth, outlineColor, outlineOpacity, ...style } = fullStyle\n\n    return (\n        <>\n            {outlineWidth > 0 && (\n                <animated.text\n                    {...attributes}\n                    style={{\n                        ...style,\n                        strokeWidth: outlineWidth * 2,\n                        stroke: outlineColor,\n                        strokeOpacity: outlineOpacity,\n                        strokeLinejoin: 'round',\n                    }}\n                >\n                    {children}\n                </animated.text>\n            )}\n            <animated.text {...attributes} style={style}>\n                {children}\n            </animated.text>\n        </>\n    )\n}\n","import { TextStyle } from '@nivo/core'\n\nexport const setCanvasFont = (ctx: CanvasRenderingContext2D, style: TextStyle) => {\n    ctx.font = `${style.fontWeight ? `${style.fontWeight} ` : ''}${style.fontSize}px ${\n        style.fontFamily\n    }`\n}\n\nexport const drawCanvasText = (\n    ctx: CanvasRenderingContext2D,\n    style: TextStyle,\n    text: string,\n    x = 0,\n    y = 0\n) => {\n    if (style.outlineWidth > 0) {\n        ctx.strokeStyle = style.outlineColor\n        ctx.lineWidth = style.outlineWidth * 2\n        ctx.lineJoin = 'round'\n        ctx.strokeText(text, x, y)\n    }\n\n    ctx.fillStyle = style.fill\n    ctx.fillText(text, x, y)\n}\n"],"names":["_ref","fullStyle","style","children","attributes","_objectWithoutPropertiesLoose","_excluded","outlineWidth","outlineColor","outlineOpacity","_excluded2","_jsxs","_Fragment","_jsx","jsx","animated","text","_extends","strokeWidth","stroke","strokeOpacity","strokeLinejoin","ctx","x","y","strokeStyle","lineWidth","lineJoin","strokeText","fillStyle","fill","fillText","font","fontWeight","fontSize","fontFamily"],"mappings":"ohBAcoB,SAAHA,GAAiE,IAApDC,EAASD,EAAhBE,MAAkBC,EAAQH,EAARG,SAAaC,EAAUC,EAAAL,EAAAM,GACpDC,EAAyDN,EAAzDM,aAAcC,EAA2CP,EAA3CO,aAAcC,EAA6BR,EAA7BQ,eAAmBP,EAAKG,EAAKJ,EAASS,GAE1E,OACIC,EAAAA,KAAAC,EAAAA,SAAA,CAAAT,SACKI,CAAAA,EAAe,GACZM,EAAAC,IAACC,EAAQA,SAACC,KAAIC,KACNb,EAAU,CACdF,MAAKe,EAAA,CAAA,EACEf,EAAK,CACRgB,YAA4B,EAAfX,EACbY,OAAQX,EACRY,cAAeX,EACfY,eAAgB,UAClBlB,SAEDA,KAGTU,EAAAA,IAACE,EAAQA,SAACC,KAAIC,EAAA,CAAA,EAAKb,EAAU,CAAEF,MAAOA,EAAMC,SACvCA,OAIjB,yBC9B8B,SAC1BmB,EACApB,EACAc,EACAO,EACAC,QADC,IAADD,IAAAA,EAAI,QACH,IAADC,IAAAA,EAAI,GAEAtB,EAAMK,aAAe,IACrBe,EAAIG,YAAcvB,EAAMM,aACxBc,EAAII,UAAiC,EAArBxB,EAAMK,aACtBe,EAAIK,SAAW,QACfL,EAAIM,WAAWZ,EAAMO,EAAGC,IAG5BF,EAAIO,UAAY3B,EAAM4B,KACtBR,EAAIS,SAASf,EAAMO,EAAGC,EAC1B,wBAtB6B,SAACF,EAA+BpB,GACzDoB,EAAIU,MAAU9B,EAAM+B,WAAgB/B,EAAM+B,WAAgB,IAAA,IAAK/B,EAAMgC,SACjEhC,MAAAA,EAAMiC,UAEd"}