{"version":3,"sources":["../src/use-id.ts"],"sourcesContent":["import { useCallback, useId as useReactId, useMemo, useState } from \"react\"\n\nexport function useId(idProp?: string, prefix?: string): string {\n  const id = useReactId()\n\n  return useMemo(\n    () => idProp || [prefix, id].filter(Boolean).join(\"-\"),\n    [idProp, prefix, id],\n  )\n}\n\n/**\n * React hook to generate ids for use in compound components\n *\n * @param idProp the external id passed from the user\n * @param prefixes array of prefixes to use\n *\n * @example\n *\n * ```js\n * const [buttonId, menuId] = useIds(\"52\", \"button\", \"menu\")\n *\n * // buttonId will be `button-52`\n * // menuId will be `menu-52`\n * ```\n */\nexport function useIds(idProp?: string, ...prefixes: string[]) {\n  const id = useId(idProp)\n  return useMemo(() => {\n    return prefixes.map((prefix) => `${prefix}-${id}`)\n  }, [id, prefixes])\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered, so we know\n * if we can use it in places such as `aria-labelledby`.\n *\n * @param partId - The unique id for the component part\n *\n * @example\n * const { ref, id } = useOptionalPart<HTMLInputElement>(`${id}-label`)\n */\nexport function useOptionalPart<T = any>(partId: string) {\n  const [id, setId] = useState<string | null>(null)\n  const ref = useCallback(\n    (node: T) => {\n      setId(node ? partId : null)\n    },\n    [partId],\n  )\n  return { ref, id, isRendered: Boolean(id) }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAoE;AAE7D,SAAS,MAAM,QAAiB,QAAyB;AAC9D,QAAM,SAAK,aAAAA,OAAW;AAEtB,aAAO;AAAA,IACL,MAAM,UAAU,CAAC,QAAQ,EAAE,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAA,IACrD,CAAC,QAAQ,QAAQ,EAAE;AAAA,EACrB;AACF;AAiBO,SAAS,OAAO,WAAoB,UAAoB;AAC7D,QAAM,KAAK,MAAM,MAAM;AACvB,aAAO,sBAAQ,MAAM;AACnB,WAAO,SAAS,IAAI,CAAC,WAAW,GAAG,MAAM,IAAI,EAAE,EAAE;AAAA,EACnD,GAAG,CAAC,IAAI,QAAQ,CAAC;AACnB;AAWO,SAAS,gBAAyB,QAAgB;AACvD,QAAM,CAAC,IAAI,KAAK,QAAI,uBAAwB,IAAI;AAChD,QAAM,UAAM;AAAA,IACV,CAAC,SAAY;AACX,YAAM,OAAO,SAAS,IAAI;AAAA,IAC5B;AAAA,IACA,CAAC,MAAM;AAAA,EACT;AACA,SAAO,EAAE,KAAK,IAAI,YAAY,QAAQ,EAAE,EAAE;AAC5C;","names":["useReactId"]}