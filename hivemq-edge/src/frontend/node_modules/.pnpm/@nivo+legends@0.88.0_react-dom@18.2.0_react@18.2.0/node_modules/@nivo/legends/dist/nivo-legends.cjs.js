"use strict";var t=require("react/jsx-runtime"),e=require("d3-scale"),i=require("@nivo/core"),n=require("@nivo/colors"),o=require("react");function r(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var l=r(o),a=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("circle",{r:o/2,cx:i+o/2,cy:n+o/2,fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})},s=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("g",{transform:"translate("+i+","+n+")",children:t.jsx("path",{d:"\n                    M"+o/2+" 0\n                    L"+.8*o+" "+o/2+"\n                    L"+o/2+" "+o+"\n                    L"+.2*o+" "+o/2+"\n                    L"+o/2+" 0\n                ",fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})})},c=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("rect",{x:i,y:n,fill:r,opacity:a,strokeWidth:c,stroke:g,width:o,height:o,style:{pointerEvents:"none"}})},d=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("g",{transform:"translate("+i+","+n+")",children:t.jsx("path",{d:"\n                M"+o/2+" 0\n                L"+o+" "+o+"\n                L0 "+o+"\n                L"+o/2+" 0\n            ",fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})})};function g(){return g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},g.apply(this,arguments)}var h={length:200,thickness:16,direction:"row",tickPosition:"after",tickSize:4,tickSpacing:3,tickOverlap:!1,tickFormat:function(t){return""+t},titleAlign:"start",titleOffset:4},u={top:0,right:0,bottom:0,left:0},f=function(t){var e,i=t.direction,n=t.itemsSpacing,o=t.padding,r=t.itemCount,l=t.itemWidth,a=t.itemHeight;if("number"!=typeof o&&("object"!=typeof(e=o)||Array.isArray(e)||null===e))throw new Error("Invalid property padding, must be one of: number, object");var s="number"==typeof o?{top:o,right:o,bottom:o,left:o}:g({},u,o),c=s.left+s.right,d=s.top+s.bottom,h=l+c,f=a+d,m=(r-1)*n;return"row"===i?h=l*r+m+c:"column"===i&&(f=a*r+m+d),{width:h,height:f,padding:s}},m=function(t){var e=t.anchor,i=t.translateX,n=t.translateY,o=t.containerWidth,r=t.containerHeight,l=t.width,a=t.height,s=i,c=n;switch(e){case"top":s+=(o-l)/2;break;case"top-right":s+=o-l;break;case"right":s+=o-l,c+=(r-a)/2;break;case"bottom-right":s+=o-l,c+=r-a;break;case"bottom":s+=(o-l)/2,c+=r-a;break;case"bottom-left":c+=r-a;break;case"left":c+=(r-a)/2;break;case"center":s+=(o-l)/2,c+=(r-a)/2}return{x:s,y:c}},v=function(t){var e,i,n,o,r,l,a=t.direction,s=t.justify,c=t.symbolSize,d=t.symbolSpacing,g=t.width,h=t.height;switch(a){case"left-to-right":e=0,i=(h-c)/2,o=h/2,l="central",s?(n=g,r="end"):(n=c+d,r="start");break;case"right-to-left":e=g-c,i=(h-c)/2,o=h/2,l="central",s?(n=0,r="start"):(n=g-c-d,r="end");break;case"top-to-bottom":e=(g-c)/2,i=0,n=g/2,r="middle",s?(o=h,l="alphabetic"):(o=c+d,l="text-before-edge");break;case"bottom-to-top":e=(g-c)/2,i=h-c,n=g/2,r="middle",s?(o=0,l="text-before-edge"):(o=h-c-d,l="alphabetic")}return{symbolX:e,symbolY:i,labelX:n,labelY:o,labelAnchor:r,labelAlignment:l}},x=function(t){var o,r=t.scale,l=t.ticks,a=t.length,s=void 0===a?h.length:a,c=t.thickness,d=void 0===c?h.thickness:c,g=t.direction,u=void 0===g?h.direction:g,f=t.tickPosition,m=void 0===f?h.tickPosition:f,v=t.tickSize,x=void 0===v?h.tickSize:v,p=t.tickSpacing,y=void 0===p?h.tickSpacing:p,b=t.tickOverlap,k=void 0===b?h.tickOverlap:b,S=t.tickFormat,C=void 0===S?h.tickFormat:S,A=t.title,j=t.titleAlign,W=void 0===j?h.titleAlign:j,z=t.titleOffset,O=void 0===z?h.titleOffset:z,w="column"===u?[].concat(r.domain()).reverse():r.domain(),X=e.scaleLinear().domain(w);2===w.length?X.range([0,s]):3===w.length&&X.range([0,s/2,s]),o="thresholds"in r?[w[0]].concat(r.thresholds(),[w[1]]):Array.isArray(l)?l:r.ticks(l);var Y,B,L,H,E,T,F=n.computeContinuousColorScaleColorStops(r,32),M=i.getValueFormatter(C),P=[],q=0,D=0;if("row"===u){var V,R,G;Y=s,B=d,D=1;var I;E=0,L="start"===W?0:"middle"===W?s/2:s,"before"===m?(V=-x,R=k?d:0,G=-x-y,I="alphabetic",H=d+O,T="hanging"):(V=k?0:d,G=(R=d+x)+y,I="hanging",H=-O,T="alphabetic"),o.forEach((function(t){var e=X(t);P.push({x1:e,y1:V,x2:e,y2:R,text:M(t),textX:e,textY:G,textHorizontalAlign:"middle",textVerticalAlign:I})}))}else{var N,Q,_,J;Y=d,B=s,q=1;E=-90,H="start"===W?s:"middle"===W?s/2:0,"before"===m?(Q=k?d:0,_=(N=-x)-y,J="end",L=d+O,T="hanging"):(N=k?0:d,_=(Q=d+x)+y,J="start",L=-O,T="alphabetic"),o.forEach((function(t){var e=X(t);P.push({x1:N,y1:e,x2:Q,y2:e,text:M(t),textX:_,textY:e,textHorizontalAlign:J,textVerticalAlign:"central"})}))}return{width:Y,height:B,gradientX1:0,gradientY1:q,gradientX2:D,gradientY2:0,colorStops:F,ticks:P,titleText:A,titleX:L,titleY:H,titleRotation:E,titleHorizontalAlign:W,titleVerticalAlign:T}},p=function(e){var n=e.scale,r=e.ticks,l=e.length,a=void 0===l?h.length:l,s=e.thickness,c=void 0===s?h.thickness:s,d=e.direction,u=void 0===d?h.direction:d,f=e.tickPosition,m=void 0===f?h.tickPosition:f,v=e.tickSize,p=void 0===v?h.tickSize:v,y=e.tickSpacing,b=void 0===y?h.tickSpacing:y,k=e.tickOverlap,S=void 0===k?h.tickOverlap:k,C=e.tickFormat,A=void 0===C?h.tickFormat:C,j=e.title,W=e.titleAlign,z=void 0===W?h.titleAlign:W,O=e.titleOffset,w=x({scale:n,ticks:r,length:a,thickness:c,direction:u,tickPosition:m,tickSize:p,tickSpacing:b,tickOverlap:S,tickFormat:A,title:j,titleAlign:z,titleOffset:void 0===O?h.titleOffset:O}),X=w.width,Y=w.height,B=w.gradientX1,L=w.gradientY1,H=w.gradientX2,E=w.gradientY2,T=w.ticks,F=w.colorStops,M=w.titleText,P=w.titleX,q=w.titleY,D=w.titleRotation,V=w.titleVerticalAlign,R=w.titleHorizontalAlign,G=i.useTheme(),I="ContinuousColorsLegendSvgGradient."+u+"."+F.map((function(t){return t.offset})).join("_");return t.jsxs("g",{children:[t.jsx("defs",{children:t.jsx("linearGradient",{id:I,x1:B,y1:L,x2:H,y2:E,children:F.map((function(e){return t.jsx("stop",g({},e))}))})}),M&&t.jsx("text",{transform:"translate("+P+", "+q+") rotate("+D+")",textAnchor:R,dominantBaseline:V,style:G.legends.title.text,children:M}),t.jsx("rect",{width:X,height:Y,fill:"url(#"+I}),T.map((function(e,i){return t.jsxs(o.Fragment,{children:[t.jsx("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,style:G.legends.ticks.line}),t.jsx("text",{x:e.textX,y:e.textY,textAnchor:e.textHorizontalAlign,dominantBaseline:e.textVerticalAlign,style:G.legends.ticks.text,children:e.text})]},i)}))]})},y=["containerWidth","containerHeight","anchor","translateX","translateY","length","thickness","direction"],b={circle:a,diamond:s,square:c,triangle:d},k=function(e){var n,r,a,s,c,d,h,u,f,m,x,p=e.x,y=e.y,k=e.width,S=e.height,C=e.data,A=e.direction,j=void 0===A?"left-to-right":A,W=e.justify,z=void 0!==W&&W,O=e.textColor,w=e.background,X=void 0===w?"transparent":w,Y=e.opacity,B=void 0===Y?1:Y,L=e.symbolShape,H=void 0===L?"square":L,E=e.symbolSize,T=void 0===E?16:E,F=e.symbolSpacing,M=void 0===F?8:F,P=e.symbolBorderWidth,q=void 0===P?0:P,D=e.symbolBorderColor,V=void 0===D?"transparent":D,R=e.onClick,G=e.onMouseEnter,I=e.onMouseLeave,N=e.toggleSerie,Q=e.effects,_=o.useState({}),J=_[0],K=_[1],U=i.useTheme(),Z=o.useCallback((function(t){if(Q){var e=Q.filter((function(t){return"hover"===t.on})).reduce((function(t,e){return g({},t,e.style)}),{});K(e)}null==G||G(C,t)}),[G,C,Q]),$=o.useCallback((function(t){if(Q){var e=Q.filter((function(t){return"hover"!==t.on})).reduce((function(t,e){return g({},t,e.style)}),{});K(e)}null==I||I(C,t)}),[I,C,Q]),tt=v({direction:j,justify:z,symbolSize:null!=(n=J.symbolSize)?n:T,symbolSpacing:M,width:k,height:S}),et=tt.symbolX,it=tt.symbolY,nt=tt.labelX,ot=tt.labelY,rt=tt.labelAnchor,lt=tt.labelAlignment,at=[R,G,I,N].some((function(t){return void 0!==t})),st="function"==typeof H?H:b[H];return t.jsxs("g",{transform:"translate("+p+","+y+")",style:{opacity:null!=(r=J.itemOpacity)?r:B},children:[t.jsx("rect",{width:k,height:S,fill:null!=(a=J.itemBackground)?a:X,style:{cursor:at?"pointer":"auto"},onClick:function(t){null==R||R(C,t),null==N||N(C.id)},onMouseEnter:Z,onMouseLeave:$}),l.createElement(st,g({id:C.id,x:et,y:it,size:null!=(s=J.symbolSize)?s:T,fill:null!=(c=null!=(d=C.fill)?d:C.color)?c:"black",borderWidth:null!=(h=J.symbolBorderWidth)?h:q,borderColor:null!=(u=J.symbolBorderColor)?u:V},C.hidden?U.legends.hidden.symbol:void 0)),t.jsx("text",{textAnchor:rt,style:g({},i.sanitizeSvgTextStyle(U.legends.text),{fill:null!=(f=null!=(m=null!=(x=J.itemTextColor)?x:O)?m:U.legends.text.fill)?f:"black",dominantBaseline:lt,pointerEvents:"none",userSelect:"none"},C.hidden?U.legends.hidden.text:void 0),x:nt,y:ot,children:C.label})]})},S=function(e){var i=e.data,n=e.x,o=e.y,r=e.direction,l=e.padding,a=void 0===l?0:l,s=e.justify,c=e.effects,d=e.itemWidth,g=e.itemHeight,h=e.itemDirection,u=void 0===h?"left-to-right":h,m=e.itemsSpacing,v=void 0===m?0:m,x=e.itemTextColor,p=e.itemBackground,y=void 0===p?"transparent":p,b=e.itemOpacity,S=void 0===b?1:b,C=e.symbolShape,A=e.symbolSize,j=e.symbolSpacing,W=e.symbolBorderWidth,z=e.symbolBorderColor,O=e.onClick,w=e.onMouseEnter,X=e.onMouseLeave,Y=e.toggleSerie,B=f({itemCount:i.length,itemWidth:d,itemHeight:g,itemsSpacing:v,direction:r,padding:a}).padding,L="row"===r?d+v:0,H="column"===r?g+v:0;return t.jsx("g",{transform:"translate("+n+","+o+")",children:i.map((function(e,i){return t.jsx(k,{data:e,x:i*L+B.left,y:i*H+B.top,width:d,height:g,direction:u,justify:s,effects:c,textColor:x,background:y,opacity:S,symbolShape:C,symbolSize:A,symbolSpacing:j,symbolBorderWidth:W,symbolBorderColor:z,onClick:O,onMouseEnter:w,onMouseLeave:X,toggleSerie:Y},i)}))})},C={start:"left",middle:"center",end:"right"};exports.AnchoredContinuousColorsLegendSvg=function(e){var i,n,o=e.containerWidth,r=e.containerHeight,l=e.anchor,a=e.translateX,s=void 0===a?0:a,c=e.translateY,d=void 0===c?0:c,u=e.length,f=void 0===u?h.length:u,v=e.thickness,x=void 0===v?h.thickness:v,b=e.direction,k=void 0===b?h.direction:b,S=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(e,y);"row"===k?(i=f,n=x):(i=x,n=f);var C=m({anchor:l,translateX:s,translateY:d,containerWidth:o,containerHeight:r,width:i,height:n}),A=C.x,j=C.y;return t.jsx("g",{transform:"translate("+A+", "+j+")",children:t.jsx(p,g({length:f,thickness:x,direction:k},S))})},exports.BoxLegendSvg=function(e){var i=e.data,n=e.containerWidth,o=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,s=void 0===a?0:a,c=e.anchor,d=e.direction,g=e.padding,h=void 0===g?0:g,u=e.justify,v=e.itemsSpacing,x=void 0===v?0:v,p=e.itemWidth,y=e.itemHeight,b=e.itemDirection,k=e.itemTextColor,C=e.itemBackground,A=e.itemOpacity,j=e.symbolShape,W=e.symbolSize,z=e.symbolSpacing,O=e.symbolBorderWidth,w=e.symbolBorderColor,X=e.onClick,Y=e.onMouseEnter,B=e.onMouseLeave,L=e.toggleSerie,H=e.effects,E=f({itemCount:i.length,itemsSpacing:x,itemWidth:p,itemHeight:y,direction:d,padding:h}),T=E.width,F=E.height,M=m({anchor:c,translateX:l,translateY:s,containerWidth:n,containerHeight:o,width:T,height:F}),P=M.x,q=M.y;return t.jsx(S,{data:i,x:P,y:q,direction:d,padding:h,justify:u,effects:H,itemsSpacing:x,itemWidth:p,itemHeight:y,itemDirection:b,itemTextColor:k,itemBackground:C,itemOpacity:A,symbolShape:j,symbolSize:W,symbolSpacing:z,symbolBorderWidth:O,symbolBorderColor:w,onClick:X,onMouseEnter:Y,onMouseLeave:B,toggleSerie:"boolean"==typeof L?void 0:L})},exports.ContinuousColorsLegendSvg=p,exports.LegendSvg=S,exports.LegendSvgItem=k,exports.SymbolCircle=a,exports.SymbolDiamond=s,exports.SymbolSquare=c,exports.SymbolTriangle=d,exports.computeContinuousColorsLegend=x,exports.computeDimensions=f,exports.computeItemLayout=v,exports.computePositionFromAnchor=m,exports.continuousColorsLegendDefaults=h,exports.renderContinuousColorLegendToCanvas=function(t,e){var n=e.containerWidth,o=e.containerHeight,r=e.anchor,l=e.translateX,a=void 0===l?0:l,s=e.translateY,c=void 0===s?0:s,d=e.scale,g=e.length,u=void 0===g?h.length:g,f=e.thickness,v=void 0===f?h.thickness:f,p=e.direction,y=void 0===p?h.direction:p,b=e.ticks,k=e.tickPosition,S=void 0===k?h.tickPosition:k,C=e.tickSize,A=void 0===C?h.tickSize:C,j=e.tickSpacing,W=void 0===j?h.tickSpacing:j,z=e.tickOverlap,O=void 0===z?h.tickOverlap:z,w=e.tickFormat,X=void 0===w?h.tickFormat:w,Y=e.title,B=e.titleAlign,L=void 0===B?h.titleAlign:B,H=e.titleOffset,E=void 0===H?h.titleOffset:H,T=e.theme,F=x({scale:d,ticks:b,length:u,thickness:v,direction:y,tickPosition:S,tickSize:A,tickSpacing:W,tickOverlap:O,tickFormat:X,title:Y,titleAlign:L,titleOffset:E}),M=F.width,P=F.height,q=F.gradientX1,D=F.gradientY1,V=F.gradientX2,R=F.gradientY2,G=F.colorStops,I=F.ticks,N=F.titleText,Q=F.titleX,_=F.titleY,J=F.titleRotation,K=F.titleVerticalAlign,U=F.titleHorizontalAlign,Z=m({anchor:r,translateX:a,translateY:c,containerWidth:n,containerHeight:o,width:M,height:P}),$=Z.x,tt=Z.y,et={font:t.font,textAlign:t.textAlign,textBaseline:t.textBaseline};t.save(),t.translate($,tt);var it=t.createLinearGradient(q*M,D*P,V*M,R*P);G.forEach((function(t){it.addColorStop(t.offset,t.stopColor)})),t.fillStyle=it,t.fillRect(0,0,M,P),t.font=(T.legends.ticks.text.fontWeight?T.legends.ticks.text.fontWeight+" ":"")+T.legends.ticks.text.fontSize+"px "+T.legends.ticks.text.fontFamily,I.forEach((function(e){var i;(null!=(i=T.legends.ticks.line.strokeWidth)?i:0)>0&&(t.lineWidth=Number(T.axis.ticks.line.strokeWidth),T.axis.ticks.line.stroke&&(t.strokeStyle=T.axis.ticks.line.stroke),t.lineCap="square",t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()),T.legends.ticks.text.fill&&(t.fillStyle=T.legends.ticks.text.fill),t.textAlign="middle"===e.textHorizontalAlign?"center":e.textHorizontalAlign,t.textBaseline="central"===e.textVerticalAlign?"middle":e.textVerticalAlign,t.fillText(e.text,e.textX,e.textY)})),N&&(t.save(),t.translate(Q,_),t.rotate(i.degreesToRadians(J)),t.font=(T.legends.title.text.fontWeight?T.legends.title.text.fontWeight+" ":"")+T.legends.title.text.fontSize+"px "+T.legends.title.text.fontFamily,T.legends.title.text.fill&&(t.fillStyle=T.legends.title.text.fill),t.textAlign="middle"===U?"center":U,t.textBaseline=K,t.fillText(N,0,0),t.restore()),t.restore(),t.font=et.font,t.textAlign=et.textAlign,t.textBaseline=et.textBaseline},exports.renderLegendToCanvas=function(t,e){var i=e.data,n=e.containerWidth,o=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,s=void 0===a?0:a,c=e.anchor,d=e.direction,g=e.padding,h=void 0===g?0:g,u=e.justify,x=void 0!==u&&u,p=e.itemsSpacing,y=void 0===p?0:p,b=e.itemWidth,k=e.itemHeight,S=e.itemDirection,A=void 0===S?"left-to-right":S,j=e.itemTextColor,W=e.symbolSize,z=void 0===W?16:W,O=e.symbolSpacing,w=void 0===O?8:O,X=e.theme,Y=f({itemCount:i.length,itemWidth:b,itemHeight:k,itemsSpacing:y,direction:d,padding:h}),B=Y.width,L=Y.height,H=Y.padding,E=m({anchor:c,translateX:l,translateY:s,containerWidth:n,containerHeight:o,width:B,height:L}),T=E.x,F=E.y,M="row"===d?b+y:0,P="column"===d?k+y:0;t.save(),t.translate(T,F),t.font=X.legends.text.fontSize+"px "+(X.legends.text.fontFamily||"sans-serif"),i.forEach((function(e,i){var n,o,r=i*M+H.left,l=i*P+H.top,a=v({direction:A,justify:x,symbolSize:z,symbolSpacing:w,width:b,height:k}),s=a.symbolX,c=a.symbolY,d=a.labelX,g=a.labelY,h=a.labelAnchor,u=a.labelAlignment;t.fillStyle=null!=(n=e.color)?n:"black",t.fillRect(r+s,l+c,z,z),t.textAlign=C[h],"central"===u&&(t.textBaseline="middle"),t.fillStyle=null!=(o=null!=j?j:X.legends.text.fill)?o:"black",t.fillText(String(e.label),r+d,l+g)})),t.restore()},exports.useQuantizeColorScaleLegendData=function(t){var e=t.scale,i=t.domain,n=t.reverse,r=void 0!==n&&n,l=t.valueFormat,a=void 0===l?function(t){return t}:l,s=t.separator,c=void 0===s?" - ":s;return o.useMemo((function(){var t=(null!=i?i:e.range()).map((function(t,i){var n=e.invertExtent(t),o=n[0],r=n[1];return{id:t,index:i,extent:[o,r],label:""+a(o)+c+a(r),value:e(o),color:t}}));return r&&t.reverse(),t}),[i,e,r,c,a])};
//# sourceMappingURL=nivo-legends.cjs.js.map
