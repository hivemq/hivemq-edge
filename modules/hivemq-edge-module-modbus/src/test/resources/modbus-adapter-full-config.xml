<hivemq>
    <protocol-adapters>
        <modbus>
            <id>my-modbus-protocol-adapter</id>
            <host>my.modbus-server.com</host>
            <port>1234</port>
            <timeout>1337</timeout>
            <modbusToMqtt>
                <pollingIntervalMillis>10</pollingIntervalMillis>
                <maxPollingErrorsBeforeRemoval>9</maxPollingErrorsBeforeRemoval>
                <publishChangedDataOnly>false</publishChangedDataOnly>
                <modbusToMqttMappings>
                    <modbusToMqttMapping>
                        <mqttTopic>my/topic</mqttTopic>
                        <qos>1</qos>
                        <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                        <addressRange>
                            <startIdx>11</startIdx>
                            <endIdx>13</endIdx>
                        </addressRange>
                        <userProperties>
                            <userProperty>
                                <name>my-name</name>
                                <value>my-value1</value>
                            </userProperty>
                            <userProperty>
                                <name>my-name</name>
                                <value>my-value2</value>
                            </userProperty>
                        </userProperties>
                        <includeTagNames>true</includeTagNames>
                        <includeTimestamp>false</includeTimestamp>
                    </modbusToMqttMapping>
                    <modbusToMqttMapping>
                        <mqttTopic>my/topic/2</mqttTopic>
                        <qos>1</qos>
                        <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                        <addressRange>
                            <startIdx>11</startIdx>
                            <endIdx>13</endIdx>
                        </addressRange>
                        <userProperties>
                            <userProperty>
                                <name>my-name</name>
                                <value>my-value1</value>
                            </userProperty>
                            <userProperty>
                                <name>my-name</name>
                                <value>my-value2</value>
                            </userProperty>
                        </userProperties>
                        <includeTagNames>true</includeTagNames>
                        <includeTimestamp>false</includeTimestamp>
                    </modbusToMqttMapping>
                </modbusToMqttMappings>
            </modbusToMqtt>

        </modbus>
    </protocol-adapters>
</hivemq>
